var vt=Object.defineProperty;var Rt=(t,e,r)=>e in t?vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var w=(t,e,r)=>Rt(t,typeof e!="symbol"?e+"":e,r);import{f as Tt,aA as S}from"./index-D951x4H-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Cn=Tt("Smartphone",Nt);var L=class extends Error{constructor(t,e){super(t,e),this.name="OTPError"}},Fe=class extends L{constructor(e){super(e),this.name="SecretError"}},Lt=class extends Fe{constructor(e,r){super(`Secret must be at least ${e} bytes (${e*8} bits), got ${r} bytes`),this.name="SecretTooShortError"}},Bt=class extends Fe{constructor(e,r){super(`Secret must not exceed ${e} bytes, got ${r} bytes`),this.name="SecretTooLongError"}},ye=class extends L{constructor(e){super(e),this.name="CounterError"}},Pt=class extends ye{constructor(){super("Counter must be non-negative"),this.name="CounterNegativeError"}},Be=class extends ye{constructor(){super("Counter exceeds maximum safe integer value"),this.name="CounterOverflowError"}},Ot=class extends ye{constructor(){super("Counter must be a finite integer"),this.name="CounterNotIntegerError"}},ze=class extends L{constructor(e){super(e),this.name="TimeError"}},_t=class extends ze{constructor(){super("Time must be non-negative"),this.name="TimeNegativeError"}},$t=class extends ze{constructor(){super("Time must be a finite number"),this.name="TimeNotFiniteError"}},Ge=class extends L{constructor(t){super(t),this.name="PeriodError"}},Ht=class extends Ge{constructor(e){super(`Period must be at least ${e} second(s)`),this.name="PeriodTooSmallError"}},Dt=class extends Ge{constructor(e){super(`Period must not exceed ${e} seconds`),this.name="PeriodTooLargeError"}},Qe=class extends L{constructor(e){super(e),this.name="TokenError"}},Ut=class extends Qe{constructor(e,r){super(`Token must be ${e} digits, got ${r}`),this.name="TokenLengthError"}},kt=class extends Qe{constructor(){super("Token must contain only digits"),this.name="TokenFormatError"}},We=class extends L{constructor(t,e){super(t,e),this.name="CryptoError"}},ee=class extends We{constructor(e,r){super(`HMAC computation failed: ${e}`,r),this.name="HMACError"}},Ft=class extends We{constructor(e,r){super(`Random byte generation failed: ${e}`,r),this.name="RandomBytesError"}},Ae=class extends L{constructor(t){super(t),this.name="CounterToleranceError"}},zt=class extends Ae{constructor(e,r){super(`Counter tolerance validation failed: total checks (${r}) exceeds MAX_WINDOW (${e})`),this.name="CounterToleranceTooLargeError"}},Gt=class extends Ae{constructor(){super("Counter tolerance cannot contain negative values"),this.name="CounterToleranceNegativeError"}},Ce=class extends L{constructor(t){super(t),this.name="EpochToleranceError"}},Qt=class extends Ce{constructor(){super("Epoch tolerance cannot contain negative values"),this.name="EpochToleranceNegativeError"}},Wt=class extends Ce{constructor(t,e){super(`Epoch tolerance must not exceed ${t} seconds, got ${e}. Large tolerances can cause performance issues.`),this.name="EpochToleranceTooLargeError"}},Ve=class extends L{constructor(e){super(e),this.name="PluginError"}},Vt=class extends Ve{constructor(){super("Crypto plugin is required."),this.name="CryptoPluginMissingError"}},Xt=class extends Ve{constructor(){super("Base32 plugin is required."),this.name="Base32PluginMissingError"}},be=class extends L{constructor(t){super(t),this.name="ConfigurationError"}},Yt=class extends be{constructor(){super("Secret is required. Use generateSecret() to create one, or provide via { secret: 'YOUR_BASE32_SECRET' }"),this.name="SecretMissingError"}},Me=class extends L{constructor(t){super(t),this.name="AfterTimeStepError"}},jt=class extends Me{constructor(){super("afterTimeStep must be >= 0"),this.name="AfterTimeStepNegativeError"}},Kt=class extends Me{constructor(){super("Invalid afterTimeStep: non-integer value"),this.name="AfterTimeStepNotIntegerError"}},qt=class extends Me{constructor(){super("Invalid afterTimeStep: cannot be greater than current time step plus window"),this.name="AfterTimeStepRangeExceededError"}},Zt=new TextEncoder;new TextDecoder;var Jt=16,er=64,tr=20,rr=1,nr=3600,or=30,sr=Number.MAX_SAFE_INTEGER,ir=99,ar=Symbol("otplib.guardrails.override"),K=Object.freeze({MIN_SECRET_BYTES:Jt,MAX_SECRET_BYTES:er,MIN_PERIOD:rr,MAX_PERIOD:nr,MAX_COUNTER:sr,MAX_WINDOW:ir,[ar]:!1});function ue(t){return K}function he(t,e=K){if(t.length<e.MIN_SECRET_BYTES)throw new Lt(e.MIN_SECRET_BYTES,t.length);if(t.length>e.MAX_SECRET_BYTES)throw new Bt(e.MAX_SECRET_BYTES,t.length)}function Xe(t,e=K){if(typeof t=="number"){if(!Number.isFinite(t)||!Number.isInteger(t))throw new Ot;if(!Number.isSafeInteger(t))throw new Be}let r=typeof t=="bigint"?t:BigInt(t);if(r<0n)throw new Pt;if(r>BigInt(e.MAX_COUNTER))throw new Be}function Ye(t){if(!Number.isFinite(t))throw new $t;if(t<0)throw new _t}function je(t,e=K){if(!Number.isInteger(t)||t<e.MIN_PERIOD)throw new Ht(e.MIN_PERIOD);if(t>e.MAX_PERIOD)throw new Dt(e.MAX_PERIOD)}function Ke(t,e){if(t.length!==e)throw new Ut(e,t.length);if(!/^\d+$/.test(t))throw new kt}function cr(t,e=K){let[r,o]=qe(t);if(!Number.isSafeInteger(r)||!Number.isSafeInteger(o))throw new Ae("Counter tolerance values must be safe integers");if(r<0||o<0)throw new Gt;let a=r+o+1;if(a>e.MAX_WINDOW)throw new zt(e.MAX_WINDOW,a)}function lr(t,e=or,r=K){let[o,a]=Array.isArray(t)?t:[t,t];if(!Number.isSafeInteger(o)||!Number.isSafeInteger(a))throw new Ce("Epoch tolerance values must be safe integers");if(o<0||a<0)throw new Qt;let c=(r.MAX_WINDOW-1)*e,u=o+a;if(u>c)throw new Wt(c,u)}function ur(t){let e=typeof t=="bigint"?t:BigInt(t),r=new ArrayBuffer(8);return new DataView(r).setBigUint64(0,e,!1),new Uint8Array(r)}function hr(t){let e=t[t.length-1]&15;return(t[e]&127)<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function fr(t,e){let r=10**e;return(t%r).toString().padStart(e,"0")}function dr(t,e){return t.length===e.length}function gr(t,e){let r=Pe(t),o=Pe(e);if(!dr(r,o))return!1;let a=0;for(let c=0;c<r.length;c++)a|=r[c]^o[c];return a===0}function Pe(t){return typeof t=="string"?Zt.encode(t):t}function fe(t,e){return typeof t=="string"?(Ze(e),e.decode(t)):t}function pr(t){let{crypto:e,base32:r,length:o=tr}=t;J(e),Ze(r);let a=e.randomBytes(o);return r.encode(a,{padding:!1})}function qe(t=0){return Array.isArray(t)?t:[0,t]}function mr(t=0){return Array.isArray(t)?t:[t,t]}function J(t){if(!t)throw new Vt}function Ze(t){if(!t)throw new Xt}function de(t){if(!t)throw new Yt}var br=class{constructor(t){this.crypto=t}get plugin(){return this.crypto}async hmac(t,e,r){try{let o=this.crypto.hmac(t,e,r);return o instanceof Promise?await o:o}catch(o){let a=o instanceof Error?o.message:String(o);throw new ee(a,{cause:o})}}hmacSync(t,e,r){try{let o=this.crypto.hmac(t,e,r);if(o instanceof Promise)throw new ee("Crypto plugin does not support synchronous HMAC operations");return o}catch(o){if(o instanceof ee)throw o;let a=o instanceof Error?o.message:String(o);throw new ee(a,{cause:o})}}randomBytes(t){try{return this.crypto.randomBytes(t)}catch(e){let r=e instanceof Error?e.message:String(e);throw new Ft(r,{cause:e})}}};function wr(t){return new br(t)}function Je(t){let{type:e,label:r,params:o}=t,a=r.split(":").map(f=>encodeURIComponent(f)).join(":"),c=`otpauth://${e}/${a}?`,u=[];return o.secret&&u.push(`secret=${encodeURIComponent(o.secret)}`),o.issuer&&u.push(`issuer=${encodeURIComponent(o.issuer)}`),o.algorithm&&o.algorithm!=="sha1"&&u.push(`algorithm=${o.algorithm.toUpperCase()}`),o.digits&&o.digits!==6&&u.push(`digits=${o.digits}`),e==="hotp"&&o.counter!==void 0&&u.push(`counter=${o.counter}`),e==="totp"&&o.period!==void 0&&o.period!==30&&u.push(`period=${o.period}`),c+=u.join("&"),c}function xr(t){let{issuer:e,label:r,secret:o,algorithm:a="sha1",digits:c=6,period:u=30}=t,f=e?`${e}:${r}`:r;return Je({type:"totp",label:f,params:{secret:o,issuer:e,algorithm:a,digits:c,period:u}})}function Er(t){let{issuer:e,label:r,secret:o,counter:a=0,algorithm:c="sha1",digits:u=6}=t,f=e?`${e}:${r}`:r;return Je({type:"hotp",label:f,params:{secret:o,issuer:e,algorithm:c,digits:u,counter:a}})}function yr(t){let{secret:e,counter:r,algorithm:o="sha1",digits:a=6,crypto:c,base32:u,guardrails:f,hooks:n}=t;de(e),J(c);let s=fe(e,u);he(s,f),Xe(r,f);let i=wr(c),l=ur(r);return{ctx:i,algorithm:o,digits:a,secretBytes:s,counterBytes:l,hooks:n}}async function et(t){let{ctx:e,algorithm:r,digits:o,secretBytes:a,counterBytes:c,hooks:u}=yr(t),f=await e.hmac(r,a,c),n=u!=null&&u.truncateDigest?u.truncateDigest(f):hr(f);return u!=null&&u.encodeToken?u.encodeToken(n,o):fr(n,o)}function Ar(t){let{secret:e,counter:r,token:o,algorithm:a="sha1",digits:c=6,crypto:u,base32:f,counterTolerance:n=0,guardrails:s=ue(),hooks:i}=t;de(e),J(u);let l=fe(e,f);he(l,s),Xe(r,s),i!=null&&i.validateToken?i.validateToken(o,c):Ke(o,c),cr(n,s);let h=typeof r=="bigint"?Number(r):r,[g,d]=qe(n),b=g+d+1;return{token:o,counterNum:h,past:g,future:d,totalChecks:b,crypto:u,getGenerateOptions:m=>({secret:l,counter:m,algorithm:a,digits:c,crypto:u,guardrails:s,hooks:i})}}async function Cr(t){let{token:e,counterNum:r,past:o,totalChecks:a,crypto:c,getGenerateOptions:u}=Ar(t),f=Math.max(0,o-r);for(let n=f;n<a;n++){let s=n-o,i=r+s,l=await et(u(i));if(c.constantTimeEqual(l,e))return{valid:!0,delta:s|0}}return{valid:!1}}function Mr(t){let{secret:e,epoch:r=Math.floor(Date.now()/1e3),t0:o=0,period:a=30,algorithm:c="sha1",digits:u=6,crypto:f,base32:n,guardrails:s=ue(),hooks:i}=t;de(e),J(f);let l=fe(e,n);he(l,s),Ye(r),je(a,s);let h=Math.floor((r-o)/a);return{secret:l,counter:h,algorithm:c,digits:u,crypto:f,guardrails:s,hooks:i}}async function Sr(t){let e=Mr(t);return et(e)}function Ir(t,e){if(t!==void 0){if(t<0)throw new jt;if(!Number.isSafeInteger(t))throw new Kt;if(t>e)throw new qt}}function vr(t,e){return e!==void 0&&t<=e}function Rr(t){let{secret:e,token:r,epoch:o=Math.floor(Date.now()/1e3),t0:a=0,period:c=30,algorithm:u="sha1",digits:f=6,crypto:n,base32:s,epochTolerance:i=0,afterTimeStep:l,guardrails:h=ue(),hooks:g}=t;de(e),J(n);let d=fe(e,s);he(d,h),Ye(o),je(c,h),g!=null&&g.validateToken?g.validateToken(r,f):Ke(r,f),lr(i,c,h);let b=Math.floor((o-a)/c),[m,C]=mr(i),y=Math.max(0,Math.floor((o-m-a)/c)),p=Math.floor((o+C-a)/c);return Ir(l,p),{token:r,crypto:n,minCounter:y,maxCounter:p,currentCounter:b,t0:a,period:c,afterTimeStep:l,getGenerateOptions:E=>({secret:d,epoch:E*c+a,t0:a,period:c,algorithm:u,digits:f,crypto:n,guardrails:h,hooks:g})}}async function Tr(t){let{token:e,crypto:r,minCounter:o,maxCounter:a,currentCounter:c,t0:u,period:f,afterTimeStep:n,getGenerateOptions:s}=Rr(t);for(let i=o;i<=a;i++){if(vr(i,n))continue;let l=await Sr(s(i));if(r.constantTimeEqual(l,e))return{valid:!0,delta:i-c,epoch:i*f+u,timeStep:i}}return{valid:!1}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tt(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function oe(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Se(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function we(t){if(!Array.isArray(t))throw new Error("array expected")}function se(t,e){if(!tt(!0,e))throw new Error(`${t}: array of strings expected`)}function Lr(t,e){if(!tt(!1,e))throw new Error(`${t}: array of numbers expected`)}function Br(...t){const e=c=>c,r=(c,u)=>f=>c(u(f)),o=t.map(c=>c.encode).reduceRight(r,e),a=t.map(c=>c.decode).reduce(r,e);return{encode:o,decode:a}}function Pr(t){const e=typeof t=="string"?t.split(""):t,r=e.length;se("alphabet",e);const o=new Map(e.map((a,c)=>[a,c]));return{encode:a=>(we(a),a.map(c=>{if(!Number.isSafeInteger(c)||c<0||c>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${c}". Allowed: ${t}`);return e[c]})),decode:a=>(we(a),a.map(c=>{oe("alphabet.decode",c);const u=o.get(c);if(u===void 0)throw new Error(`Unknown letter: "${c}". Allowed: ${t}`);return u}))}}function Or(t=""){return oe("join",t),{encode:e=>(se("join.decode",e),e.join(t)),decode:e=>(oe("join.decode",e),e.split(t))}}function _r(t,e="="){return Se(t),oe("padding",e),{encode(r){for(se("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){se("padding.decode",r);let o=r.length;if(o*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;o>0&&r[o-1]===e;o--)if((o-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,o)}}}const rt=(t,e)=>e===0?t:rt(e,t%e),ie=(t,e)=>t+(e-rt(t,e)),ge=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function Oe(t,e,r,o){if(we(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ie(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${ie(e,r)}`);let a=0,c=0;const u=ge[e],f=ge[r]-1,n=[];for(const s of t){if(Se(s),s>=u)throw new Error(`convertRadix2: invalid data word=${s} from=${e}`);if(a=a<<e|s,c+e>32)throw new Error(`convertRadix2: carry overflow pos=${c} from=${e}`);for(c+=e;c>=r;c-=r)n.push((a>>c-r&f)>>>0);const i=ge[c];if(i===void 0)throw new Error("invalid carry");a&=i-1}if(a=a<<r-c&f,!o&&c>=e)throw new Error("Excess padding");if(!o&&a>0)throw new Error(`Non-zero padding: ${a}`);return o&&c>0&&n.push(a>>>0),n}function $r(t,e=!1){if(Se(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ie(8,t)>32||ie(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!Nr(r))throw new Error("radix2.encode input should be Uint8Array");return Oe(Array.from(r),8,t,!e)},decode:r=>(Lr("radix2.decode",r),Uint8Array.from(Oe(r,t,8,e)))}}const _e=Br($r(5),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_r(5),Or(""));var Hr=class{constructor(){w(this,"name","scure")}encode(t,e={}){let{padding:r=!1}=e,o=_e.encode(t);return r?o:o.replace(/=+$/,"")}decode(t){try{let e=t.toUpperCase(),r=e.padEnd(Math.ceil(e.length/8)*8,"=");return _e.decode(r)}catch(e){throw e instanceof Error?new Error(`Invalid Base32 string: ${e.message}`):new Error("Invalid Base32 string")}}},nt=Object.freeze(new Hr);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $e(t,e=""){if(!Number.isSafeInteger(t)||t<0){const r=e&&`"${e}" `;throw new Error(`${r}expected integer >= 0, got ${t}`)}}function ae(t,e,r=""){const o=Dr(t),a=t==null?void 0:t.length,c=e!==void 0;if(!o||c&&a!==e){const u=r&&`"${r}" `,f=c?` of length ${e}`:"",n=o?`length=${a}`:`type=${typeof t}`;throw new Error(u+"expected Uint8Array"+f+", got "+n)}return t}function Ur(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash must wrapped by utils.createHasher");$e(t.outputLen),$e(t.blockLen)}function ce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kr(t,e){ae(t,void 0,"digestInto() output");const r=e.outputLen;if(t.length<r)throw new Error('"digestInto() output" expected to be of length >='+r)}function z(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function pe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function B(t,e){return t<<32-e|t>>>e}function me(t,e){return t<<e|t>>>32-e>>>0}function Ie(t,e={}){const r=(a,c)=>t(c).update(a).digest(),o=t(void 0);return r.outputLen=o.outputLen,r.blockLen=o.blockLen,r.create=a=>t(a),Object.assign(r,e),Object.freeze(r)}function Fr(t=32){const e=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(e==null?void 0:e.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return e.getRandomValues(new Uint8Array(t))}const ot=t=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,t])});class st{constructor(e,r){w(this,"oHash");w(this,"iHash");w(this,"blockLen");w(this,"outputLen");w(this,"finished",!1);w(this,"destroyed",!1);if(Ur(e),ae(r,void 0,"key"),this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(r.length>o?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),z(a)}update(e){return ce(this),this.iHash.update(e),this}digestInto(e){ce(this),ae(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:o,finished:a,destroyed:c,blockLen:u,outputLen:f}=this;return e=e,e.finished=a,e.destroyed=c,e.blockLen=u,e.outputLen=f,e.oHash=r._cloneInto(e.oHash),e.iHash=o._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const it=(t,e,r)=>new st(t,e).update(r).digest();it.create=(t,e)=>new st(t,e);function at(t,e,r){return t&e^~t&r}function ct(t,e,r){return t&e^t&r^e&r}class ve{constructor(e,r,o,a){w(this,"blockLen");w(this,"outputLen");w(this,"padOffset");w(this,"isLE");w(this,"buffer");w(this,"view");w(this,"finished",!1);w(this,"length",0);w(this,"pos",0);w(this,"destroyed",!1);this.blockLen=e,this.outputLen=r,this.padOffset=o,this.isLE=a,this.buffer=new Uint8Array(e),this.view=pe(this.buffer)}update(e){ce(this),ae(e);const{view:r,buffer:o,blockLen:a}=this,c=e.length;for(let u=0;u<c;){const f=Math.min(a-this.pos,c-u);if(f===a){const n=pe(e);for(;a<=c-u;u+=a)this.process(n,u);continue}o.set(e.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ce(this),kr(e,this),this.finished=!0;const{buffer:r,view:o,blockLen:a,isLE:c}=this;let{pos:u}=this;r[u++]=128,z(this.buffer.subarray(u)),this.padOffset>a-u&&(this.process(o,0),u=0);for(let l=u;l<a;l++)r[l]=0;o.setBigUint64(a-8,BigInt(this.length*8),c),this.process(o,0);const f=pe(e),n=this.outputLen;if(n%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const s=n/4,i=this.get();if(s>i.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<s;l++)f.setUint32(4*l,i[l],c)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const o=e.slice(0,r);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:o,length:a,finished:c,destroyed:u,pos:f}=this;return e.destroyed=u,e.finished=c,e.length=a,e.pos=f,a%r&&e.buffer.set(o),e}clone(){return this._cloneInto()}}const H=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),I=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Z=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),D=new Uint32Array(80);class zr extends ve{constructor(){super(64,20,8,!1);w(this,"A",Z[0]|0);w(this,"B",Z[1]|0);w(this,"C",Z[2]|0);w(this,"D",Z[3]|0);w(this,"E",Z[4]|0)}get(){const{A:r,B:o,C:a,D:c,E:u}=this;return[r,o,a,c,u]}set(r,o,a,c,u){this.A=r|0,this.B=o|0,this.C=a|0,this.D=c|0,this.E=u|0}process(r,o){for(let s=0;s<16;s++,o+=4)D[s]=r.getUint32(o,!1);for(let s=16;s<80;s++)D[s]=me(D[s-3]^D[s-8]^D[s-14]^D[s-16],1);let{A:a,B:c,C:u,D:f,E:n}=this;for(let s=0;s<80;s++){let i,l;s<20?(i=at(c,u,f),l=1518500249):s<40?(i=c^u^f,l=1859775393):s<60?(i=ct(c,u,f),l=2400959708):(i=c^u^f,l=3395469782);const h=me(a,5)+i+n+l+D[s]|0;n=f,f=u,u=me(c,30),c=a,a=h}a=a+this.A|0,c=c+this.B|0,u=u+this.C|0,f=f+this.D|0,n=n+this.E|0,this.set(a,c,u,f,n)}roundClean(){z(D)}destroy(){this.set(0,0,0,0,0),z(this.buffer)}}const Gr=Ie(()=>new zr),te=BigInt(2**32-1),He=BigInt(32);function Qr(t,e=!1){return e?{h:Number(t&te),l:Number(t>>He&te)}:{h:Number(t>>He&te)|0,l:Number(t&te)|0}}function Wr(t,e=!1){const r=t.length;let o=new Uint32Array(r),a=new Uint32Array(r);for(let c=0;c<r;c++){const{h:u,l:f}=Qr(t[c],e);[o[c],a[c]]=[u,f]}return[o,a]}const De=(t,e,r)=>t>>>r,Ue=(t,e,r)=>t<<32-r|e>>>r,X=(t,e,r)=>t>>>r|e<<32-r,Y=(t,e,r)=>t<<32-r|e>>>r,re=(t,e,r)=>t<<64-r|e>>>r-32,ne=(t,e,r)=>t>>>r-32|e<<64-r;function O(t,e,r,o){const a=(e>>>0)+(o>>>0);return{h:t+r+(a/2**32|0)|0,l:a|0}}const Vr=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Xr=(t,e,r,o)=>e+r+o+(t/2**32|0)|0,Yr=(t,e,r,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(o>>>0),jr=(t,e,r,o,a)=>e+r+o+a+(t/2**32|0)|0,Kr=(t,e,r,o,a)=>(t>>>0)+(e>>>0)+(r>>>0)+(o>>>0)+(a>>>0),qr=(t,e,r,o,a,c)=>e+r+o+a+c+(t/2**32|0)|0,Zr=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),U=new Uint32Array(64);class Jr extends ve{constructor(e){super(64,e,8,!1)}get(){const{A:e,B:r,C:o,D:a,E:c,F:u,G:f,H:n}=this;return[e,r,o,a,c,u,f,n]}set(e,r,o,a,c,u,f,n){this.A=e|0,this.B=r|0,this.C=o|0,this.D=a|0,this.E=c|0,this.F=u|0,this.G=f|0,this.H=n|0}process(e,r){for(let l=0;l<16;l++,r+=4)U[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const h=U[l-15],g=U[l-2],d=B(h,7)^B(h,18)^h>>>3,b=B(g,17)^B(g,19)^g>>>10;U[l]=b+U[l-7]+d+U[l-16]|0}let{A:o,B:a,C:c,D:u,E:f,F:n,G:s,H:i}=this;for(let l=0;l<64;l++){const h=B(f,6)^B(f,11)^B(f,25),g=i+h+at(f,n,s)+Zr[l]+U[l]|0,b=(B(o,2)^B(o,13)^B(o,22))+ct(o,a,c)|0;i=s,s=n,n=f,f=u+g|0,u=c,c=a,a=o,o=g+b|0}o=o+this.A|0,a=a+this.B|0,c=c+this.C|0,u=u+this.D|0,f=f+this.E|0,n=n+this.F|0,s=s+this.G|0,i=i+this.H|0,this.set(o,a,c,u,f,n,s,i)}roundClean(){z(U)}destroy(){this.set(0,0,0,0,0,0,0,0),z(this.buffer)}}class en extends Jr{constructor(){super(32);w(this,"A",H[0]|0);w(this,"B",H[1]|0);w(this,"C",H[2]|0);w(this,"D",H[3]|0);w(this,"E",H[4]|0);w(this,"F",H[5]|0);w(this,"G",H[6]|0);w(this,"H",H[7]|0)}}const lt=Wr(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tn=lt[0],rn=lt[1],k=new Uint32Array(80),F=new Uint32Array(80);class nn extends ve{constructor(e){super(128,e,16,!1)}get(){const{Ah:e,Al:r,Bh:o,Bl:a,Ch:c,Cl:u,Dh:f,Dl:n,Eh:s,El:i,Fh:l,Fl:h,Gh:g,Gl:d,Hh:b,Hl:m}=this;return[e,r,o,a,c,u,f,n,s,i,l,h,g,d,b,m]}set(e,r,o,a,c,u,f,n,s,i,l,h,g,d,b,m){this.Ah=e|0,this.Al=r|0,this.Bh=o|0,this.Bl=a|0,this.Ch=c|0,this.Cl=u|0,this.Dh=f|0,this.Dl=n|0,this.Eh=s|0,this.El=i|0,this.Fh=l|0,this.Fl=h|0,this.Gh=g|0,this.Gl=d|0,this.Hh=b|0,this.Hl=m|0}process(e,r){for(let p=0;p<16;p++,r+=4)k[p]=e.getUint32(r),F[p]=e.getUint32(r+=4);for(let p=16;p<80;p++){const E=k[p-15]|0,M=F[p-15]|0,_=X(E,M,1)^X(E,M,8)^De(E,M,7),Q=Y(E,M,1)^Y(E,M,8)^Ue(E,M,7),v=k[p-2]|0,T=F[p-2]|0,$=X(v,T,19)^re(v,T,61)^De(v,T,6),R=Y(v,T,19)^ne(v,T,61)^Ue(v,T,6),W=Yr(Q,R,F[p-7],F[p-16]),V=jr(W,_,$,k[p-7],k[p-16]);k[p]=V|0,F[p]=W|0}let{Ah:o,Al:a,Bh:c,Bl:u,Ch:f,Cl:n,Dh:s,Dl:i,Eh:l,El:h,Fh:g,Fl:d,Gh:b,Gl:m,Hh:C,Hl:y}=this;for(let p=0;p<80;p++){const E=X(l,h,14)^X(l,h,18)^re(l,h,41),M=Y(l,h,14)^Y(l,h,18)^ne(l,h,41),_=l&g^~l&b,Q=h&d^~h&m,v=Kr(y,M,Q,rn[p],F[p]),T=qr(v,C,E,_,tn[p],k[p]),$=v|0,R=X(o,a,28)^re(o,a,34)^re(o,a,39),W=Y(o,a,28)^ne(o,a,34)^ne(o,a,39),V=o&c^o&f^c&f,P=a&u^a&n^u&n;C=b|0,y=m|0,b=g|0,m=d|0,g=l|0,d=h|0,{h:l,l:h}=O(s|0,i|0,T|0,$|0),s=f|0,i=n|0,f=c|0,n=u|0,c=o|0,u=a|0;const N=Vr($,W,P);o=Xr(N,T,R,V),a=N|0}({h:o,l:a}=O(this.Ah|0,this.Al|0,o|0,a|0)),{h:c,l:u}=O(this.Bh|0,this.Bl|0,c|0,u|0),{h:f,l:n}=O(this.Ch|0,this.Cl|0,f|0,n|0),{h:s,l:i}=O(this.Dh|0,this.Dl|0,s|0,i|0),{h:l,l:h}=O(this.Eh|0,this.El|0,l|0,h|0),{h:g,l:d}=O(this.Fh|0,this.Fl|0,g|0,d|0),{h:b,l:m}=O(this.Gh|0,this.Gl|0,b|0,m|0),{h:C,l:y}=O(this.Hh|0,this.Hl|0,C|0,y|0),this.set(o,a,c,u,f,n,s,i,l,h,g,d,b,m,C,y)}roundClean(){z(k,F)}destroy(){z(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class on extends nn{constructor(){super(64);w(this,"Ah",I[0]|0);w(this,"Al",I[1]|0);w(this,"Bh",I[2]|0);w(this,"Bl",I[3]|0);w(this,"Ch",I[4]|0);w(this,"Cl",I[5]|0);w(this,"Dh",I[6]|0);w(this,"Dl",I[7]|0);w(this,"Eh",I[8]|0);w(this,"El",I[9]|0);w(this,"Fh",I[10]|0);w(this,"Fl",I[11]|0);w(this,"Gh",I[12]|0);w(this,"Gl",I[13]|0);w(this,"Hh",I[14]|0);w(this,"Hl",I[15]|0)}}const sn=Ie(()=>new en,ot(1)),an=Ie(()=>new on,ot(3));var cn=class{constructor(){w(this,"name","noble")}hmac(t,e,r){return it(t==="sha1"?Gr:t==="sha256"?sn:an,e,r)}randomBytes(t){return Fr(t)}constantTimeEqual(t,e){return gr(t,e)}},ut=Object.freeze(new cn);function ln(t){return{secret:t.secret,strategy:t.strategy??"totp",crypto:t.crypto??ut,base32:t.base32??nt,algorithm:t.algorithm??"sha1",digits:t.digits??6,period:t.period??30,epoch:t.epoch??Math.floor(Date.now()/1e3),t0:t.t0??0,counter:t.counter,guardrails:t.guardrails??ue(),hooks:t.hooks}}function un(t){return{...ln(t),token:t.token,epochTolerance:t.epochTolerance??0,counterTolerance:t.counterTolerance??0,afterTimeStep:t.afterTimeStep}}function ht(t,e,r){if(t==="totp")return r.totp();if(t==="hotp"){if(e===void 0)throw new be("Counter is required for HOTP strategy. Example: { strategy: 'hotp', counter: 0 }");return r.hotp(e)}throw new be(`Unknown OTP strategy: ${t}. Valid strategies are 'totp' or 'hotp'.`)}function Fn(t){let{crypto:e=ut,base32:r=nt,length:o=20}={};return pr({crypto:e,base32:r,length:o})}function zn(t){let{strategy:e="totp",issuer:r,label:o,secret:a,algorithm:c="sha1",digits:u=6,period:f=30,counter:n}=t;return ht(e,n,{totp:()=>xr({issuer:r,label:o,secret:a,algorithm:c,digits:u,period:f}),hotp:s=>Er({issuer:r,label:o,secret:a,algorithm:c,digits:u,counter:s})})}async function Gn(t){let e=un(t),{secret:r,token:o,crypto:a,base32:c,algorithm:u,digits:f,hooks:n}=e,s={secret:r,token:o,crypto:a,base32:c,algorithm:u,digits:f,hooks:n};return ht(e.strategy,e.counter,{totp:()=>Tr({...s,period:e.period,epoch:e.epoch,t0:e.t0,epochTolerance:e.epochTolerance,afterTimeStep:e.afterTimeStep,guardrails:e.guardrails}),hotp:i=>Cr({...s,counter:i,counterTolerance:e.counterTolerance,guardrails:e.guardrails})})}var hn=Object.defineProperty,le=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,ke=(t,e,r)=>e in t?hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xe=(t,e)=>{for(var r in e||(e={}))ft.call(e,r)&&ke(t,r,e[r]);if(le)for(var r of le(e))dt.call(e,r)&&ke(t,r,e[r]);return t},Ee=(t,e)=>{var r={};for(var o in t)ft.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&le)for(var o of le(t))e.indexOf(o)<0&&dt.call(t,o)&&(r[o]=t[o]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var G;(t=>{const e=class x{constructor(n,s,i,l){if(this.version=n,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],n<x.MIN_VERSION||n>x.MAX_VERSION)throw new RangeError("Version value out of range");if(l<-1||l>7)throw new RangeError("Mask value out of range");this.size=n*4+17;let h=[];for(let d=0;d<this.size;d++)h.push(!1);for(let d=0;d<this.size;d++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(i);if(this.drawCodewords(g),l==-1){let d=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const m=this.getPenaltyScore();m<d&&(l=b,d=m),this.applyMask(b)}}a(0<=l&&l<=7),this.mask=l,this.applyMask(l),this.drawFormatBits(l),this.isFunction=[]}static encodeText(n,s){const i=t.QrSegment.makeSegments(n);return x.encodeSegments(i,s)}static encodeBinary(n,s){const i=t.QrSegment.makeBytes(n);return x.encodeSegments([i],s)}static encodeSegments(n,s,i=1,l=40,h=-1,g=!0){if(!(x.MIN_VERSION<=i&&i<=l&&l<=x.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let d,b;for(d=i;;d++){const p=x.getNumDataCodewords(d,s)*8,E=u.getTotalBits(n,d);if(E<=p){b=E;break}if(d>=l)throw new RangeError("Data too long")}for(const p of[x.Ecc.MEDIUM,x.Ecc.QUARTILE,x.Ecc.HIGH])g&&b<=x.getNumDataCodewords(d,p)*8&&(s=p);let m=[];for(const p of n){r(p.mode.modeBits,4,m),r(p.numChars,p.mode.numCharCountBits(d),m);for(const E of p.getData())m.push(E)}a(m.length==b);const C=x.getNumDataCodewords(d,s)*8;a(m.length<=C),r(0,Math.min(4,C-m.length),m),r(0,(8-m.length%8)%8,m),a(m.length%8==0);for(let p=236;m.length<C;p^=253)r(p,8,m);let y=[];for(;y.length*8<m.length;)y.push(0);return m.forEach((p,E)=>y[E>>>3]|=p<<7-(E&7)),new x(d,s,y,h)}getModule(n,s){return 0<=n&&n<this.size&&0<=s&&s<this.size&&this.modules[s][n]}getModules(){return this.modules}drawFunctionPatterns(){for(let i=0;i<this.size;i++)this.setFunctionModule(6,i,i%2==0),this.setFunctionModule(i,6,i%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const n=this.getAlignmentPatternPositions(),s=n.length;for(let i=0;i<s;i++)for(let l=0;l<s;l++)i==0&&l==0||i==0&&l==s-1||i==s-1&&l==0||this.drawAlignmentPattern(n[i],n[l]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(n){const s=this.errorCorrectionLevel.formatBits<<3|n;let i=s;for(let h=0;h<10;h++)i=i<<1^(i>>>9)*1335;const l=(s<<10|i)^21522;a(l>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,o(l,h));this.setFunctionModule(8,7,o(l,6)),this.setFunctionModule(8,8,o(l,7)),this.setFunctionModule(7,8,o(l,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,o(l,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,o(l,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,o(l,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let n=this.version;for(let i=0;i<12;i++)n=n<<1^(n>>>11)*7973;const s=this.version<<12|n;a(s>>>18==0);for(let i=0;i<18;i++){const l=o(s,i),h=this.size-11+i%3,g=Math.floor(i/3);this.setFunctionModule(h,g,l),this.setFunctionModule(g,h,l)}}drawFinderPattern(n,s){for(let i=-4;i<=4;i++)for(let l=-4;l<=4;l++){const h=Math.max(Math.abs(l),Math.abs(i)),g=n+l,d=s+i;0<=g&&g<this.size&&0<=d&&d<this.size&&this.setFunctionModule(g,d,h!=2&&h!=4)}}drawAlignmentPattern(n,s){for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)this.setFunctionModule(n+l,s+i,Math.max(Math.abs(l),Math.abs(i))!=1)}setFunctionModule(n,s,i){this.modules[s][n]=i,this.isFunction[s][n]=!0}addEccAndInterleave(n){const s=this.version,i=this.errorCorrectionLevel;if(n.length!=x.getNumDataCodewords(s,i))throw new RangeError("Invalid argument");const l=x.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][s],h=x.ECC_CODEWORDS_PER_BLOCK[i.ordinal][s],g=Math.floor(x.getNumRawDataModules(s)/8),d=l-g%l,b=Math.floor(g/l);let m=[];const C=x.reedSolomonComputeDivisor(h);for(let p=0,E=0;p<l;p++){let M=n.slice(E,E+b-h+(p<d?0:1));E+=M.length;const _=x.reedSolomonComputeRemainder(M,C);p<d&&M.push(0),m.push(M.concat(_))}let y=[];for(let p=0;p<m[0].length;p++)m.forEach((E,M)=>{(p!=b-h||M>=d)&&y.push(E[p])});return a(y.length==g),y}drawCodewords(n){if(n.length!=Math.floor(x.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let i=this.size-1;i>=1;i-=2){i==6&&(i=5);for(let l=0;l<this.size;l++)for(let h=0;h<2;h++){const g=i-h,b=(i+1&2)==0?this.size-1-l:l;!this.isFunction[b][g]&&s<n.length*8&&(this.modules[b][g]=o(n[s>>>3],7-(s&7)),s++)}}a(s==n.length*8)}applyMask(n){if(n<0||n>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let i=0;i<this.size;i++){let l;switch(n){case 0:l=(i+s)%2==0;break;case 1:l=s%2==0;break;case 2:l=i%3==0;break;case 3:l=(i+s)%3==0;break;case 4:l=(Math.floor(i/3)+Math.floor(s/2))%2==0;break;case 5:l=i*s%2+i*s%3==0;break;case 6:l=(i*s%2+i*s%3)%2==0;break;case 7:l=((i+s)%2+i*s%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[s][i]&&l&&(this.modules[s][i]=!this.modules[s][i])}}getPenaltyScore(){let n=0;for(let h=0;h<this.size;h++){let g=!1,d=0,b=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[h][m]==g?(d++,d==5?n+=x.PENALTY_N1:d>5&&n++):(this.finderPenaltyAddHistory(d,b),g||(n+=this.finderPenaltyCountPatterns(b)*x.PENALTY_N3),g=this.modules[h][m],d=1);n+=this.finderPenaltyTerminateAndCount(g,d,b)*x.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,d=0,b=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[m][h]==g?(d++,d==5?n+=x.PENALTY_N1:d>5&&n++):(this.finderPenaltyAddHistory(d,b),g||(n+=this.finderPenaltyCountPatterns(b)*x.PENALTY_N3),g=this.modules[m][h],d=1);n+=this.finderPenaltyTerminateAndCount(g,d,b)*x.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const d=this.modules[h][g];d==this.modules[h][g+1]&&d==this.modules[h+1][g]&&d==this.modules[h+1][g+1]&&(n+=x.PENALTY_N2)}let s=0;for(const h of this.modules)s=h.reduce((g,d)=>g+(d?1:0),s);const i=this.size*this.size,l=Math.ceil(Math.abs(s*20-i*10)/i)-1;return a(0<=l&&l<=9),n+=l*x.PENALTY_N4,a(0<=n&&n<=2568888),n}getAlignmentPatternPositions(){if(this.version==1)return[];{const n=Math.floor(this.version/7)+2,s=this.version==32?26:Math.ceil((this.version*4+4)/(n*2-2))*2;let i=[6];for(let l=this.size-7;i.length<n;l-=s)i.splice(1,0,l);return i}}static getNumRawDataModules(n){if(n<x.MIN_VERSION||n>x.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*n+128)*n+64;if(n>=2){const i=Math.floor(n/7)+2;s-=(25*i-10)*i-55,n>=7&&(s-=36)}return a(208<=s&&s<=29648),s}static getNumDataCodewords(n,s){return Math.floor(x.getNumRawDataModules(n)/8)-x.ECC_CODEWORDS_PER_BLOCK[s.ordinal][n]*x.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][n]}static reedSolomonComputeDivisor(n){if(n<1||n>255)throw new RangeError("Degree out of range");let s=[];for(let l=0;l<n-1;l++)s.push(0);s.push(1);let i=1;for(let l=0;l<n;l++){for(let h=0;h<s.length;h++)s[h]=x.reedSolomonMultiply(s[h],i),h+1<s.length&&(s[h]^=s[h+1]);i=x.reedSolomonMultiply(i,2)}return s}static reedSolomonComputeRemainder(n,s){let i=s.map(l=>0);for(const l of n){const h=l^i.shift();i.push(0),s.forEach((g,d)=>i[d]^=x.reedSolomonMultiply(g,h))}return i}static reedSolomonMultiply(n,s){if(n>>>8||s>>>8)throw new RangeError("Byte out of range");let i=0;for(let l=7;l>=0;l--)i=i<<1^(i>>>7)*285,i^=(s>>>l&1)*n;return a(i>>>8==0),i}finderPenaltyCountPatterns(n){const s=n[1];a(s<=this.size*3);const i=s>0&&n[2]==s&&n[3]==s*3&&n[4]==s&&n[5]==s;return(i&&n[0]>=s*4&&n[6]>=s?1:0)+(i&&n[6]>=s*4&&n[0]>=s?1:0)}finderPenaltyTerminateAndCount(n,s,i){return n&&(this.finderPenaltyAddHistory(s,i),s=0),s+=this.size,this.finderPenaltyAddHistory(s,i),this.finderPenaltyCountPatterns(i)}finderPenaltyAddHistory(n,s){s[0]==0&&(n+=this.size),s.pop(),s.unshift(n)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(f,n,s){if(n<0||n>31||f>>>n)throw new RangeError("Value out of range");for(let i=n-1;i>=0;i--)s.push(f>>>i&1)}function o(f,n){return(f>>>n&1)!=0}function a(f){if(!f)throw new Error("Assertion error")}const c=class A{constructor(n,s,i){if(this.mode=n,this.numChars=s,this.bitData=i,s<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}static makeBytes(n){let s=[];for(const i of n)r(i,8,s);return new A(A.Mode.BYTE,n.length,s)}static makeNumeric(n){if(!A.isNumeric(n))throw new RangeError("String contains non-numeric characters");let s=[];for(let i=0;i<n.length;){const l=Math.min(n.length-i,3);r(parseInt(n.substring(i,i+l),10),l*3+1,s),i+=l}return new A(A.Mode.NUMERIC,n.length,s)}static makeAlphanumeric(n){if(!A.isAlphanumeric(n))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s=[],i;for(i=0;i+2<=n.length;i+=2){let l=A.ALPHANUMERIC_CHARSET.indexOf(n.charAt(i))*45;l+=A.ALPHANUMERIC_CHARSET.indexOf(n.charAt(i+1)),r(l,11,s)}return i<n.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(n.charAt(i)),6,s),new A(A.Mode.ALPHANUMERIC,n.length,s)}static makeSegments(n){return n==""?[]:A.isNumeric(n)?[A.makeNumeric(n)]:A.isAlphanumeric(n)?[A.makeAlphanumeric(n)]:[A.makeBytes(A.toUtf8ByteArray(n))]}static makeEci(n){let s=[];if(n<0)throw new RangeError("ECI assignment value out of range");if(n<128)r(n,8,s);else if(n<16384)r(2,2,s),r(n,14,s);else if(n<1e6)r(6,3,s),r(n,21,s);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,s)}static isNumeric(n){return A.NUMERIC_REGEX.test(n)}static isAlphanumeric(n){return A.ALPHANUMERIC_REGEX.test(n)}getData(){return this.bitData.slice()}static getTotalBits(n,s){let i=0;for(const l of n){const h=l.mode.numCharCountBits(s);if(l.numChars>=1<<h)return 1/0;i+=4+h+l.bitData.length}return i}static toUtf8ByteArray(n){n=encodeURI(n);let s=[];for(let i=0;i<n.length;i++)n.charAt(i)!="%"?s.push(n.charCodeAt(i)):(s.push(parseInt(n.substring(i+1,i+3),16)),i+=2);return s}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=c;t.QrSegment=c})(G||(G={}));(t=>{(e=>{const r=class{constructor(a,c){this.ordinal=a,this.formatBits=c}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(G||(G={}));(t=>{(e=>{const r=class{constructor(a,c){this.modeBits=a,this.numBitsCharCount=c}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(G||(G={}));var j=G;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var fn={L:j.QrCode.Ecc.LOW,M:j.QrCode.Ecc.MEDIUM,Q:j.QrCode.Ecc.QUARTILE,H:j.QrCode.Ecc.HIGH},gt=128,pt="L",mt="#FFFFFF",bt="#000000",wt=!1,xt=1,dn=4,gn=0,pn=.1;function Et(t,e=0){const r=[];return t.forEach(function(o,a){let c=null;o.forEach(function(u,f){if(!u&&c!==null){r.push(`M${c+e} ${a+e}h${f-c}v1H${c+e}z`),c=null;return}if(f===o.length-1){if(!u)return;c===null?r.push(`M${f+e},${a+e} h1v1H${f+e}z`):r.push(`M${c+e},${a+e} h${f+1-c}v1H${c+e}z`);return}u&&c===null&&(c=f)})}),r.join("")}function yt(t,e){return t.slice().map((r,o)=>o<e.y||o>=e.y+e.h?r:r.map((a,c)=>c<e.x||c>=e.x+e.w?a:!1))}function mn(t,e,r,o){if(o==null)return null;const a=t.length+r*2,c=Math.floor(e*pn),u=a/e,f=(o.width||c)*u,n=(o.height||c)*u,s=o.x==null?t.length/2-f/2:o.x*u,i=o.y==null?t.length/2-n/2:o.y*u,l=o.opacity==null?1:o.opacity;let h=null;if(o.excavate){let d=Math.floor(s),b=Math.floor(i),m=Math.ceil(f+s-d),C=Math.ceil(n+i-b);h={x:d,y:b,w:m,h:C}}const g=o.crossOrigin;return{x:s,y:i,h:n,w:f,excavation:h,opacity:l,crossOrigin:g}}function bn(t,e){return e!=null?Math.max(Math.floor(e),0):t?dn:gn}function At({value:t,level:e,minVersion:r,includeMargin:o,marginSize:a,imageSettings:c,size:u,boostLevel:f}){let n=S.useMemo(()=>{const d=(Array.isArray(t)?t:[t]).reduce((b,m)=>(b.push(...j.QrSegment.makeSegments(m)),b),[]);return j.QrCode.encodeSegments(d,fn[e],r,void 0,void 0,f)},[t,e,r,f]);const{cells:s,margin:i,numCells:l,calculatedImageSettings:h}=S.useMemo(()=>{let g=n.getModules();const d=bn(o,a),b=g.length+d*2,m=mn(g,u,d,c);return{cells:g,margin:d,numCells:b,calculatedImageSettings:m}},[n,u,c,o,a]);return{qrcode:n,margin:i,cells:s,numCells:l,calculatedImageSettings:h}}var wn=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xn=S.forwardRef(function(e,r){const o=e,{value:a,size:c=gt,level:u=pt,bgColor:f=mt,fgColor:n=bt,includeMargin:s=wt,minVersion:i=xt,boostLevel:l,marginSize:h,imageSettings:g}=o,b=Ee(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:m}=b,C=Ee(b,["style"]),y=g==null?void 0:g.src,p=S.useRef(null),E=S.useRef(null),M=S.useCallback(P=>{p.current=P,typeof r=="function"?r(P):r&&(r.current=P)},[r]),[_,Q]=S.useState(!1),{margin:v,cells:T,numCells:$,calculatedImageSettings:R}=At({value:a,level:u,minVersion:i,boostLevel:l,includeMargin:s,marginSize:h,imageSettings:g,size:c});S.useEffect(()=>{if(p.current!=null){const P=p.current,N=P.getContext("2d");if(!N)return;let Re=T;const q=E.current,Te=R!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;Te&&R.excavation!=null&&(Re=yt(T,R.excavation));const Ne=window.devicePixelRatio||1;P.height=P.width=c*Ne;const Le=c/$*Ne;N.scale(Le,Le),N.fillStyle=f,N.fillRect(0,0,$,$),N.fillStyle=n,wn?N.fill(new Path2D(Et(Re,v))):T.forEach(function(Ct,Mt){Ct.forEach(function(St,It){St&&N.fillRect(It+v,Mt+v,1,1)})}),R&&(N.globalAlpha=R.opacity),Te&&N.drawImage(q,R.x+v,R.y+v,R.w,R.h)}}),S.useEffect(()=>{Q(!1)},[y]);const W=xe({height:c,width:c},m);let V=null;return y!=null&&(V=S.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{Q(!0)},ref:E,crossOrigin:R==null?void 0:R.crossOrigin})),S.createElement(S.Fragment,null,S.createElement("canvas",xe({style:W,height:c,width:c,ref:M,role:"img"},C)),V)});xn.displayName="QRCodeCanvas";var En=S.forwardRef(function(e,r){const o=e,{value:a,size:c=gt,level:u=pt,bgColor:f=mt,fgColor:n=bt,includeMargin:s=wt,minVersion:i=xt,boostLevel:l,title:h,marginSize:g,imageSettings:d}=o,b=Ee(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:m,cells:C,numCells:y,calculatedImageSettings:p}=At({value:a,level:u,minVersion:i,boostLevel:l,includeMargin:s,marginSize:g,imageSettings:d,size:c});let E=C,M=null;d!=null&&p!=null&&(p.excavation!=null&&(E=yt(C,p.excavation)),M=S.createElement("image",{href:d.src,height:p.h,width:p.w,x:p.x+m,y:p.y+m,preserveAspectRatio:"none",opacity:p.opacity,crossOrigin:p.crossOrigin}));const _=Et(E,m);return S.createElement("svg",xe({height:c,width:c,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},b),!!h&&S.createElement("title",null,h),S.createElement("path",{fill:f,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),S.createElement("path",{fill:n,d:_,shapeRendering:"crispEdges"}),M)});En.displayName="QRCodeSVG";export{Fn as I,Gn as P,En as Q,Cn as S,zn as T};
