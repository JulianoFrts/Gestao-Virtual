const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D_k7H5ek.js","assets/card-BTHGlYFz.js","assets/progress-CJuBekOD.js","assets/useTimeRecords-RqrN7uRd.js","assets/useDailyReports-BR6lQ8Fm.js","assets/calendar-B3GVMfO3.js","assets/trending-up-BwuTo0m4.js","assets/circle-alert-BlgUQYiE.js","assets/Functions-DLVvd87d.js","assets/useJobFunctions-BUngp12J.js","assets/input-dNnkIPn6.js","assets/checkbox-B9hZgst_.js","assets/separator-B22JG5bU.js","assets/table-UwE0Vej1.js","assets/ConfirmationDialog-96fSVVNc.js","assets/alert-dialog-qR-bbYaw.js","assets/triangle-alert-BPKdZxxI.js","assets/jobSignals-BUdvneDr.js","assets/file-up-BAmu6W7r.js","assets/plus-DmkF01H_.js","assets/crown-CP1ihsrK.js","assets/search-BoEw84GM.js","assets/copy-CXglQ41p.js","assets/pencil-DX9IZKx2.js","assets/trash-2-DD2QlM38.js","assets/Employees-CJx9cXZr.js","assets/useSites-Dum3dnEP.js","assets/useCompanies-kjFTA6Qu.js","assets/inputValidators-Bb6hXMpp.js","assets/index-COevDGDX.js","assets/avatar-DBVYP3oo.js","assets/FaceRegistrationDialog-DCcS3GMZ.js","assets/ProjectEmptyState-CRpC4Dgy.js","assets/upload-D2Q7C-3S.js","assets/lock-BtTOdZOV.js","assets/square-check-big-CO_74oGA.js","assets/arrow-up-BfG5I1o5.js","assets/phone-7k8cuzfD.js","assets/Teams-BKAJwz-n.js","assets/LoadingScreen-SEZW07K4.js","assets/scroll-area-C9sC2RNd.js","assets/command-DzEVDCzR.js","assets/chevrons-up-down-BNQt7ayD.js","assets/TimeClock-BlJfuwCl.js","assets/format-CP1OFCPJ.js","assets/isSameDay-BB6-IGfB.js","assets/pt-BR-B9S-fQgu.js","assets/DailyReport-DEfbLu3m.js","assets/textarea-Db2vMs5u.js","assets/useWorkStages-DXnml1Pf.js","assets/useTowerProduction-DGhO_ax3.js","assets/info-MbzHf59N.js","assets/send-B06f1M-Q.js","assets/Settings-CDiqWOC4.js","assets/index-LiCGkmGi.js","assets/download-L1tB_Hhn.js","assets/ellipsis-vertical-DHbXCy2I.js","assets/slider-fkHl-ud9.js","assets/context-menu-CftfI8l1.js","assets/image-CBHGYJfV.js","assets/zoom-in-C25xHsbW.js","assets/move-CukShz45.js","assets/Users-BWwChqnn.js","assets/eye-off-Bbweex62.js","assets/eye-CxUjXe8h.js","assets/user-plus-DZOYeFz-.js","assets/Reports-BJuB9yTW.js","assets/TimeRecords-CC_0iJRm.js","assets/Companies-BGvz4pf9.js","assets/Projects-DZhc2LSd.js","assets/circle-user-BEeDl7ms.js","assets/Sites-DWbSIjeT.js","assets/circle-help-B9f7_6g4.js","assets/layout-grid-4na9_LkO.js","assets/TeamComposition-BM8f4D2v.js","assets/grip-vertical-BZqWG49f.js","assets/TeamCompositionTable-B2ETYcBe.js","assets/printer-6uhaNVcg.js","assets/target-J4oQCKEn.js","assets/Messages-C-CJA78J.js","assets/tabs-D3Kawp4S.js","assets/archive-BPtJUZpO.js","assets/CustomSU-BZ16YEv8.js","assets/permission-modal-BEhDpYqz.js","assets/pen-C5GdyZXe.js","assets/activity-BYx2dwgt.js","assets/ellipsis-CNuBxG9Z.js","assets/list-BniZwJ04.js","assets/save-BcLL5Pf6.js","assets/AuditLogs-B9qDdi5z.js","assets/useAuditLogs-D3Sh0dD4.js","assets/calendar-MfduwZdl.js","assets/subDays-HHYU8WMe.js","assets/play-Dfpf5oeu.js","assets/GAPO-Cued9Z8d.js","assets/GAPOAnalyticsPanel-Db7gsqJw.js","assets/CartesianGrid-HrqNXgEf.js","assets/AreaChart-D9h5uedO.js","assets/Line-DWxI2lOG.js","assets/PolarAngleAxis-DQC9sugx.js","assets/ProjectProgress-K-b0fPSL.js","assets/CompletedWorkModal-gflenMLd.js","assets/xlsx-BBWTpfDg.js","assets/BarChart-DjRXQRXs.js","assets/LineChart-DAkisegE.js","assets/settings-2-CrLI_2YT.js","assets/ProjectProgress-n1pgiqlU.css","assets/DatabaseHub-ptA0d0nQ.js","assets/Viewer3D-CkIhhM3b.js","assets/Gltf-DXY_s8Ul.js","assets/arrow-left-CQFd9_U_.js","assets/GeoViewerPage-DcvqTHbo.js","assets/ProductionPage-fHS82_7G.js","assets/ExcelImportModal-CNRE8bkL.js","assets/ProductionAnalyticsPage-D9fGD5Br.js","assets/CostConfigurationModal-C9OI4zOa.js","assets/CostsPage-DcjKcXcp.js","assets/Auth-C966unSt.js"])))=>i.map(i=>d[i]);
var E_=Object.defineProperty;var Iv=t=>{throw TypeError(t)};var C_=(t,r,i)=>r in t?E_(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var ga=(t,r,i)=>C_(t,typeof r!="symbol"?r+"":r,i),Z1=(t,r,i)=>r.has(t)||Iv("Cannot "+i);var De=(t,r,i)=>(Z1(t,r,"read from private field"),i?i.call(t):r.get(t)),cn=(t,r,i)=>r.has(t)?Iv("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,i),It=(t,r,i,c)=>(Z1(t,r,"write to private field"),c?c.call(t,i):r.set(t,i),i),aa=(t,r,i)=>(Z1(t,r,"access private method"),i);var xd=(t,r,i,c)=>({set _(h){It(t,r,h,i)},get _(){return De(t,r,c)}});function S_(t,r){for(var i=0;i<r.length;i++){const c=r[i];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in t)){const y=Object.getOwnPropertyDescriptor(c,h);y&&Object.defineProperty(t,h,y.get?y:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const y of h)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function i(h){const y={};return h.integrity&&(y.integrity=h.integrity),h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?y.credentials="include":h.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function c(h){if(h.ep)return;h.ep=!0;const y=i(h);fetch(h.href,y)}})();var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q1={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function A_(){if(Mv)return Tu;Mv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(c,h,y){var v=null;if(y!==void 0&&(v=""+y),h.key!==void 0&&(v=""+h.key),"key"in h){y={};for(var b in h)b!=="key"&&(y[b]=h[b])}else y=h;return h=y.ref,{$$typeof:t,type:c,key:v,ref:h!==void 0?h:null,props:y}}return Tu.Fragment=r,Tu.jsx=i,Tu.jsxs=i,Tu}var Dv;function __(){return Dv||(Dv=1,Q1.exports=A_()),Q1.exports}var O=__(),$1={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function T_(){if(Pv)return Lt;Pv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.iterator;function M(ne){return ne===null||typeof ne!="object"?null:(ne=k&&ne[k]||ne["@@iterator"],typeof ne=="function"?ne:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function X(ne,de,Ie){this.props=ne,this.context=de,this.refs=j,this.updater=Ie||U}X.prototype.isReactComponent={},X.prototype.setState=function(ne,de){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,de,"setState")},X.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function G(){}G.prototype=X.prototype;function H(ne,de,Ie){this.props=ne,this.context=de,this.refs=j,this.updater=Ie||U}var q=H.prototype=new G;q.constructor=H,P(q,X.prototype),q.isPureReactComponent=!0;var ae=Array.isArray;function re(){}var V={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function te(ne,de,Ie){var Oe=Ie.ref;return{$$typeof:t,type:ne,key:de,ref:Oe!==void 0?Oe:null,props:Ie}}function fe(ne,de){return te(ne.type,de,ne.props)}function Re(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function xe(ne){var de={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Ie){return de[Ie]})}var Ue=/\/+/g;function me(ne,de){return typeof ne=="object"&&ne!==null&&ne.key!=null?xe(""+ne.key):de.toString(36)}function ce(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(re,re):(ne.status="pending",ne.then(function(de){ne.status==="pending"&&(ne.status="fulfilled",ne.value=de)},function(de){ne.status==="pending"&&(ne.status="rejected",ne.reason=de)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ie(ne,de,Ie,Oe,tt){var Le=typeof ne;(Le==="undefined"||Le==="boolean")&&(ne=null);var Be=!1;if(ne===null)Be=!0;else switch(Le){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(ne.$$typeof){case t:case r:Be=!0;break;case I:return Be=ne._init,ie(Be(ne._payload),de,Ie,Oe,tt)}}if(Be)return tt=tt(ne),Be=Oe===""?"."+me(ne,0):Oe,ae(tt)?(Ie="",Be!=null&&(Ie=Be.replace(Ue,"$&/")+"/"),ie(tt,de,Ie,"",function(Ve){return Ve})):tt!=null&&(Re(tt)&&(tt=fe(tt,Ie+(tt.key==null||ne&&ne.key===tt.key?"":(""+tt.key).replace(Ue,"$&/")+"/")+Be)),de.push(tt)),1;Be=0;var et=Oe===""?".":Oe+":";if(ae(ne))for(var ft=0;ft<ne.length;ft++)Oe=ne[ft],Le=et+me(Oe,ft),Be+=ie(Oe,de,Ie,Le,tt);else if(ft=M(ne),typeof ft=="function")for(ne=ft.call(ne),ft=0;!(Oe=ne.next()).done;)Oe=Oe.value,Le=et+me(Oe,ft++),Be+=ie(Oe,de,Ie,Le,tt);else if(Le==="object"){if(typeof ne.then=="function")return ie(ce(ne),de,Ie,Oe,tt);throw de=String(ne),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ge(ne,de,Ie){if(ne==null)return ne;var Oe=[],tt=0;return ie(ne,Oe,"","",function(Le){return de.call(Ie,Le,tt++)}),Oe}function Ne(ne){if(ne._status===-1){var de=ne._result;de=de(),de.then(function(Ie){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Ie)},function(Ie){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Ie)}),ne._status===-1&&(ne._status=0,ne._result=de)}if(ne._status===1)return ne._result.default;throw ne._result}var we=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Xe={map:ge,forEach:function(ne,de,Ie){ge(ne,function(){de.apply(this,arguments)},Ie)},count:function(ne){var de=0;return ge(ne,function(){de++}),de},toArray:function(ne){return ge(ne,function(de){return de})||[]},only:function(ne){if(!Re(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return Lt.Activity=N,Lt.Children=Xe,Lt.Component=X,Lt.Fragment=i,Lt.Profiler=h,Lt.PureComponent=H,Lt.StrictMode=c,Lt.Suspense=A,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return V.H.useMemoCache(ne)}},Lt.cache=function(ne){return function(){return ne.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(ne,de,Ie){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Oe=P({},ne.props),tt=ne.key;if(de!=null)for(Le in de.key!==void 0&&(tt=""+de.key),de)!Z.call(de,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&de.ref===void 0||(Oe[Le]=de[Le]);var Le=arguments.length-2;if(Le===1)Oe.children=Ie;else if(1<Le){for(var Be=Array(Le),et=0;et<Le;et++)Be[et]=arguments[et+2];Oe.children=Be}return te(ne.type,tt,Oe)},Lt.createContext=function(ne){return ne={$$typeof:v,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:y,_context:ne},ne},Lt.createElement=function(ne,de,Ie){var Oe,tt={},Le=null;if(de!=null)for(Oe in de.key!==void 0&&(Le=""+de.key),de)Z.call(de,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(tt[Oe]=de[Oe]);var Be=arguments.length-2;if(Be===1)tt.children=Ie;else if(1<Be){for(var et=Array(Be),ft=0;ft<Be;ft++)et[ft]=arguments[ft+2];tt.children=et}if(ne&&ne.defaultProps)for(Oe in Be=ne.defaultProps,Be)tt[Oe]===void 0&&(tt[Oe]=Be[Oe]);return te(ne,Le,tt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(ne){return{$$typeof:b,render:ne}},Lt.isValidElement=Re,Lt.lazy=function(ne){return{$$typeof:I,_payload:{_status:-1,_result:ne},_init:Ne}},Lt.memo=function(ne,de){return{$$typeof:E,type:ne,compare:de===void 0?null:de}},Lt.startTransition=function(ne){var de=V.T,Ie={};V.T=Ie;try{var Oe=ne(),tt=V.S;tt!==null&&tt(Ie,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(re,we)}catch(Le){we(Le)}finally{de!==null&&Ie.types!==null&&(de.types=Ie.types),V.T=de}},Lt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Lt.use=function(ne){return V.H.use(ne)},Lt.useActionState=function(ne,de,Ie){return V.H.useActionState(ne,de,Ie)},Lt.useCallback=function(ne,de){return V.H.useCallback(ne,de)},Lt.useContext=function(ne){return V.H.useContext(ne)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(ne,de){return V.H.useDeferredValue(ne,de)},Lt.useEffect=function(ne,de){return V.H.useEffect(ne,de)},Lt.useEffectEvent=function(ne){return V.H.useEffectEvent(ne)},Lt.useId=function(){return V.H.useId()},Lt.useImperativeHandle=function(ne,de,Ie){return V.H.useImperativeHandle(ne,de,Ie)},Lt.useInsertionEffect=function(ne,de){return V.H.useInsertionEffect(ne,de)},Lt.useLayoutEffect=function(ne,de){return V.H.useLayoutEffect(ne,de)},Lt.useMemo=function(ne,de){return V.H.useMemo(ne,de)},Lt.useOptimistic=function(ne,de){return V.H.useOptimistic(ne,de)},Lt.useReducer=function(ne,de,Ie){return V.H.useReducer(ne,de,Ie)},Lt.useRef=function(ne){return V.H.useRef(ne)},Lt.useState=function(ne){return V.H.useState(ne)},Lt.useSyncExternalStore=function(ne,de,Ie){return V.H.useSyncExternalStore(ne,de,Ie)},Lt.useTransition=function(){return V.H.useTransition()},Lt.version="19.2.4",Lt}var kv;function lf(){return kv||(kv=1,$1.exports=T_()),$1.exports}var R=lf();const ze=Dp(R),Ch=S_({__proto__:null,default:ze},[R]);var J1={exports:{}},Nu={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function N_(){return Bv||(Bv=1,(function(t){function r(ie,ge){var Ne=ie.length;ie.push(ge);e:for(;0<Ne;){var we=Ne-1>>>1,Xe=ie[we];if(0<h(Xe,ge))ie[we]=ge,ie[Ne]=Xe,Ne=we;else break e}}function i(ie){return ie.length===0?null:ie[0]}function c(ie){if(ie.length===0)return null;var ge=ie[0],Ne=ie.pop();if(Ne!==ge){ie[0]=Ne;e:for(var we=0,Xe=ie.length,ne=Xe>>>1;we<ne;){var de=2*(we+1)-1,Ie=ie[de],Oe=de+1,tt=ie[Oe];if(0>h(Ie,Ne))Oe<Xe&&0>h(tt,Ie)?(ie[we]=tt,ie[Oe]=Ne,we=Oe):(ie[we]=Ie,ie[de]=Ne,we=de);else if(Oe<Xe&&0>h(tt,Ne))ie[we]=tt,ie[Oe]=Ne,we=Oe;else break e}}return ge}function h(ie,ge){var Ne=ie.sortIndex-ge.sortIndex;return Ne!==0?Ne:ie.id-ge.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;t.unstable_now=function(){return y.now()}}else{var v=Date,b=v.now();t.unstable_now=function(){return v.now()-b}}var A=[],E=[],I=1,N=null,k=3,M=!1,U=!1,P=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function q(ie){for(var ge=i(E);ge!==null;){if(ge.callback===null)c(E);else if(ge.startTime<=ie)c(E),ge.sortIndex=ge.expirationTime,r(A,ge);else break;ge=i(E)}}function ae(ie){if(P=!1,q(ie),!U)if(i(A)!==null)U=!0,re||(re=!0,xe());else{var ge=i(E);ge!==null&&ce(ae,ge.startTime-ie)}}var re=!1,V=-1,Z=5,te=-1;function fe(){return j?!0:!(t.unstable_now()-te<Z)}function Re(){if(j=!1,re){var ie=t.unstable_now();te=ie;var ge=!0;try{e:{U=!1,P&&(P=!1,G(V),V=-1),M=!0;var Ne=k;try{t:{for(q(ie),N=i(A);N!==null&&!(N.expirationTime>ie&&fe());){var we=N.callback;if(typeof we=="function"){N.callback=null,k=N.priorityLevel;var Xe=we(N.expirationTime<=ie);if(ie=t.unstable_now(),typeof Xe=="function"){N.callback=Xe,q(ie),ge=!0;break t}N===i(A)&&c(A),q(ie)}else c(A);N=i(A)}if(N!==null)ge=!0;else{var ne=i(E);ne!==null&&ce(ae,ne.startTime-ie),ge=!1}}break e}finally{N=null,k=Ne,M=!1}ge=void 0}}finally{ge?xe():re=!1}}}var xe;if(typeof H=="function")xe=function(){H(Re)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,me=Ue.port2;Ue.port1.onmessage=Re,xe=function(){me.postMessage(null)}}else xe=function(){X(Re,0)};function ce(ie,ge){V=X(function(){ie(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_next=function(ie){switch(k){case 1:case 2:case 3:var ge=3;break;default:ge=k}var Ne=k;k=ge;try{return ie()}finally{k=Ne}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ne=k;k=ie;try{return ge()}finally{k=Ne}},t.unstable_scheduleCallback=function(ie,ge,Ne){var we=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?we+Ne:we):Ne=we,ie){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=Ne+Xe,ie={id:I++,callback:ge,priorityLevel:ie,startTime:Ne,expirationTime:Xe,sortIndex:-1},Ne>we?(ie.sortIndex=Ne,r(E,ie),i(A)===null&&ie===i(E)&&(P?(G(V),V=-1):P=!0,ce(ae,Ne-we))):(ie.sortIndex=Xe,r(A,ie),U||M||(U=!0,re||(re=!0,xe()))),ie},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(ie){var ge=k;return function(){var Ne=k;k=ge;try{return ie.apply(this,arguments)}finally{k=Ne}}}})(tm)),tm}var Lv;function R_(){return Lv||(Lv=1,em.exports=N_()),em.exports}var nm={exports:{}},ia={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function O_(){if(jv)return ia;jv=1;var t=lf();function r(A){var E="https://react.dev/errors/"+A;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)E+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+A+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},h=Symbol.for("react.portal");function y(A,E,I){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:N==null?null:""+N,children:A,containerInfo:E,implementation:I}}var v=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(A,E){if(A==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return ia.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,ia.createPortal=function(A,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(r(299));return y(A,E,null,I)},ia.flushSync=function(A){var E=v.T,I=c.p;try{if(v.T=null,c.p=2,A)return A()}finally{v.T=E,c.p=I,c.d.f()}},ia.preconnect=function(A,E){typeof A=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,c.d.C(A,E))},ia.prefetchDNS=function(A){typeof A=="string"&&c.d.D(A)},ia.preinit=function(A,E){if(typeof A=="string"&&E&&typeof E.as=="string"){var I=E.as,N=b(I,E.crossOrigin),k=typeof E.integrity=="string"?E.integrity:void 0,M=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;I==="style"?c.d.S(A,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:M}):I==="script"&&c.d.X(A,{crossOrigin:N,integrity:k,fetchPriority:M,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},ia.preinitModule=function(A,E){if(typeof A=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var I=b(E.as,E.crossOrigin);c.d.M(A,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&c.d.M(A)},ia.preload=function(A,E){if(typeof A=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var I=E.as,N=b(I,E.crossOrigin);c.d.L(A,I,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},ia.preloadModule=function(A,E){if(typeof A=="string")if(E){var I=b(E.as,E.crossOrigin);c.d.m(A,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else c.d.m(A)},ia.requestFormReset=function(A){c.d.r(A)},ia.unstable_batchedUpdates=function(A,E){return A(E)},ia.useFormState=function(A,E,I){return v.H.useFormState(A,E,I)},ia.useFormStatus=function(){return v.H.useHostTransitionStatus()},ia.version="19.2.4",ia}var Fv;function jb(){if(Fv)return nm.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),nm.exports=O_(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function I_(){if(Uv)return Nu;Uv=1;var t=R_(),r=lf(),i=jb();function c(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var a=e,u=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(u=a.return),e=a.return;while(e)}return a.tag===3?u:null}function v(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function b(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function A(e){if(y(e)!==e)throw Error(c(188))}function E(e){var a=e.alternate;if(!a){if(a=y(e),a===null)throw Error(c(188));return a!==e?null:e}for(var u=e,p=a;;){var C=u.return;if(C===null)break;var _=C.alternate;if(_===null){if(p=C.return,p!==null){u=p;continue}break}if(C.child===_.child){for(_=C.child;_;){if(_===u)return A(C),e;if(_===p)return A(C),a;_=_.sibling}throw Error(c(188))}if(u.return!==p.return)u=C,p=_;else{for(var B=!1,K=C.child;K;){if(K===u){B=!0,u=C,p=_;break}if(K===p){B=!0,p=C,u=_;break}K=K.sibling}if(!B){for(K=_.child;K;){if(K===u){B=!0,u=_,p=C;break}if(K===p){B=!0,p=_,u=C;break}K=K.sibling}if(!B)throw Error(c(189))}}if(u.alternate!==p)throw Error(c(190))}if(u.tag!==3)throw Error(c(188));return u.stateNode.current===u?e:a}function I(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=I(e),a!==null)return a;e=e.sibling}return null}var N=Object.assign,k=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=Re&&e[Re]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case X:return"Profiler";case j:return"StrictMode";case ae:return"Suspense";case re:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case H:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case q:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return a=e.displayName||null,a!==null?a:me(e.type)||"Memo";case Z:a=e._payload,e=e._init;try{return me(e(a))}catch{}}return null}var ce=Array.isArray,ie=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},we=[],Xe=-1;function ne(e){return{current:e}}function de(e){0>Xe||(e.current=we[Xe],we[Xe]=null,Xe--)}function Ie(e,a){Xe++,we[Xe]=e.current,e.current=a}var Oe=ne(null),tt=ne(null),Le=ne(null),Be=ne(null);function et(e,a){switch(Ie(Le,a),Ie(tt,e),Ie(Oe,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=ev(a),e=tv(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Oe),Ie(Oe,e)}function ft(){de(Oe),de(tt),de(Le)}function Ve(e){e.memoizedState!==null&&Ie(Be,e);var a=Oe.current,u=tv(a,e.type);a!==u&&(Ie(tt,e),Ie(Oe,u))}function ht(e){tt.current===e&&(de(Oe),de(tt)),Be.current===e&&(de(Be),Cu._currentValue=Ne)}var rt,mt;function An(e){if(rt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);rt=a&&a[1]||"",mt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+mt}var wn=!1;function vr(e,a){if(!e||wn)return"";wn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Te){var Ae=Te}Reflect.construct(e,[],Fe)}else{try{Fe.call()}catch(Te){Ae=Te}e.call(Fe.prototype)}}else{try{throw Error()}catch(Te){Ae=Te}(Fe=e())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Te){if(Te&&Ae&&typeof Te.stack=="string")return[Te.stack,Ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),B=_[0],K=_[1];if(B&&K){var le=B.split(`
`),Ce=K.split(`
`);for(C=p=0;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;for(;C<Ce.length&&!Ce[C].includes("DetermineComponentFrameRoot");)C++;if(p===le.length||C===Ce.length)for(p=le.length-1,C=Ce.length-1;1<=p&&0<=C&&le[p]!==Ce[C];)C--;for(;1<=p&&0<=C;p--,C--)if(le[p]!==Ce[C]){if(p!==1||C!==1)do if(p--,C--,0>C||le[p]!==Ce[C]){var Me=`
`+le[p].replace(" at new "," at ");return e.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",e.displayName)),Me}while(1<=p&&0<=C);break}}}finally{wn=!1,Error.prepareStackTrace=u}return(u=e?e.displayName||e.name:"")?An(u):""}function _n(e,a){switch(e.tag){case 26:case 27:case 5:return An(e.type);case 16:return An("Lazy");case 13:return e.child!==a&&a!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return vr(e.type,!1);case 11:return vr(e.type.render,!1);case 1:return vr(e.type,!0);case 31:return An("Activity");default:return""}}function Yt(e){try{var a="",u=null;do a+=_n(e,u),u=e,e=e.return;while(e);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Rt=Object.prototype.hasOwnProperty,ca=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,ai=t.unstable_shouldYield,Dr=t.unstable_requestPaint,Dn=t.unstable_now,Ba=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,br=t.unstable_UserBlockingPriority,Rr=t.unstable_NormalPriority,Kn=t.unstable_LowPriority,ba=t.unstable_IdlePriority,La=t.log,wa=t.unstable_setDisableYieldValue,an=null,qe=null;function Gt(e){if(typeof La=="function"&&wa(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(an,e)}catch{}}var He=Math.clz32?Math.clz32:ja,pn=Math.log,Lr=Math.LN2;function ja(e){return e>>>=0,e===0?32:31-(pn(e)/Lr|0)|0}var Ze=256,Ft=262144,Or=4194304;function rr(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,a,u){var p=e.pendingLanes;if(p===0)return 0;var C=0,_=e.suspendedLanes,B=e.pingedLanes;e=e.warmLanes;var K=p&134217727;return K!==0?(p=K&~_,p!==0?C=rr(p):(B&=K,B!==0?C=rr(B):u||(u=K&~e,u!==0&&(C=rr(u))))):(K=p&~_,K!==0?C=rr(K):B!==0?C=rr(B):u||(u=p&~e,u!==0&&(C=rr(u)))),C===0?0:a!==0&&a!==C&&(a&_)===0&&(_=C&-C,u=a&-a,_>=u||_===32&&(u&4194048)!==0)?a:C}function lt(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function $t(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var e=Or;return Or<<=1,(Or&62914560)===0&&(Or=4194304),e}function Tn(e){for(var a=[],u=0;31>u;u++)a.push(e);return a}function Nn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yn(e,a,u,p,C,_){var B=e.pendingLanes;e.pendingLanes=u,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=u,e.entangledLanes&=u,e.errorRecoveryDisabledLanes&=u,e.shellSuspendCounter=0;var K=e.entanglements,le=e.expirationTimes,Ce=e.hiddenUpdates;for(u=B&~u;0<u;){var Me=31-He(u),Fe=1<<Me;K[Me]=0,le[Me]=-1;var Ae=Ce[Me];if(Ae!==null)for(Ce[Me]=null,Me=0;Me<Ae.length;Me++){var Te=Ae[Me];Te!==null&&(Te.lane&=-536870913)}u&=~Fe}p!==0&&jr(e,p,0),_!==0&&C===0&&e.tag!==0&&(e.suspendedLanes|=_&~(B&~a))}function jr(e,a,u){e.pendingLanes|=a,e.suspendedLanes&=~a;var p=31-He(a);e.entangledLanes|=a,e.entanglements[p]=e.entanglements[p]|1073741824|u&261930}function Tt(e,a){var u=e.entangledLanes|=a;for(e=e.entanglements;u;){var p=31-He(u),C=1<<p;C&a|e[p]&a&&(e[p]|=a),u&=~C}}function fn(e,a){var u=a&-a;return u=(u&42)!==0?1:wr(u),(u&(e.suspendedLanes|a))!==0?0:u}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:Sv(e.type))}function nt(e,a){var u=ge.p;try{return ge.p=e,a()}finally{ge.p=u}}var Fr=Math.random().toString(36).slice(2),En="__reactFiber$"+Fr,Jt="__reactProps$"+Fr,sr="__reactContainer$"+Fr,Fa="__reactEvents$"+Fr,Ko="__reactListeners$"+Fr,mr="__reactHandles$"+Fr,Ys="__reactResources$"+Fr,ua="__reactMarker$"+Fr;function Ur(e){delete e[En],delete e[Jt],delete e[Fa],delete e[Ko],delete e[mr]}function qn(e){var a=e[En];if(a)return a;for(var u=e.parentNode;u;){if(a=u[sr]||u[En]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(e=lv(e);e!==null;){if(u=e[En])return u;e=lv(e)}return a}e=u,u=e.parentNode}return null}function Et(e){if(e=e[En]||e[sr]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function $r(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(c(33))}function Wn(e){var a=e[Ys];return a||(a=e[Ys]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Zn(e){e[ua]=!0}var je=new Set,co={};function dn(e,a){zr(e,a),zr(e+"Capture",a)}function zr(e,a){for(co[e]=a,e=0;e<a.length;e++)je.add(a[e])}var vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},Xt={};function qt(e){return Rt.call(Xt,e)?!0:Rt.call(en,e)?!1:vi.test(e)?Xt[e]=!0:(en[e]=!0,!1)}function Pt(e,a,u){if(qt(a))if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+u)}}function bi(e,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+u)}}function Jr(e,a,u,p){if(p===null)e.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(u);return}e.setAttributeNS(a,u,""+p)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vr(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ll(e,a,u){var p=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,_=p.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return C.call(this)},set:function(B){u=""+B,_.call(this,B)}}),Object.defineProperty(e,a,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(B){u=""+B},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Pn(e){if(!e._valueTracker){var a=Vr(e)?"checked":"value";e._valueTracker=Ll(e,a,""+e[a])}}function Ea(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return e&&(p=Vr(e)?e.checked?"true":"false":e.value),e=p,e!==u?(a.setValue(e),!0):!1}function hn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ca=/[\n"\\]/g;function Mt(e){return e.replace(Ca,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Un(e,a,u,p,C,_,B,K){e.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?e.type=B:e.removeAttribute("type"),a!=null?B==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Wt(a)):e.value!==""+Wt(a)&&(e.value=""+Wt(a)):B!=="submit"&&B!=="reset"||e.removeAttribute("value"),a!=null?J(e,B,Wt(a)):u!=null?J(e,B,Wt(u)):p!=null&&e.removeAttribute("value"),C==null&&_!=null&&(e.defaultChecked=!!_),C!=null&&(e.checked=C&&typeof C!="function"&&typeof C!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?e.name=""+Wt(K):e.removeAttribute("name")}function ve(e,a,u,p,C,_,B,K){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),a!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){Pn(e);return}u=u!=null?""+Wt(u):"",a=a!=null?""+Wt(a):u,K||a===e.value||(e.value=a),e.defaultValue=a}p=p??C,p=typeof p!="function"&&typeof p!="symbol"&&!!p,e.checked=K?e.checked:!!p,e.defaultChecked=!!p,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(e.name=B),Pn(e)}function J(e,a,u){a==="number"&&hn(e.ownerDocument)===e||e.defaultValue===""+u||(e.defaultValue=""+u)}function ot(e,a,u,p){if(e=e.options,a){a={};for(var C=0;C<u.length;C++)a["$"+u[C]]=!0;for(u=0;u<e.length;u++)C=a.hasOwnProperty("$"+e[u].value),e[u].selected!==C&&(e[u].selected=C),C&&p&&(e[u].defaultSelected=!0)}else{for(u=""+Wt(u),a=null,C=0;C<e.length;C++){if(e[C].value===u){e[C].selected=!0,p&&(e[C].defaultSelected=!0);return}a!==null||e[C].disabled||(a=e[C])}a!==null&&(a.selected=!0)}}function er(e,a,u){if(a!=null&&(a=""+Wt(a),a!==e.value&&(e.value=a),u==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=u!=null?""+Wt(u):""}function Cr(e,a,u,p){if(a==null){if(p!=null){if(u!=null)throw Error(c(92));if(ce(p)){if(1<p.length)throw Error(c(93));p=p[0]}u=p}u==null&&(u=""),a=u}u=Wt(a),e.defaultValue=u,p=e.textContent,p===u&&p!==""&&p!==null&&(e.value=p),Pn(e)}function wi(e,a){if(a){var u=e.firstChild;if(u&&u===e.lastChild&&u.nodeType===3){u.nodeValue=a;return}}e.textContent=a}var Ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,a,u){var p=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":p?e.setProperty(a,u):typeof u!="number"||u===0||Ws.has(a)?a==="float"?e.cssFloat=u:e[a]=(""+u).trim():e[a]=u+"px"}function pt(e,a,u){if(a!=null&&typeof a!="object")throw Error(c(62));if(e=e.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?e.setProperty(p,""):p==="float"?e.cssFloat="":e[p]="");for(var C in a)p=a[C],a.hasOwnProperty(C)&&u[C]!==p&&_t(e,C,p)}else for(var _ in a)a.hasOwnProperty(_)&&_t(e,_,a[_])}function Rn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ir(){}var ea=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kn=null,vn=null;function lr(e){var a=Et(e);if(a&&(e=a.stateNode)){var u=e[Jt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Un(e,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=e;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==e&&p.form===e.form){var C=p[Jt]||null;if(!C)throw Error(c(90));Un(p,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(a=0;a<u.length;a++)p=u[a],p.form===e.form&&Ea(p)}break e;case"textarea":er(e,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ot(e,!!u.multiple,a,!1)}}}var gt=!1;function zi(e,a,u){if(gt)return e(a,u);gt=!0;try{var p=e(a);return p}finally{if(gt=!1,(kn!==null||vn!==null)&&(Zf(),kn&&(a=kn,e=vn,vn=kn=null,lr(a),e)))for(a=0;a<e.length;a++)lr(e[a])}}function St(e,a){var u=e.stateNode;if(u===null)return null;var p=u[Jt]||null;if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(e=e.type,p=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!p;break e;default:e=!1}if(e)return null;if(u&&typeof u!="function")throw Error(c(231,a,typeof u));return u}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(tn)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Zs=!1}var da=null,Sa=null,Vi=null;function Aa(){if(Vi)return Vi;var e,a=Sa,u=a.length,p,C="value"in da?da.value:da.textContent,_=C.length;for(e=0;e<u&&a[e]===C[e];e++);var B=u-e;for(p=1;p<=B&&a[u-p]===C[_-p];p++);return Vi=C.slice(e,1<p?1-p:void 0)}function _a(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function Qs(){return!1}function Xn(e){function a(u,p,C,_,B){this._reactName=u,this._targetInst=C,this.type=p,this.nativeEvent=_,this.target=B,this.currentTarget=null;for(var K in e)e.hasOwnProperty(K)&&(u=e[K],this[K]=u?u(_):_[K]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ua:Qs,this.isPropagationStopped=Qs,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),a}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=Xn(ha),za=N({},ha,{view:0,detail:0}),uo=Xn(za),Hi,$s,fo,Wo=N({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(Hi=e.screenX-fo.screenX,$s=e.screenY-fo.screenY):$s=Hi=0,fo=e),Hi)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),on=Xn(Wo),Zo=N({},Wo,{dataTransfer:0}),ho=Xn(Zo),ma=N({},za,{relatedTarget:0}),Gi=Xn(ma),_e=N({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),kt=Xn(_e),gr=N({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Va=Xn(gr),Qo=N({},ha,{data:0}),$o=Xn(Qo),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},el={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zn(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=cr[e])?!!a[e]:!1}function Ha(){return zn}var Vn=N({},za,{key:function(e){if(e.key){var a=Js[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=_a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?el[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(e){return e.type==="keypress"?_a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ei=Xn(Vn),oi=N({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Xn(oi),yt=N({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),tl=Xn(yt),sn=N({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ga=Xn(sn),si=N({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=Xn(si),ta=N({},ha,{newState:0,oldState:0}),es=Xn(ta),Fl=[9,13,27,32],Ci=tn&&"CompositionEvent"in window,qa=null;tn&&"documentMode"in document&&(qa=document.documentMode);var Ul=tn&&"TextEvent"in window&&!qa,ts=tn&&(!Ci||qa&&8<qa&&11>=qa),Xa=" ",ns=!1;function nl(e,a){switch(e){case"keyup":return Fl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function Ka(e,a){switch(e){case"compositionend":return qi(a);case"keypress":return a.which!==32?null:(ns=!0,Xa);case"textInput":return e=a.data,e===Xa&&ns?null:e;default:return null}}function rs(e,a){if(Si)return e==="compositionend"||!Ci&&nl(e,a)?(e=Aa(),Vi=Sa=da=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ts&&a.locale!=="ko"?null:a.data;default:return null}}var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mo(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Gr[e.type]:a==="textarea"}function na(e,a,u,p){kn?vn?vn.push(p):vn=[p]:kn=p,a=rd(a,"onChange"),0<a.length&&(u=new pr("onChange","change",null,u,p),e.push({event:u,listeners:a}))}var Xi=null,Ai=null;function Yc(e){Yx(e,0)}function po(e){var a=$r(e);if(Ea(a))return e}function Pr(e,a){if(e==="change")return a}var Ta=!1;if(tn){var On;if(tn){var Na="oninput"in document;if(!Na){var jt=document.createElement("div");jt.setAttribute("oninput","return;"),Na=typeof jt.oninput=="function"}On=Na}else On=!1;Ta=On&&(!document.documentMode||9<document.documentMode)}function go(){Xi&&(Xi.detachEvent("onpropertychange",F),Ai=Xi=null)}function F(e){if(e.propertyName==="value"&&po(Ai)){var a=[];na(a,Ai,e,Yo(e)),zi(Yc,a)}}function n(e,a,u){e==="focusin"?(go(),Xi=a,Ai=u,Xi.attachEvent("onpropertychange",F)):e==="focusout"&&go()}function o(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Ai)}function l(e,a){if(e==="click")return po(a)}function f(e,a){if(e==="input"||e==="change")return po(a)}function m(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var g=typeof Object.is=="function"?Object.is:m;function s(e,a){if(g(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var u=Object.keys(e),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var C=u[p];if(!Rt.call(a,C)||!g(e[C],a[C]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x(e,a){var u=d(e);e=0;for(var p;u;){if(u.nodeType===3){if(p=e+u.textContent.length,e<=a&&p>=a)return{node:u,offset:a-e};e=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=d(u)}}function w(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?w(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=hn(e.document);a instanceof e.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)e=a.contentWindow;else break;a=hn(e.document)}return a}function T(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var D=tn&&"documentMode"in document&&11>=document.documentMode,L=null,z=null,W=null,Y=!1;function Q(e,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Y||L==null||L!==hn(p)||(p=L,"selectionStart"in p&&T(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),W&&s(W,p)||(W=p,p=rd(z,"onSelect"),0<p.length&&(a=new pr("onSelect","select",null,a,u),e.push({event:a,listeners:p}),a.target=L)))}function ee(e,a){var u={};return u[e.toLowerCase()]=a.toLowerCase(),u["Webkit"+e]="webkit"+a,u["Moz"+e]="moz"+a,u}var $={animationend:ee("Animation","AnimationEnd"),animationiteration:ee("Animation","AnimationIteration"),animationstart:ee("Animation","AnimationStart"),transitionrun:ee("Transition","TransitionRun"),transitionstart:ee("Transition","TransitionStart"),transitioncancel:ee("Transition","TransitionCancel"),transitionend:ee("Transition","TransitionEnd")},se={},oe={};tn&&(oe=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);function pe(e){if(se[e])return se[e];if(!$[e])return e;var a=$[e],u;for(u in a)if(a.hasOwnProperty(u)&&u in oe)return se[e]=a[u];return e}var be=pe("animationend"),he=pe("animationiteration"),Se=pe("animationstart"),Pe=pe("transitionrun"),Ye=pe("transitionstart"),We=pe("transitioncancel"),Ge=pe("transitionend"),at=new Map,$e="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$e.push("scrollEnd");function Ke(e,a){at.set(e,a),dn(a,[e])}var it=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],Kt=0,vt=0;function Bt(){for(var e=Kt,a=vt=Kt=0;a<e;){var u=Nt[a];Nt[a++]=null;var p=Nt[a];Nt[a++]=null;var C=Nt[a];Nt[a++]=null;var _=Nt[a];if(Nt[a++]=null,p!==null&&C!==null){var B=p.pending;B===null?C.next=C:(C.next=B.next,B.next=C),p.pending=C}_!==0&&Ki(u,C,_)}}function Bn(e,a,u,p){Nt[Kt++]=e,Nt[Kt++]=a,Nt[Kt++]=u,Nt[Kt++]=p,vt|=p,e.lanes|=p,e=e.alternate,e!==null&&(e.lanes|=p)}function ra(e,a,u,p){return Bn(e,a,u,p),as(e)}function Cn(e,a){return Bn(e,null,null,a),as(e)}function Ki(e,a,u){e.lanes|=u;var p=e.alternate;p!==null&&(p.lanes|=u);for(var C=!1,_=e.return;_!==null;)_.childLanes|=u,p=_.alternate,p!==null&&(p.childLanes|=u),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(C=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,C&&a!==null&&(C=31-He(u),e=_.hiddenUpdates,p=e[C],p===null?e[C]=[a]:p.push(a),a.lane=u|536870912),_):null}function as(e){if(50<gu)throw gu=0,b1=null,Error(c(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var zl={};function i3(e,a,u,p){this.tag=e,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(e,a,u,p){return new i3(e,a,u,p)}function d0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yo(e,a){var u=e.alternate;return u===null?(u=Ya(e.tag,a,e.key,e.mode),u.elementType=e.elementType,u.type=e.type,u.stateNode=e.stateNode,u.alternate=e,e.alternate=u):(u.pendingProps=a,u.type=e.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=e.flags&65011712,u.childLanes=e.childLanes,u.lanes=e.lanes,u.child=e.child,u.memoizedProps=e.memoizedProps,u.memoizedState=e.memoizedState,u.updateQueue=e.updateQueue,a=e.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=e.sibling,u.index=e.index,u.ref=e.ref,u.refCleanup=e.refCleanup,u}function Og(e,a){e.flags&=65011714;var u=e.alternate;return u===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=u.childLanes,e.lanes=u.lanes,e.child=u.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=u.memoizedProps,e.memoizedState=u.memoizedState,e.updateQueue=u.updateQueue,e.type=u.type,a=u.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function bf(e,a,u,p,C,_){var B=0;if(p=e,typeof e=="function")d0(e)&&(B=1);else if(typeof e=="string")B=u_(e,u,Oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Ya(31,u,a,C),e.elementType=te,e.lanes=_,e;case P:return rl(u.children,C,_,a);case j:B=8,C|=24;break;case X:return e=Ya(12,u,a,C|2),e.elementType=X,e.lanes=_,e;case ae:return e=Ya(13,u,a,C),e.elementType=ae,e.lanes=_,e;case re:return e=Ya(19,u,a,C),e.elementType=re,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:B=10;break e;case G:B=9;break e;case q:B=11;break e;case V:B=14;break e;case Z:B=16,p=null;break e}B=29,u=Error(c(130,e===null?"null":typeof e,"")),p=null}return a=Ya(B,u,a,C),a.elementType=e,a.type=p,a.lanes=_,a}function rl(e,a,u,p){return e=Ya(7,e,p,a),e.lanes=u,e}function h0(e,a,u){return e=Ya(6,e,null,a),e.lanes=u,e}function Ig(e){var a=Ya(18,null,null,0);return a.stateNode=e,a}function m0(e,a,u){return a=Ya(4,e.children!==null?e.children:[],e.key,a),a.lanes=u,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Mg=new WeakMap;function li(e,a){if(typeof e=="object"&&e!==null){var u=Mg.get(e);return u!==void 0?u:(a={value:e,source:a,stack:Yt(a)},Mg.set(e,a),a)}return{value:e,source:a,stack:Yt(a)}}var Vl=[],Hl=0,wf=null,Wc=0,ci=[],ui=0,is=null,Yi=1,Wi="";function xo(e,a){Vl[Hl++]=Wc,Vl[Hl++]=wf,wf=e,Wc=a}function Dg(e,a,u){ci[ui++]=Yi,ci[ui++]=Wi,ci[ui++]=is,is=e;var p=Yi;e=Wi;var C=32-He(p)-1;p&=~(1<<C),u+=1;var _=32-He(a)+C;if(30<_){var B=C-C%5;_=(p&(1<<B)-1).toString(32),p>>=B,C-=B,Yi=1<<32-He(a)+C|u<<C|p,Wi=_+e}else Yi=1<<_|u<<C|p,Wi=e}function p0(e){e.return!==null&&(xo(e,1),Dg(e,1,0))}function g0(e){for(;e===wf;)wf=Vl[--Hl],Vl[Hl]=null,Wc=Vl[--Hl],Vl[Hl]=null;for(;e===is;)is=ci[--ui],ci[ui]=null,Wi=ci[--ui],ci[ui]=null,Yi=ci[--ui],ci[ui]=null}function Pg(e,a){ci[ui++]=Yi,ci[ui++]=Wi,ci[ui++]=is,Yi=a.id,Wi=a.overflow,is=e}var qr=null,Qn=null,ln=!1,os=null,fi=!1,y0=Error(c(519));function ss(e){var a=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(li(a,e)),y0}function kg(e){var a=e.stateNode,u=e.type,p=e.memoizedProps;switch(a[En]=e,a[Jt]=p,u){case"dialog":Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(u=0;u<xu.length;u++)Qt(xu[u],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"input":Qt("invalid",a),ve(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Qt("invalid",a);break;case"textarea":Qt("invalid",a),Cr(a,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||p.suppressHydrationWarning===!0||$x(a.textContent,u)?(p.popover!=null&&(Qt("beforetoggle",a),Qt("toggle",a)),p.onScroll!=null&&Qt("scroll",a),p.onScrollEnd!=null&&Qt("scrollend",a),p.onClick!=null&&(a.onclick=Ir),a=!0):a=!1,a||ss(e,!0)}function Bg(e){for(qr=e.return;qr;)switch(qr.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:qr=qr.return}}function Gl(e){if(e!==qr)return!1;if(!ln)return Bg(e),ln=!0,!1;var a=e.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=e.type,u=!(u!=="form"&&u!=="button")||k1(e.type,e.memoizedProps)),u=!u),u&&Qn&&ss(e),Bg(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Qn=sv(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Qn=sv(e)}else a===27?(a=Qn,ws(e.type)?(e=U1,U1=null,Qn=e):Qn=a):Qn=qr?hi(e.stateNode.nextSibling):null;return!0}function al(){Qn=qr=null,ln=!1}function x0(){var e=os;return e!==null&&(Ma===null?Ma=e:Ma.push.apply(Ma,e),os=null),e}function Zc(e){os===null?os=[e]:os.push(e)}var v0=ne(null),il=null,vo=null;function ls(e,a,u){Ie(v0,a._currentValue),a._currentValue=u}function bo(e){e._currentValue=v0.current,de(v0)}function b0(e,a,u){for(;e!==null;){var p=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),e===u)break;e=e.return}}function w0(e,a,u,p){var C=e.child;for(C!==null&&(C.return=e);C!==null;){var _=C.dependencies;if(_!==null){var B=C.child;_=_.firstContext;e:for(;_!==null;){var K=_;_=C;for(var le=0;le<a.length;le++)if(K.context===a[le]){_.lanes|=u,K=_.alternate,K!==null&&(K.lanes|=u),b0(_.return,u,e),p||(B=null);break e}_=K.next}}else if(C.tag===18){if(B=C.return,B===null)throw Error(c(341));B.lanes|=u,_=B.alternate,_!==null&&(_.lanes|=u),b0(B,u,e),B=null}else B=C.child;if(B!==null)B.return=C;else for(B=C;B!==null;){if(B===e){B=null;break}if(C=B.sibling,C!==null){C.return=B.return,B=C;break}B=B.return}C=B}}function ql(e,a,u,p){e=null;for(var C=a,_=!1;C!==null;){if(!_){if((C.flags&524288)!==0)_=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var B=C.alternate;if(B===null)throw Error(c(387));if(B=B.memoizedProps,B!==null){var K=C.type;g(C.pendingProps.value,B.value)||(e!==null?e.push(K):e=[K])}}else if(C===Be.current){if(B=C.alternate,B===null)throw Error(c(387));B.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(e!==null?e.push(Cu):e=[Cu])}C=C.return}e!==null&&w0(a,e,u,p),a.flags|=262144}function Ef(e){for(e=e.firstContext;e!==null;){if(!g(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ol(e){il=e,vo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xr(e){return Lg(il,e)}function Cf(e,a){return il===null&&ol(e),Lg(e,a)}function Lg(e,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},vo===null){if(e===null)throw Error(c(308));vo=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else vo=vo.next=a;return u}var o3=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(u,p){e.push(p)}};this.abort=function(){a.aborted=!0,e.forEach(function(u){return u()})}},s3=t.unstable_scheduleCallback,l3=t.unstable_NormalPriority,Ar={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new o3,data:new Map,refCount:0}}function Qc(e){e.refCount--,e.refCount===0&&s3(l3,function(){e.controller.abort()})}var $c=null,C0=0,Xl=0,Kl=null;function c3(e,a){if($c===null){var u=$c=[];C0=0,Xl=_1(),Kl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return C0++,a.then(jg,jg),a}function jg(){if(--C0===0&&$c!==null){Kl!==null&&(Kl.status="fulfilled");var e=$c;$c=null,Xl=0,Kl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function u3(e,a){var u=[],p={status:"pending",value:null,reason:null,then:function(C){u.push(C)}};return e.then(function(){p.status="fulfilled",p.value=a;for(var C=0;C<u.length;C++)(0,u[C])(a)},function(C){for(p.status="rejected",p.reason=C,C=0;C<u.length;C++)(0,u[C])(void 0)}),p}var Fg=ie.S;ie.S=function(e,a){Ex=Dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&c3(e,a),Fg!==null&&Fg(e,a)};var sl=ne(null);function S0(){var e=sl.current;return e!==null?e:Hn.pooledCache}function Sf(e,a){a===null?Ie(sl,sl.current):Ie(sl,a.pool)}function Ug(){var e=S0();return e===null?null:{parent:Ar._currentValue,pool:e}}var Yl=Error(c(460)),A0=Error(c(474)),Af=Error(c(542)),_f={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,a,u){switch(u=e[u],u===void 0?e.push(a):u!==a&&(a.then(Ir,Ir),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Gg(e),e;default:if(typeof a.status=="string")a.then(Ir,Ir);else{if(e=Hn,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=a,e.status="pending",e.then(function(p){if(a.status==="pending"){var C=a;C.status="fulfilled",C.value=p}},function(p){if(a.status==="pending"){var C=a;C.status="rejected",C.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Gg(e),e}throw cl=a,Yl}}function ll(e){try{var a=e._init;return a(e._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(cl=u,Yl):u}}var cl=null;function Hg(){if(cl===null)throw Error(c(459));var e=cl;return cl=null,e}function Gg(e){if(e===Yl||e===Af)throw Error(c(483))}var Wl=null,Jc=0;function Tf(e){var a=Jc;return Jc+=1,Wl===null&&(Wl=[]),Vg(Wl,e,a)}function eu(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Nf(e,a){throw a.$$typeof===k?Error(c(525)):(e=Object.prototype.toString.call(a),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function qg(e){function a(ye,ue){if(e){var Ee=ye.deletions;Ee===null?(ye.deletions=[ue],ye.flags|=16):Ee.push(ue)}}function u(ye,ue){if(!e)return null;for(;ue!==null;)a(ye,ue),ue=ue.sibling;return null}function p(ye){for(var ue=new Map;ye!==null;)ye.key!==null?ue.set(ye.key,ye):ue.set(ye.index,ye),ye=ye.sibling;return ue}function C(ye,ue){return ye=yo(ye,ue),ye.index=0,ye.sibling=null,ye}function _(ye,ue,Ee){return ye.index=Ee,e?(Ee=ye.alternate,Ee!==null?(Ee=Ee.index,Ee<ue?(ye.flags|=67108866,ue):Ee):(ye.flags|=67108866,ue)):(ye.flags|=1048576,ue)}function B(ye){return e&&ye.alternate===null&&(ye.flags|=67108866),ye}function K(ye,ue,Ee,ke){return ue===null||ue.tag!==6?(ue=h0(Ee,ye.mode,ke),ue.return=ye,ue):(ue=C(ue,Ee),ue.return=ye,ue)}function le(ye,ue,Ee,ke){var bt=Ee.type;return bt===P?Me(ye,ue,Ee.props.children,ke,Ee.key):ue!==null&&(ue.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Z&&ll(bt)===ue.type)?(ue=C(ue,Ee.props),eu(ue,Ee),ue.return=ye,ue):(ue=bf(Ee.type,Ee.key,Ee.props,null,ye.mode,ke),eu(ue,Ee),ue.return=ye,ue)}function Ce(ye,ue,Ee,ke){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Ee.containerInfo||ue.stateNode.implementation!==Ee.implementation?(ue=m0(Ee,ye.mode,ke),ue.return=ye,ue):(ue=C(ue,Ee.children||[]),ue.return=ye,ue)}function Me(ye,ue,Ee,ke,bt){return ue===null||ue.tag!==7?(ue=rl(Ee,ye.mode,ke,bt),ue.return=ye,ue):(ue=C(ue,Ee),ue.return=ye,ue)}function Fe(ye,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=h0(""+ue,ye.mode,Ee),ue.return=ye,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return Ee=bf(ue.type,ue.key,ue.props,null,ye.mode,Ee),eu(Ee,ue),Ee.return=ye,Ee;case U:return ue=m0(ue,ye.mode,Ee),ue.return=ye,ue;case Z:return ue=ll(ue),Fe(ye,ue,Ee)}if(ce(ue)||xe(ue))return ue=rl(ue,ye.mode,Ee,null),ue.return=ye,ue;if(typeof ue.then=="function")return Fe(ye,Tf(ue),Ee);if(ue.$$typeof===H)return Fe(ye,Cf(ye,ue),Ee);Nf(ye,ue)}return null}function Ae(ye,ue,Ee,ke){var bt=ue!==null?ue.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return bt!==null?null:K(ye,ue,""+Ee,ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case M:return Ee.key===bt?le(ye,ue,Ee,ke):null;case U:return Ee.key===bt?Ce(ye,ue,Ee,ke):null;case Z:return Ee=ll(Ee),Ae(ye,ue,Ee,ke)}if(ce(Ee)||xe(Ee))return bt!==null?null:Me(ye,ue,Ee,ke,null);if(typeof Ee.then=="function")return Ae(ye,ue,Tf(Ee),ke);if(Ee.$$typeof===H)return Ae(ye,ue,Cf(ye,Ee),ke);Nf(ye,Ee)}return null}function Te(ye,ue,Ee,ke,bt){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ye=ye.get(Ee)||null,K(ue,ye,""+ke,bt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case M:return ye=ye.get(ke.key===null?Ee:ke.key)||null,le(ue,ye,ke,bt);case U:return ye=ye.get(ke.key===null?Ee:ke.key)||null,Ce(ue,ye,ke,bt);case Z:return ke=ll(ke),Te(ye,ue,Ee,ke,bt)}if(ce(ke)||xe(ke))return ye=ye.get(Ee)||null,Me(ue,ye,ke,bt,null);if(typeof ke.then=="function")return Te(ye,ue,Ee,Tf(ke),bt);if(ke.$$typeof===H)return Te(ye,ue,Ee,Cf(ue,ke),bt);Nf(ue,ke)}return null}function ct(ye,ue,Ee,ke){for(var bt=null,gn=null,dt=ue,Vt=ue=0,rn=null;dt!==null&&Vt<Ee.length;Vt++){dt.index>Vt?(rn=dt,dt=null):rn=dt.sibling;var yn=Ae(ye,dt,Ee[Vt],ke);if(yn===null){dt===null&&(dt=rn);break}e&&dt&&yn.alternate===null&&a(ye,dt),ue=_(yn,ue,Vt),gn===null?bt=yn:gn.sibling=yn,gn=yn,dt=rn}if(Vt===Ee.length)return u(ye,dt),ln&&xo(ye,Vt),bt;if(dt===null){for(;Vt<Ee.length;Vt++)dt=Fe(ye,Ee[Vt],ke),dt!==null&&(ue=_(dt,ue,Vt),gn===null?bt=dt:gn.sibling=dt,gn=dt);return ln&&xo(ye,Vt),bt}for(dt=p(dt);Vt<Ee.length;Vt++)rn=Te(dt,ye,Vt,Ee[Vt],ke),rn!==null&&(e&&rn.alternate!==null&&dt.delete(rn.key===null?Vt:rn.key),ue=_(rn,ue,Vt),gn===null?bt=rn:gn.sibling=rn,gn=rn);return e&&dt.forEach(function(_s){return a(ye,_s)}),ln&&xo(ye,Vt),bt}function Ct(ye,ue,Ee,ke){if(Ee==null)throw Error(c(151));for(var bt=null,gn=null,dt=ue,Vt=ue=0,rn=null,yn=Ee.next();dt!==null&&!yn.done;Vt++,yn=Ee.next()){dt.index>Vt?(rn=dt,dt=null):rn=dt.sibling;var _s=Ae(ye,dt,yn.value,ke);if(_s===null){dt===null&&(dt=rn);break}e&&dt&&_s.alternate===null&&a(ye,dt),ue=_(_s,ue,Vt),gn===null?bt=_s:gn.sibling=_s,gn=_s,dt=rn}if(yn.done)return u(ye,dt),ln&&xo(ye,Vt),bt;if(dt===null){for(;!yn.done;Vt++,yn=Ee.next())yn=Fe(ye,yn.value,ke),yn!==null&&(ue=_(yn,ue,Vt),gn===null?bt=yn:gn.sibling=yn,gn=yn);return ln&&xo(ye,Vt),bt}for(dt=p(dt);!yn.done;Vt++,yn=Ee.next())yn=Te(dt,ye,Vt,yn.value,ke),yn!==null&&(e&&yn.alternate!==null&&dt.delete(yn.key===null?Vt:yn.key),ue=_(yn,ue,Vt),gn===null?bt=yn:gn.sibling=yn,gn=yn);return e&&dt.forEach(function(w_){return a(ye,w_)}),ln&&xo(ye,Vt),bt}function Fn(ye,ue,Ee,ke){if(typeof Ee=="object"&&Ee!==null&&Ee.type===P&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case M:e:{for(var bt=Ee.key;ue!==null;){if(ue.key===bt){if(bt=Ee.type,bt===P){if(ue.tag===7){u(ye,ue.sibling),ke=C(ue,Ee.props.children),ke.return=ye,ye=ke;break e}}else if(ue.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Z&&ll(bt)===ue.type){u(ye,ue.sibling),ke=C(ue,Ee.props),eu(ke,Ee),ke.return=ye,ye=ke;break e}u(ye,ue);break}else a(ye,ue);ue=ue.sibling}Ee.type===P?(ke=rl(Ee.props.children,ye.mode,ke,Ee.key),ke.return=ye,ye=ke):(ke=bf(Ee.type,Ee.key,Ee.props,null,ye.mode,ke),eu(ke,Ee),ke.return=ye,ye=ke)}return B(ye);case U:e:{for(bt=Ee.key;ue!==null;){if(ue.key===bt)if(ue.tag===4&&ue.stateNode.containerInfo===Ee.containerInfo&&ue.stateNode.implementation===Ee.implementation){u(ye,ue.sibling),ke=C(ue,Ee.children||[]),ke.return=ye,ye=ke;break e}else{u(ye,ue);break}else a(ye,ue);ue=ue.sibling}ke=m0(Ee,ye.mode,ke),ke.return=ye,ye=ke}return B(ye);case Z:return Ee=ll(Ee),Fn(ye,ue,Ee,ke)}if(ce(Ee))return ct(ye,ue,Ee,ke);if(xe(Ee)){if(bt=xe(Ee),typeof bt!="function")throw Error(c(150));return Ee=bt.call(Ee),Ct(ye,ue,Ee,ke)}if(typeof Ee.then=="function")return Fn(ye,ue,Tf(Ee),ke);if(Ee.$$typeof===H)return Fn(ye,ue,Cf(ye,Ee),ke);Nf(ye,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,ue!==null&&ue.tag===6?(u(ye,ue.sibling),ke=C(ue,Ee),ke.return=ye,ye=ke):(u(ye,ue),ke=h0(Ee,ye.mode,ke),ke.return=ye,ye=ke),B(ye)):u(ye,ue)}return function(ye,ue,Ee,ke){try{Jc=0;var bt=Fn(ye,ue,Ee,ke);return Wl=null,bt}catch(dt){if(dt===Yl||dt===Af)throw dt;var gn=Ya(29,dt,null,ye.mode);return gn.lanes=ke,gn.return=ye,gn}finally{}}}var ul=qg(!0),Xg=qg(!1),cs=!1;function _0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fs(e,a,u){var p=e.updateQueue;if(p===null)return null;if(p=p.shared,(bn&2)!==0){var C=p.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),p.pending=a,a=as(e),Ki(e,null,u),a}return Bn(e,p,a,u),as(e)}function tu(e,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var p=a.lanes;p&=e.pendingLanes,u|=p,a.lanes=u,Tt(e,u)}}function N0(e,a){var u=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var C=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var B={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?C=_=B:_=_.next=B,u=u.next}while(u!==null);_===null?C=_=a:_=_.next=a}else C=_=a;u={baseState:p.baseState,firstBaseUpdate:C,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},e.updateQueue=u;return}e=u.lastBaseUpdate,e===null?u.firstBaseUpdate=a:e.next=a,u.lastBaseUpdate=a}var R0=!1;function nu(){if(R0){var e=Kl;if(e!==null)throw e}}function ru(e,a,u,p){R0=!1;var C=e.updateQueue;cs=!1;var _=C.firstBaseUpdate,B=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var le=K,Ce=le.next;le.next=null,B===null?_=Ce:B.next=Ce,B=le;var Me=e.alternate;Me!==null&&(Me=Me.updateQueue,K=Me.lastBaseUpdate,K!==B&&(K===null?Me.firstBaseUpdate=Ce:K.next=Ce,Me.lastBaseUpdate=le))}if(_!==null){var Fe=C.baseState;B=0,Me=Ce=le=null,K=_;do{var Ae=K.lane&-536870913,Te=Ae!==K.lane;if(Te?(nn&Ae)===Ae:(p&Ae)===Ae){Ae!==0&&Ae===Xl&&(R0=!0),Me!==null&&(Me=Me.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var ct=e,Ct=K;Ae=a;var Fn=u;switch(Ct.tag){case 1:if(ct=Ct.payload,typeof ct=="function"){Fe=ct.call(Fn,Fe,Ae);break e}Fe=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Ct.payload,Ae=typeof ct=="function"?ct.call(Fn,Fe,Ae):ct,Ae==null)break e;Fe=N({},Fe,Ae);break e;case 2:cs=!0}}Ae=K.callback,Ae!==null&&(e.flags|=64,Te&&(e.flags|=8192),Te=C.callbacks,Te===null?C.callbacks=[Ae]:Te.push(Ae))}else Te={lane:Ae,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Me===null?(Ce=Me=Te,le=Fe):Me=Me.next=Te,B|=Ae;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;Te=K,K=Te.next,Te.next=null,C.lastBaseUpdate=Te,C.shared.pending=null}}while(!0);Me===null&&(le=Fe),C.baseState=le,C.firstBaseUpdate=Ce,C.lastBaseUpdate=Me,_===null&&(C.shared.lanes=0),gs|=B,e.lanes=B,e.memoizedState=Fe}}function Kg(e,a){if(typeof e!="function")throw Error(c(191,e));e.call(a)}function Yg(e,a){var u=e.callbacks;if(u!==null)for(e.callbacks=null,e=0;e<u.length;e++)Kg(u[e],a)}var Zl=ne(null),Rf=ne(0);function Wg(e,a){e=Ro,Ie(Rf,e),Ie(Zl,a),Ro=e|a.baseLanes}function O0(){Ie(Rf,Ro),Ie(Zl,Zl.current)}function I0(){Ro=Rf.current,de(Zl),de(Rf)}var Wa=ne(null),di=null;function ds(e){var a=e.alternate;Ie(yr,yr.current&1),Ie(Wa,e),di===null&&(a===null||Zl.current!==null||a.memoizedState!==null)&&(di=e)}function M0(e){Ie(yr,yr.current),Ie(Wa,e),di===null&&(di=e)}function Zg(e){e.tag===22?(Ie(yr,yr.current),Ie(Wa,e),di===null&&(di=e)):hs()}function hs(){Ie(yr,yr.current),Ie(Wa,Wa.current)}function Za(e){de(Wa),di===e&&(di=null),de(yr)}var yr=ne(0);function Of(e){for(var a=e;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||j1(u)||F1(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wo=0,Ut=null,Ln=null,_r=null,If=!1,Ql=!1,fl=!1,Mf=0,au=0,$l=null,f3=0;function ur(){throw Error(c(321))}function D0(e,a){if(a===null)return!1;for(var u=0;u<a.length&&u<e.length;u++)if(!g(e[u],a[u]))return!1;return!0}function P0(e,a,u,p,C,_){return wo=_,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ie.H=e===null||e.memoizedState===null?Dy:W0,fl=!1,_=u(p,C),fl=!1,Ql&&(_=$g(a,u,p,C)),Qg(e),_}function Qg(e){ie.H=su;var a=Ln!==null&&Ln.next!==null;if(wo=0,_r=Ln=Ut=null,If=!1,au=0,$l=null,a)throw Error(c(300));e===null||Tr||(e=e.dependencies,e!==null&&Ef(e)&&(Tr=!0))}function $g(e,a,u,p){Ut=e;var C=0;do{if(Ql&&($l=null),au=0,Ql=!1,25<=C)throw Error(c(301));if(C+=1,_r=Ln=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=Py,_=a(u,p)}while(Ql);return _}function d3(){var e=ie.H,a=e.useState()[0];return a=typeof a.then=="function"?iu(a):a,e=e.useState()[0],(Ln!==null?Ln.memoizedState:null)!==e&&(Ut.flags|=1024),a}function k0(){var e=Mf!==0;return Mf=0,e}function B0(e,a,u){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~u}function L0(e){if(If){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}If=!1}wo=0,_r=Ln=Ut=null,Ql=!1,au=Mf=0,$l=null}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Ut.memoizedState=_r=e:_r=_r.next=e,_r}function xr(){if(Ln===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var a=_r===null?Ut.memoizedState:_r.next;if(a!==null)_r=a,Ln=e;else{if(e===null)throw Ut.alternate===null?Error(c(467)):Error(c(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},_r===null?Ut.memoizedState=_r=e:_r=_r.next=e}return _r}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(e){var a=au;return au+=1,$l===null&&($l=[]),e=Vg($l,e,a),a=Ut,(_r===null?a.memoizedState:_r.next)===null&&(a=a.alternate,ie.H=a===null||a.memoizedState===null?Dy:W0),e}function Pf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return iu(e);if(e.$$typeof===H)return Xr(e)}throw Error(c(438,String(e)))}function j0(e){var a=null,u=Ut.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var p=Ut.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(C){return C.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Df(),Ut.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(e),p=0;p<e;p++)u[p]=fe;return a.index++,u}function Eo(e,a){return typeof a=="function"?a(e):a}function kf(e){var a=xr();return F0(a,Ln,e)}function F0(e,a,u){var p=e.queue;if(p===null)throw Error(c(311));p.lastRenderedReducer=u;var C=e.baseQueue,_=p.pending;if(_!==null){if(C!==null){var B=C.next;C.next=_.next,_.next=B}a.baseQueue=C=_,p.pending=null}if(_=e.baseState,C===null)e.memoizedState=_;else{a=C.next;var K=B=null,le=null,Ce=a,Me=!1;do{var Fe=Ce.lane&-536870913;if(Fe!==Ce.lane?(nn&Fe)===Fe:(wo&Fe)===Fe){var Ae=Ce.revertLane;if(Ae===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Fe===Xl&&(Me=!0);else if((wo&Ae)===Ae){Ce=Ce.next,Ae===Xl&&(Me=!0);continue}else Fe={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},le===null?(K=le=Fe,B=_):le=le.next=Fe,Ut.lanes|=Ae,gs|=Ae;Fe=Ce.action,fl&&u(_,Fe),_=Ce.hasEagerState?Ce.eagerState:u(_,Fe)}else Ae={lane:Fe,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},le===null?(K=le=Ae,B=_):le=le.next=Ae,Ut.lanes|=Fe,gs|=Fe;Ce=Ce.next}while(Ce!==null&&Ce!==a);if(le===null?B=_:le.next=K,!g(_,e.memoizedState)&&(Tr=!0,Me&&(u=Kl,u!==null)))throw u;e.memoizedState=_,e.baseState=B,e.baseQueue=le,p.lastRenderedState=_}return C===null&&(p.lanes=0),[e.memoizedState,p.dispatch]}function U0(e){var a=xr(),u=a.queue;if(u===null)throw Error(c(311));u.lastRenderedReducer=e;var p=u.dispatch,C=u.pending,_=a.memoizedState;if(C!==null){u.pending=null;var B=C=C.next;do _=e(_,B.action),B=B.next;while(B!==C);g(_,a.memoizedState)||(Tr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,p]}function Jg(e,a,u){var p=Ut,C=xr(),_=ln;if(_){if(u===void 0)throw Error(c(407));u=u()}else u=a();var B=!g((Ln||C).memoizedState,u);if(B&&(C.memoizedState=u,Tr=!0),C=C.queue,H0(ny.bind(null,p,C,e),[e]),C.getSnapshot!==a||B||_r!==null&&_r.memoizedState.tag&1){if(p.flags|=2048,Jl(9,{destroy:void 0},ty.bind(null,p,C,u,a),null),Hn===null)throw Error(c(349));_||(wo&127)!==0||ey(p,a,u)}return u}function ey(e,a,u){e.flags|=16384,e={getSnapshot:a,value:u},a=Ut.updateQueue,a===null?(a=Df(),Ut.updateQueue=a,a.stores=[e]):(u=a.stores,u===null?a.stores=[e]:u.push(e))}function ty(e,a,u,p){a.value=u,a.getSnapshot=p,ry(a)&&ay(e)}function ny(e,a,u){return u(function(){ry(a)&&ay(e)})}function ry(e){var a=e.getSnapshot;e=e.value;try{var u=a();return!g(e,u)}catch{return!0}}function ay(e){var a=Cn(e,2);a!==null&&Da(a,e,2)}function z0(e){var a=pa();if(typeof e=="function"){var u=e;if(e=u(),fl){Gt(!0);try{u()}finally{Gt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},a}function iy(e,a,u,p){return e.baseState=u,F0(e,Ln,typeof p=="function"?p:Eo)}function h3(e,a,u,p,C){if(jf(e))throw Error(c(485));if(e=a.action,e!==null){var _={payload:C,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){_.listeners.push(B)}};ie.T!==null?u(!0):_.isTransition=!1,p(_),u=a.pending,u===null?(_.next=a.pending=_,oy(a,_)):(_.next=u.next,a.pending=u.next=_)}}function oy(e,a){var u=a.action,p=a.payload,C=e.state;if(a.isTransition){var _=ie.T,B={};ie.T=B;try{var K=u(C,p),le=ie.S;le!==null&&le(B,K),sy(e,a,K)}catch(Ce){V0(e,a,Ce)}finally{_!==null&&B.types!==null&&(_.types=B.types),ie.T=_}}else try{_=u(C,p),sy(e,a,_)}catch(Ce){V0(e,a,Ce)}}function sy(e,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){ly(e,a,p)},function(p){return V0(e,a,p)}):ly(e,a,u)}function ly(e,a,u){a.status="fulfilled",a.value=u,cy(a),e.state=u,a=e.pending,a!==null&&(u=a.next,u===a?e.pending=null:(u=u.next,a.next=u,oy(e,u)))}function V0(e,a,u){var p=e.pending;if(e.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=u,cy(a),a=a.next;while(a!==p)}e.action=null}function cy(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function uy(e,a){return a}function fy(e,a){if(ln){var u=Hn.formState;if(u!==null){e:{var p=Ut;if(ln){if(Qn){t:{for(var C=Qn,_=fi;C.nodeType!==8;){if(!_){C=null;break t}if(C=hi(C.nextSibling),C===null){C=null;break t}}_=C.data,C=_==="F!"||_==="F"?C:null}if(C){Qn=hi(C.nextSibling),p=C.data==="F!";break e}}ss(p)}p=!1}p&&(a=u[0])}}return u=pa(),u.memoizedState=u.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:a},u.queue=p,u=Oy.bind(null,Ut,p),p.dispatch=u,p=z0(!1),_=Y0.bind(null,Ut,!1,p.queue),p=pa(),C={state:a,dispatch:null,action:e,pending:null},p.queue=C,u=h3.bind(null,Ut,C,_,u),C.dispatch=u,p.memoizedState=e,[a,u,!1]}function dy(e){var a=xr();return hy(a,Ln,e)}function hy(e,a,u){if(a=F0(e,a,uy)[0],e=kf(Eo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=iu(a)}catch(B){throw B===Yl?Af:B}else p=a;a=xr();var C=a.queue,_=C.dispatch;return u!==a.memoizedState&&(Ut.flags|=2048,Jl(9,{destroy:void 0},m3.bind(null,C,u),null)),[p,_,e]}function m3(e,a){e.action=a}function my(e){var a=xr(),u=Ln;if(u!==null)return hy(a,u,e);xr(),a=a.memoizedState,u=xr();var p=u.queue.dispatch;return u.memoizedState=e,[a,p,!1]}function Jl(e,a,u,p){return e={tag:e,create:u,deps:p,inst:a,next:null},a=Ut.updateQueue,a===null&&(a=Df(),Ut.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=e.next=e:(p=u.next,u.next=e,e.next=p,a.lastEffect=e),e}function py(){return xr().memoizedState}function Bf(e,a,u,p){var C=pa();Ut.flags|=e,C.memoizedState=Jl(1|a,{destroy:void 0},u,p===void 0?null:p)}function Lf(e,a,u,p){var C=xr();p=p===void 0?null:p;var _=C.memoizedState.inst;Ln!==null&&p!==null&&D0(p,Ln.memoizedState.deps)?C.memoizedState=Jl(a,_,u,p):(Ut.flags|=e,C.memoizedState=Jl(1|a,_,u,p))}function gy(e,a){Bf(8390656,8,e,a)}function H0(e,a){Lf(2048,8,e,a)}function p3(e){Ut.flags|=4;var a=Ut.updateQueue;if(a===null)a=Df(),Ut.updateQueue=a,a.events=[e];else{var u=a.events;u===null?a.events=[e]:u.push(e)}}function yy(e){var a=xr().memoizedState;return p3({ref:a,nextImpl:e}),function(){if((bn&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}function xy(e,a){return Lf(4,2,e,a)}function vy(e,a){return Lf(4,4,e,a)}function by(e,a){if(typeof a=="function"){e=e();var u=a(e);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function wy(e,a,u){u=u!=null?u.concat([e]):null,Lf(4,4,by.bind(null,a,e),u)}function G0(){}function Ey(e,a){var u=xr();a=a===void 0?null:a;var p=u.memoizedState;return a!==null&&D0(a,p[1])?p[0]:(u.memoizedState=[e,a],e)}function Cy(e,a){var u=xr();a=a===void 0?null:a;var p=u.memoizedState;if(a!==null&&D0(a,p[1]))return p[0];if(p=e(),fl){Gt(!0);try{e()}finally{Gt(!1)}}return u.memoizedState=[p,a],p}function q0(e,a,u){return u===void 0||(wo&1073741824)!==0&&(nn&261930)===0?e.memoizedState=a:(e.memoizedState=u,e=Sx(),Ut.lanes|=e,gs|=e,u)}function Sy(e,a,u,p){return g(u,a)?u:Zl.current!==null?(e=q0(e,u,p),g(e,a)||(Tr=!0),e):(wo&42)===0||(wo&1073741824)!==0&&(nn&261930)===0?(Tr=!0,e.memoizedState=u):(e=Sx(),Ut.lanes|=e,gs|=e,a)}function Ay(e,a,u,p,C){var _=ge.p;ge.p=_!==0&&8>_?_:8;var B=ie.T,K={};ie.T=K,Y0(e,!1,a,u);try{var le=C(),Ce=ie.S;if(Ce!==null&&Ce(K,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Me=u3(le,p);ou(e,a,Me,Ja(e))}else ou(e,a,p,Ja(e))}catch(Fe){ou(e,a,{then:function(){},status:"rejected",reason:Fe},Ja())}finally{ge.p=_,B!==null&&K.types!==null&&(B.types=K.types),ie.T=B}}function g3(){}function X0(e,a,u,p){if(e.tag!==5)throw Error(c(476));var C=_y(e).queue;Ay(e,C,a,Ne,u===null?g3:function(){return Ty(e),u(p)})}function _y(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:Ne},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:u},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Ty(e){var a=_y(e);a.next===null&&(a=e.alternate.memoizedState),ou(e,a.next.queue,{},Ja())}function K0(){return Xr(Cu)}function Ny(){return xr().memoizedState}function Ry(){return xr().memoizedState}function y3(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ja();e=us(u);var p=fs(a,e,u);p!==null&&(Da(p,a,u),tu(p,a,u)),a={cache:E0()},e.payload=a;return}a=a.return}}function x3(e,a,u){var p=Ja();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jf(e)?Iy(a,u):(u=ra(e,a,u,p),u!==null&&(Da(u,e,p),My(u,a,p)))}function Oy(e,a,u){var p=Ja();ou(e,a,u,p)}function ou(e,a,u,p){var C={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(jf(e))Iy(a,C);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var B=a.lastRenderedState,K=_(B,u);if(C.hasEagerState=!0,C.eagerState=K,g(K,B))return Bn(e,a,C,0),Hn===null&&Bt(),!1}catch{}finally{}if(u=ra(e,a,C,p),u!==null)return Da(u,e,p),My(u,a,p),!0}return!1}function Y0(e,a,u,p){if(p={lane:2,revertLane:_1(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jf(e)){if(a)throw Error(c(479))}else a=ra(e,u,p,2),a!==null&&Da(a,e,2)}function jf(e){var a=e.alternate;return e===Ut||a!==null&&a===Ut}function Iy(e,a){Ql=If=!0;var u=e.pending;u===null?a.next=a:(a.next=u.next,u.next=a),e.pending=a}function My(e,a,u){if((u&4194048)!==0){var p=a.lanes;p&=e.pendingLanes,u|=p,a.lanes=u,Tt(e,u)}}var su={readContext:Xr,use:Pf,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};su.useEffectEvent=ur;var Dy={readContext:Xr,use:Pf,useCallback:function(e,a){return pa().memoizedState=[e,a===void 0?null:a],e},useContext:Xr,useEffect:gy,useImperativeHandle:function(e,a,u){u=u!=null?u.concat([e]):null,Bf(4194308,4,by.bind(null,a,e),u)},useLayoutEffect:function(e,a){return Bf(4194308,4,e,a)},useInsertionEffect:function(e,a){Bf(4,2,e,a)},useMemo:function(e,a){var u=pa();a=a===void 0?null:a;var p=e();if(fl){Gt(!0);try{e()}finally{Gt(!1)}}return u.memoizedState=[p,a],p},useReducer:function(e,a,u){var p=pa();if(u!==void 0){var C=u(a);if(fl){Gt(!0);try{u(a)}finally{Gt(!1)}}}else C=a;return p.memoizedState=p.baseState=C,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:C},p.queue=e,e=e.dispatch=x3.bind(null,Ut,e),[p.memoizedState,e]},useRef:function(e){var a=pa();return e={current:e},a.memoizedState=e},useState:function(e){e=z0(e);var a=e.queue,u=Oy.bind(null,Ut,a);return a.dispatch=u,[e.memoizedState,u]},useDebugValue:G0,useDeferredValue:function(e,a){var u=pa();return q0(u,e,a)},useTransition:function(){var e=z0(!1);return e=Ay.bind(null,Ut,e.queue,!0,!1),pa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,u){var p=Ut,C=pa();if(ln){if(u===void 0)throw Error(c(407));u=u()}else{if(u=a(),Hn===null)throw Error(c(349));(nn&127)!==0||ey(p,a,u)}C.memoizedState=u;var _={value:u,getSnapshot:a};return C.queue=_,gy(ny.bind(null,p,_,e),[e]),p.flags|=2048,Jl(9,{destroy:void 0},ty.bind(null,p,_,u,a),null),u},useId:function(){var e=pa(),a=Hn.identifierPrefix;if(ln){var u=Wi,p=Yi;u=(p&~(1<<32-He(p)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Mf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=f3++,a="_"+a+"r_"+u.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:K0,useFormState:fy,useActionState:fy,useOptimistic:function(e){var a=pa();a.memoizedState=a.baseState=e;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Y0.bind(null,Ut,!0,u),u.dispatch=a,[e,a]},useMemoCache:j0,useCacheRefresh:function(){return pa().memoizedState=y3.bind(null,Ut)},useEffectEvent:function(e){var a=pa(),u={impl:e};return a.memoizedState=u,function(){if((bn&2)!==0)throw Error(c(440));return u.impl.apply(void 0,arguments)}}},W0={readContext:Xr,use:Pf,useCallback:Ey,useContext:Xr,useEffect:H0,useImperativeHandle:wy,useInsertionEffect:xy,useLayoutEffect:vy,useMemo:Cy,useReducer:kf,useRef:py,useState:function(){return kf(Eo)},useDebugValue:G0,useDeferredValue:function(e,a){var u=xr();return Sy(u,Ln.memoizedState,e,a)},useTransition:function(){var e=kf(Eo)[0],a=xr().memoizedState;return[typeof e=="boolean"?e:iu(e),a]},useSyncExternalStore:Jg,useId:Ny,useHostTransitionStatus:K0,useFormState:dy,useActionState:dy,useOptimistic:function(e,a){var u=xr();return iy(u,Ln,e,a)},useMemoCache:j0,useCacheRefresh:Ry};W0.useEffectEvent=yy;var Py={readContext:Xr,use:Pf,useCallback:Ey,useContext:Xr,useEffect:H0,useImperativeHandle:wy,useInsertionEffect:xy,useLayoutEffect:vy,useMemo:Cy,useReducer:U0,useRef:py,useState:function(){return U0(Eo)},useDebugValue:G0,useDeferredValue:function(e,a){var u=xr();return Ln===null?q0(u,e,a):Sy(u,Ln.memoizedState,e,a)},useTransition:function(){var e=U0(Eo)[0],a=xr().memoizedState;return[typeof e=="boolean"?e:iu(e),a]},useSyncExternalStore:Jg,useId:Ny,useHostTransitionStatus:K0,useFormState:my,useActionState:my,useOptimistic:function(e,a){var u=xr();return Ln!==null?iy(u,Ln,e,a):(u.baseState=e,[e,u.queue.dispatch])},useMemoCache:j0,useCacheRefresh:Ry};Py.useEffectEvent=yy;function Z0(e,a,u,p){a=e.memoizedState,u=u(p,a),u=u==null?a:N({},a,u),e.memoizedState=u,e.lanes===0&&(e.updateQueue.baseState=u)}var Q0={enqueueSetState:function(e,a,u){e=e._reactInternals;var p=Ja(),C=us(p);C.payload=a,u!=null&&(C.callback=u),a=fs(e,C,p),a!==null&&(Da(a,e,p),tu(a,e,p))},enqueueReplaceState:function(e,a,u){e=e._reactInternals;var p=Ja(),C=us(p);C.tag=1,C.payload=a,u!=null&&(C.callback=u),a=fs(e,C,p),a!==null&&(Da(a,e,p),tu(a,e,p))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var u=Ja(),p=us(u);p.tag=2,a!=null&&(p.callback=a),a=fs(e,p,u),a!==null&&(Da(a,e,u),tu(a,e,u))}};function ky(e,a,u,p,C,_,B){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,_,B):a.prototype&&a.prototype.isPureReactComponent?!s(u,p)||!s(C,_):!0}function By(e,a,u,p){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==e&&Q0.enqueueReplaceState(a,a.state,null)}function dl(e,a){var u=a;if("ref"in a){u={};for(var p in a)p!=="ref"&&(u[p]=a[p])}if(e=e.defaultProps){u===a&&(u=N({},u));for(var C in e)u[C]===void 0&&(u[C]=e[C])}return u}function Ly(e){it(e)}function jy(e){console.error(e)}function Fy(e){it(e)}function Ff(e,a){try{var u=e.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function Uy(e,a,u){try{var p=e.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function $0(e,a,u){return u=us(u),u.tag=3,u.payload={element:null},u.callback=function(){Ff(e,a)},u}function zy(e){return e=us(e),e.tag=3,e}function Vy(e,a,u,p){var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var _=p.value;e.payload=function(){return C(_)},e.callback=function(){Uy(a,u,p)}}var B=u.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(e.callback=function(){Uy(a,u,p),typeof C!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})})}function v3(e,a,u,p,C){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=u.alternate,a!==null&&ql(a,u,C,!0),u=Wa.current,u!==null){switch(u.tag){case 31:case 13:return di===null?Qf():u.alternate===null&&fr===0&&(fr=3),u.flags&=-257,u.flags|=65536,u.lanes=C,p===_f?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([p]):a.add(p),C1(e,p,C)),!1;case 22:return u.flags|=65536,p===_f?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([p]):u.add(p)),C1(e,p,C)),!1}throw Error(c(435,u.tag))}return C1(e,p,C),Qf(),!1}if(ln)return a=Wa.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=C,p!==y0&&(e=Error(c(422),{cause:p}),Zc(li(e,u)))):(p!==y0&&(a=Error(c(423),{cause:p}),Zc(li(a,u))),e=e.current.alternate,e.flags|=65536,C&=-C,e.lanes|=C,p=li(p,u),C=$0(e.stateNode,p,C),N0(e,C),fr!==4&&(fr=2)),!1;var _=Error(c(520),{cause:p});if(_=li(_,u),pu===null?pu=[_]:pu.push(_),fr!==4&&(fr=2),a===null)return!0;p=li(p,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,e=C&-C,u.lanes|=e,e=$0(u.stateNode,p,e),N0(u,e),!1;case 1:if(a=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ys===null||!ys.has(_))))return u.flags|=65536,C&=-C,u.lanes|=C,C=zy(C),Vy(C,e,u,p),N0(u,C),!1}u=u.return}while(u!==null);return!1}var J0=Error(c(461)),Tr=!1;function Kr(e,a,u,p){a.child=e===null?Xg(a,null,u,p):ul(a,e.child,u,p)}function Hy(e,a,u,p,C){u=u.render;var _=a.ref;if("ref"in p){var B={};for(var K in p)K!=="ref"&&(B[K]=p[K])}else B=p;return ol(a),p=P0(e,a,u,B,_,C),K=k0(),e!==null&&!Tr?(B0(e,a,C),Co(e,a,C)):(ln&&K&&p0(a),a.flags|=1,Kr(e,a,p,C),a.child)}function Gy(e,a,u,p,C){if(e===null){var _=u.type;return typeof _=="function"&&!d0(_)&&_.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=_,qy(e,a,_,p,C)):(e=bf(u.type,null,p,a,a.mode,C),e.ref=a.ref,e.return=a,a.child=e)}if(_=e.child,!s1(e,C)){var B=_.memoizedProps;if(u=u.compare,u=u!==null?u:s,u(B,p)&&e.ref===a.ref)return Co(e,a,C)}return a.flags|=1,e=yo(_,p),e.ref=a.ref,e.return=a,a.child=e}function qy(e,a,u,p,C){if(e!==null){var _=e.memoizedProps;if(s(_,p)&&e.ref===a.ref)if(Tr=!1,a.pendingProps=p=_,s1(e,C))(e.flags&131072)!==0&&(Tr=!0);else return a.lanes=e.lanes,Co(e,a,C)}return e1(e,a,u,p,C)}function Xy(e,a,u,p){var C=p.children,_=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,e!==null){for(p=a.child=e.child,C=0;p!==null;)C=C|p.lanes|p.childLanes,p=p.sibling;p=C&~_}else p=0,a.child=null;return Ky(e,a,_,u,p)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sf(a,_!==null?_.cachePool:null),_!==null?Wg(a,_):O0(),Zg(a);else return p=a.lanes=536870912,Ky(e,a,_!==null?_.baseLanes|u:u,u,p)}else _!==null?(Sf(a,_.cachePool),Wg(a,_),hs(),a.memoizedState=null):(e!==null&&Sf(a,null),O0(),hs());return Kr(e,a,C,u),a.child}function lu(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ky(e,a,u,p,C){var _=S0();return _=_===null?null:{parent:Ar._currentValue,pool:_},a.memoizedState={baseLanes:u,cachePool:_},e!==null&&Sf(a,null),O0(),Zg(a),e!==null&&ql(e,a,p,!0),a.childLanes=C,null}function Uf(e,a){return a=Vf({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Yy(e,a,u){return ul(a,e.child,null,u),e=Uf(a,a.pendingProps),e.flags|=2,Za(a),a.memoizedState=null,e}function b3(e,a,u){var p=a.pendingProps,C=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(ln){if(p.mode==="hidden")return e=Uf(a,p),a.lanes=536870912,lu(null,e);if(M0(a),(e=Qn)?(e=ov(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:is!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},u=Ig(e),u.return=a,a.child=u,qr=a,Qn=null)):e=null,e===null)throw ss(a);return a.lanes=536870912,null}return Uf(a,p)}var _=e.memoizedState;if(_!==null){var B=_.dehydrated;if(M0(a),C)if(a.flags&256)a.flags&=-257,a=Yy(e,a,u);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(c(558));else if(Tr||ql(e,a,u,!1),C=(u&e.childLanes)!==0,Tr||C){if(p=Hn,p!==null&&(B=fn(p,u),B!==0&&B!==_.retryLane))throw _.retryLane=B,Cn(e,B),Da(p,e,B),J0;Qf(),a=Yy(e,a,u)}else e=_.treeContext,Qn=hi(B.nextSibling),qr=a,ln=!0,os=null,fi=!1,e!==null&&Pg(a,e),a=Uf(a,p),a.flags|=4096;return a}return e=yo(e.child,{mode:p.mode,children:p.children}),e.ref=a.ref,a.child=e,e.return=a,e}function zf(e,a){var u=a.ref;if(u===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(c(284));(e===null||e.ref!==u)&&(a.flags|=4194816)}}function e1(e,a,u,p,C){return ol(a),u=P0(e,a,u,p,void 0,C),p=k0(),e!==null&&!Tr?(B0(e,a,C),Co(e,a,C)):(ln&&p&&p0(a),a.flags|=1,Kr(e,a,u,C),a.child)}function Wy(e,a,u,p,C,_){return ol(a),a.updateQueue=null,u=$g(a,p,u,C),Qg(e),p=k0(),e!==null&&!Tr?(B0(e,a,_),Co(e,a,_)):(ln&&p&&p0(a),a.flags|=1,Kr(e,a,u,_),a.child)}function Zy(e,a,u,p,C){if(ol(a),a.stateNode===null){var _=zl,B=u.contextType;typeof B=="object"&&B!==null&&(_=Xr(B)),_=new u(p,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Q0,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=p,_.state=a.memoizedState,_.refs={},_0(a),B=u.contextType,_.context=typeof B=="object"&&B!==null?Xr(B):zl,_.state=a.memoizedState,B=u.getDerivedStateFromProps,typeof B=="function"&&(Z0(a,u,B,p),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(B=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),B!==_.state&&Q0.enqueueReplaceState(_,_.state,null),ru(a,p,_,C),nu(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(e===null){_=a.stateNode;var K=a.memoizedProps,le=dl(u,K);_.props=le;var Ce=_.context,Me=u.contextType;B=zl,typeof Me=="object"&&Me!==null&&(B=Xr(Me));var Fe=u.getDerivedStateFromProps;Me=typeof Fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,Me||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K||Ce!==B)&&By(a,_,p,B),cs=!1;var Ae=a.memoizedState;_.state=Ae,ru(a,p,_,C),nu(),Ce=a.memoizedState,K||Ae!==Ce||cs?(typeof Fe=="function"&&(Z0(a,u,Fe,p),Ce=a.memoizedState),(le=cs||ky(a,u,le,p,Ae,Ce,B))?(Me||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Ce),_.props=p,_.state=Ce,_.context=B,p=le):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{_=a.stateNode,T0(e,a),B=a.memoizedProps,Me=dl(u,B),_.props=Me,Fe=a.pendingProps,Ae=_.context,Ce=u.contextType,le=zl,typeof Ce=="object"&&Ce!==null&&(le=Xr(Ce)),K=u.getDerivedStateFromProps,(Ce=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B!==Fe||Ae!==le)&&By(a,_,p,le),cs=!1,Ae=a.memoizedState,_.state=Ae,ru(a,p,_,C),nu();var Te=a.memoizedState;B!==Fe||Ae!==Te||cs||e!==null&&e.dependencies!==null&&Ef(e.dependencies)?(typeof K=="function"&&(Z0(a,u,K,p),Te=a.memoizedState),(Me=cs||ky(a,u,Me,p,Ae,Te,le)||e!==null&&e.dependencies!==null&&Ef(e.dependencies))?(Ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,Te,le),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,Te,le)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||B===e.memoizedProps&&Ae===e.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&Ae===e.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),_.props=p,_.state=Te,_.context=le,p=Me):(typeof _.componentDidUpdate!="function"||B===e.memoizedProps&&Ae===e.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&Ae===e.memoizedState||(a.flags|=1024),p=!1)}return _=p,zf(e,a),p=(a.flags&128)!==0,_||p?(_=a.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,e!==null&&p?(a.child=ul(a,e.child,null,C),a.child=ul(a,null,u,C)):Kr(e,a,u,C),a.memoizedState=_.state,e=a.child):e=Co(e,a,C),e}function Qy(e,a,u,p){return al(),a.flags|=256,Kr(e,a,u,p),a.child}var t1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n1(e){return{baseLanes:e,cachePool:Ug()}}function r1(e,a,u){return e=e!==null?e.childLanes&~u:0,a&&(e|=$a),e}function $y(e,a,u){var p=a.pendingProps,C=!1,_=(a.flags&128)!==0,B;if((B=_)||(B=e!==null&&e.memoizedState===null?!1:(yr.current&2)!==0),B&&(C=!0,a.flags&=-129),B=(a.flags&32)!==0,a.flags&=-33,e===null){if(ln){if(C?ds(a):hs(),(e=Qn)?(e=ov(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:is!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},u=Ig(e),u.return=a,a.child=u,qr=a,Qn=null)):e=null,e===null)throw ss(a);return F1(e)?a.lanes=32:a.lanes=536870912,null}var K=p.children;return p=p.fallback,C?(hs(),C=a.mode,K=Vf({mode:"hidden",children:K},C),p=rl(p,C,u,null),K.return=a,p.return=a,K.sibling=p,a.child=K,p=a.child,p.memoizedState=n1(u),p.childLanes=r1(e,B,u),a.memoizedState=t1,lu(null,p)):(ds(a),a1(a,K))}var le=e.memoizedState;if(le!==null&&(K=le.dehydrated,K!==null)){if(_)a.flags&256?(ds(a),a.flags&=-257,a=i1(e,a,u)):a.memoizedState!==null?(hs(),a.child=e.child,a.flags|=128,a=null):(hs(),K=p.fallback,C=a.mode,p=Vf({mode:"visible",children:p.children},C),K=rl(K,C,u,null),K.flags|=2,p.return=a,K.return=a,p.sibling=K,a.child=p,ul(a,e.child,null,u),p=a.child,p.memoizedState=n1(u),p.childLanes=r1(e,B,u),a.memoizedState=t1,a=lu(null,p));else if(ds(a),F1(K)){if(B=K.nextSibling&&K.nextSibling.dataset,B)var Ce=B.dgst;B=Ce,p=Error(c(419)),p.stack="",p.digest=B,Zc({value:p,source:null,stack:null}),a=i1(e,a,u)}else if(Tr||ql(e,a,u,!1),B=(u&e.childLanes)!==0,Tr||B){if(B=Hn,B!==null&&(p=fn(B,u),p!==0&&p!==le.retryLane))throw le.retryLane=p,Cn(e,p),Da(B,e,p),J0;j1(K)||Qf(),a=i1(e,a,u)}else j1(K)?(a.flags|=192,a.child=e.child,a=null):(e=le.treeContext,Qn=hi(K.nextSibling),qr=a,ln=!0,os=null,fi=!1,e!==null&&Pg(a,e),a=a1(a,p.children),a.flags|=4096);return a}return C?(hs(),K=p.fallback,C=a.mode,le=e.child,Ce=le.sibling,p=yo(le,{mode:"hidden",children:p.children}),p.subtreeFlags=le.subtreeFlags&65011712,Ce!==null?K=yo(Ce,K):(K=rl(K,C,u,null),K.flags|=2),K.return=a,p.return=a,p.sibling=K,a.child=p,lu(null,p),p=a.child,K=e.child.memoizedState,K===null?K=n1(u):(C=K.cachePool,C!==null?(le=Ar._currentValue,C=C.parent!==le?{parent:le,pool:le}:C):C=Ug(),K={baseLanes:K.baseLanes|u,cachePool:C}),p.memoizedState=K,p.childLanes=r1(e,B,u),a.memoizedState=t1,lu(e.child,p)):(ds(a),u=e.child,e=u.sibling,u=yo(u,{mode:"visible",children:p.children}),u.return=a,u.sibling=null,e!==null&&(B=a.deletions,B===null?(a.deletions=[e],a.flags|=16):B.push(e)),a.child=u,a.memoizedState=null,u)}function a1(e,a){return a=Vf({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Vf(e,a){return e=Ya(22,e,null,a),e.lanes=0,e}function i1(e,a,u){return ul(a,e.child,null,u),e=a1(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Jy(e,a,u){e.lanes|=a;var p=e.alternate;p!==null&&(p.lanes|=a),b0(e.return,a,u)}function o1(e,a,u,p,C,_){var B=e.memoizedState;B===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:C,treeForkCount:_}:(B.isBackwards=a,B.rendering=null,B.renderingStartTime=0,B.last=p,B.tail=u,B.tailMode=C,B.treeForkCount=_)}function ex(e,a,u){var p=a.pendingProps,C=p.revealOrder,_=p.tail;p=p.children;var B=yr.current,K=(B&2)!==0;if(K?(B=B&1|2,a.flags|=128):B&=1,Ie(yr,B),Kr(e,a,p,u),p=ln?Wc:0,!K&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,u,a);else if(e.tag===19)Jy(e,u,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(C){case"forwards":for(u=a.child,C=null;u!==null;)e=u.alternate,e!==null&&Of(e)===null&&(C=u),u=u.sibling;u=C,u===null?(C=a.child,a.child=null):(C=u.sibling,u.sibling=null),o1(a,!1,C,u,_,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,C=a.child,a.child=null;C!==null;){if(e=C.alternate,e!==null&&Of(e)===null){a.child=C;break}e=C.sibling,C.sibling=u,u=C,C=e}o1(a,!0,u,null,_,p);break;case"together":o1(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function Co(e,a,u){if(e!==null&&(a.dependencies=e.dependencies),gs|=a.lanes,(u&a.childLanes)===0)if(e!==null){if(ql(e,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(c(153));if(a.child!==null){for(e=a.child,u=yo(e,e.pendingProps),a.child=u,u.return=a;e.sibling!==null;)e=e.sibling,u=u.sibling=yo(e,e.pendingProps),u.return=a;u.sibling=null}return a.child}function s1(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Ef(e)))}function w3(e,a,u){switch(a.tag){case 3:et(a,a.stateNode.containerInfo),ls(a,Ar,e.memoizedState.cache),al();break;case 27:case 5:Ve(a);break;case 4:et(a,a.stateNode.containerInfo);break;case 10:ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,M0(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(ds(a),a.flags|=128,null):(u&a.child.childLanes)!==0?$y(e,a,u):(ds(a),e=Co(e,a,u),e!==null?e.sibling:null);ds(a);break;case 19:var C=(e.flags&128)!==0;if(p=(u&a.childLanes)!==0,p||(ql(e,a,u,!1),p=(u&a.childLanes)!==0),C){if(p)return ex(e,a,u);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ie(yr,yr.current),p)break;return null;case 22:return a.lanes=0,Xy(e,a,u,a.pendingProps);case 24:ls(a,Ar,e.memoizedState.cache)}return Co(e,a,u)}function tx(e,a,u){if(e!==null)if(e.memoizedProps!==a.pendingProps)Tr=!0;else{if(!s1(e,u)&&(a.flags&128)===0)return Tr=!1,w3(e,a,u);Tr=(e.flags&131072)!==0}else Tr=!1,ln&&(a.flags&1048576)!==0&&Dg(a,Wc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(e=ll(a.elementType),a.type=e,typeof e=="function")d0(e)?(p=dl(e,p),a.tag=1,a=Zy(null,a,e,p,u)):(a.tag=0,a=e1(null,a,e,p,u));else{if(e!=null){var C=e.$$typeof;if(C===q){a.tag=11,a=Hy(null,a,e,p,u);break e}else if(C===V){a.tag=14,a=Gy(null,a,e,p,u);break e}}throw a=me(e)||e,Error(c(306,a,""))}}return a;case 0:return e1(e,a,a.type,a.pendingProps,u);case 1:return p=a.type,C=dl(p,a.pendingProps),Zy(e,a,p,C,u);case 3:e:{if(et(a,a.stateNode.containerInfo),e===null)throw Error(c(387));p=a.pendingProps;var _=a.memoizedState;C=_.element,T0(e,a),ru(a,p,null,u);var B=a.memoizedState;if(p=B.cache,ls(a,Ar,p),p!==_.cache&&w0(a,[Ar],u,!0),nu(),p=B.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:B.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Qy(e,a,p,u);break e}else if(p!==C){C=li(Error(c(424)),a),Zc(C),a=Qy(e,a,p,u);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qn=hi(e.firstChild),qr=a,ln=!0,os=null,fi=!0,u=Xg(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(al(),p===C){a=Co(e,a,u);break e}Kr(e,a,p,u)}a=a.child}return a;case 26:return zf(e,a),e===null?(u=dv(a.type,null,a.pendingProps,null))?a.memoizedState=u:ln||(u=a.type,e=a.pendingProps,p=ad(Le.current).createElement(u),p[En]=a,p[Jt]=e,Yr(p,u,e),Zn(p),a.stateNode=p):a.memoizedState=dv(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Ve(a),e===null&&ln&&(p=a.stateNode=cv(a.type,a.pendingProps,Le.current),qr=a,fi=!0,C=Qn,ws(a.type)?(U1=C,Qn=hi(p.firstChild)):Qn=C),Kr(e,a,a.pendingProps.children,u),zf(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&ln&&((C=p=Qn)&&(p=Q3(p,a.type,a.pendingProps,fi),p!==null?(a.stateNode=p,qr=a,Qn=hi(p.firstChild),fi=!1,C=!0):C=!1),C||ss(a)),Ve(a),C=a.type,_=a.pendingProps,B=e!==null?e.memoizedProps:null,p=_.children,k1(C,_)?p=null:B!==null&&k1(C,B)&&(a.flags|=32),a.memoizedState!==null&&(C=P0(e,a,d3,null,null,u),Cu._currentValue=C),zf(e,a),Kr(e,a,p,u),a.child;case 6:return e===null&&ln&&((e=u=Qn)&&(u=$3(u,a.pendingProps,fi),u!==null?(a.stateNode=u,qr=a,Qn=null,e=!0):e=!1),e||ss(a)),null;case 13:return $y(e,a,u);case 4:return et(a,a.stateNode.containerInfo),p=a.pendingProps,e===null?a.child=ul(a,null,p,u):Kr(e,a,p,u),a.child;case 11:return Hy(e,a,a.type,a.pendingProps,u);case 7:return Kr(e,a,a.pendingProps,u),a.child;case 8:return Kr(e,a,a.pendingProps.children,u),a.child;case 12:return Kr(e,a,a.pendingProps.children,u),a.child;case 10:return p=a.pendingProps,ls(a,a.type,p.value),Kr(e,a,p.children,u),a.child;case 9:return C=a.type._context,p=a.pendingProps.children,ol(a),C=Xr(C),p=p(C),a.flags|=1,Kr(e,a,p,u),a.child;case 14:return Gy(e,a,a.type,a.pendingProps,u);case 15:return qy(e,a,a.type,a.pendingProps,u);case 19:return ex(e,a,u);case 31:return b3(e,a,u);case 22:return Xy(e,a,u,a.pendingProps);case 24:return ol(a),p=Xr(Ar),e===null?(C=S0(),C===null&&(C=Hn,_=E0(),C.pooledCache=_,_.refCount++,_!==null&&(C.pooledCacheLanes|=u),C=_),a.memoizedState={parent:p,cache:C},_0(a),ls(a,Ar,C)):((e.lanes&u)!==0&&(T0(e,a),ru(a,null,null,u),nu()),C=e.memoizedState,_=a.memoizedState,C.parent!==p?(C={parent:p,cache:p},a.memoizedState=C,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=C),ls(a,Ar,p)):(p=_.cache,ls(a,Ar,p),p!==C.cache&&w0(a,[Ar],u,!0))),Kr(e,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(c(156,a.tag))}function So(e){e.flags|=4}function l1(e,a,u,p,C){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(C&335544128)===C)if(e.stateNode.complete)e.flags|=8192;else if(Nx())e.flags|=8192;else throw cl=_f,A0}else e.flags&=-16777217}function nx(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yv(a))if(Nx())e.flags|=8192;else throw cl=_f,A0}function Hf(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ot():536870912,e.lanes|=a,rc|=a)}function cu(e,a){if(!ln)switch(e.tailMode){case"hidden":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?e.tail=null:u.sibling=null;break;case"collapsed":u=e.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function $n(e){var a=e.alternate!==null&&e.alternate.child===e.child,u=0,p=0;if(a)for(var C=e.child;C!==null;)u|=C.lanes|C.childLanes,p|=C.subtreeFlags&65011712,p|=C.flags&65011712,C.return=e,C=C.sibling;else for(C=e.child;C!==null;)u|=C.lanes|C.childLanes,p|=C.subtreeFlags,p|=C.flags,C.return=e,C=C.sibling;return e.subtreeFlags|=p,e.childLanes=u,a}function E3(e,a,u){var p=a.pendingProps;switch(g0(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(a),null;case 1:return $n(a),null;case 3:return u=a.stateNode,p=null,e!==null&&(p=e.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),bo(Ar),ft(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Gl(a)?So(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,x0())),$n(a),null;case 26:var C=a.type,_=a.memoizedState;return e===null?(So(a),_!==null?($n(a),nx(a,_)):($n(a),l1(a,C,null,p,u))):_?_!==e.memoizedState?(So(a),$n(a),nx(a,_)):($n(a),a.flags&=-16777217):(e=e.memoizedProps,e!==p&&So(a),$n(a),l1(a,C,e,p,u)),null;case 27:if(ht(a),u=Le.current,C=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==p&&So(a);else{if(!p){if(a.stateNode===null)throw Error(c(166));return $n(a),null}e=Oe.current,Gl(a)?kg(a):(e=cv(C,p,u),a.stateNode=e,So(a))}return $n(a),null;case 5:if(ht(a),C=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==p&&So(a);else{if(!p){if(a.stateNode===null)throw Error(c(166));return $n(a),null}if(_=Oe.current,Gl(a))kg(a);else{var B=ad(Le.current);switch(_){case 1:_=B.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:_=B.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":_=B.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":_=B.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":_=B.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?B.createElement("select",{is:p.is}):B.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?B.createElement(C,{is:p.is}):B.createElement(C)}}_[En]=a,_[Jt]=p;e:for(B=a.child;B!==null;){if(B.tag===5||B.tag===6)_.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===a)break e;for(;B.sibling===null;){if(B.return===null||B.return===a)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}a.stateNode=_;e:switch(Yr(_,C,p),C){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&So(a)}}return $n(a),l1(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,u),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==p&&So(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(c(166));if(e=Le.current,Gl(a)){if(e=a.stateNode,u=a.memoizedProps,p=null,C=qr,C!==null)switch(C.tag){case 27:case 5:p=C.memoizedProps}e[En]=a,e=!!(e.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||$x(e.nodeValue,u)),e||ss(a,!0)}else e=ad(e).createTextNode(p),e[En]=a,a.stateNode=e}return $n(a),null;case 31:if(u=a.memoizedState,e===null||e.memoizedState!==null){if(p=Gl(a),u!==null){if(e===null){if(!p)throw Error(c(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[En]=a}else al(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$n(a),e=!1}else u=x0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),e=!0;if(!e)return a.flags&256?(Za(a),a):(Za(a),null);if((a.flags&128)!==0)throw Error(c(558))}return $n(a),null;case 13:if(p=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(C=Gl(a),p!==null&&p.dehydrated!==null){if(e===null){if(!C)throw Error(c(318));if(C=a.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(c(317));C[En]=a}else al(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$n(a),C=!1}else C=x0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=C),C=!0;if(!C)return a.flags&256?(Za(a),a):(Za(a),null)}return Za(a),(a.flags&128)!==0?(a.lanes=u,a):(u=p!==null,e=e!==null&&e.memoizedState!==null,u&&(p=a.child,C=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(C=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==C&&(p.flags|=2048)),u!==e&&u&&(a.child.flags|=8192),Hf(a,a.updateQueue),$n(a),null);case 4:return ft(),e===null&&O1(a.stateNode.containerInfo),$n(a),null;case 10:return bo(a.type),$n(a),null;case 19:if(de(yr),p=a.memoizedState,p===null)return $n(a),null;if(C=(a.flags&128)!==0,_=p.rendering,_===null)if(C)cu(p,!1);else{if(fr!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(_=Of(e),_!==null){for(a.flags|=128,cu(p,!1),e=_.updateQueue,a.updateQueue=e,Hf(a,e),a.subtreeFlags=0,e=u,u=a.child;u!==null;)Og(u,e),u=u.sibling;return Ie(yr,yr.current&1|2),ln&&xo(a,p.treeForkCount),a.child}e=e.sibling}p.tail!==null&&Dn()>Yf&&(a.flags|=128,C=!0,cu(p,!1),a.lanes=4194304)}else{if(!C)if(e=Of(_),e!==null){if(a.flags|=128,C=!0,e=e.updateQueue,a.updateQueue=e,Hf(a,e),cu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!ln)return $n(a),null}else 2*Dn()-p.renderingStartTime>Yf&&u!==536870912&&(a.flags|=128,C=!0,cu(p,!1),a.lanes=4194304);p.isBackwards?(_.sibling=a.child,a.child=_):(e=p.last,e!==null?e.sibling=_:a.child=_,p.last=_)}return p.tail!==null?(e=p.tail,p.rendering=e,p.tail=e.sibling,p.renderingStartTime=Dn(),e.sibling=null,u=yr.current,Ie(yr,C?u&1|2:u&1),ln&&xo(a,p.treeForkCount),e):($n(a),null);case 22:case 23:return Za(a),I0(),p=a.memoizedState!==null,e!==null?e.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(u&536870912)!==0&&(a.flags&128)===0&&($n(a),a.subtreeFlags&6&&(a.flags|=8192)):$n(a),u=a.updateQueue,u!==null&&Hf(a,u.retryQueue),u=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==u&&(a.flags|=2048),e!==null&&de(sl),null;case 24:return u=null,e!==null&&(u=e.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),bo(Ar),$n(a),null;case 25:return null;case 30:return null}throw Error(c(156,a.tag))}function C3(e,a){switch(g0(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return bo(Ar),ft(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return ht(a),null;case 31:if(a.memoizedState!==null){if(Za(a),a.alternate===null)throw Error(c(340));al()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Za(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(c(340));al()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return de(yr),null;case 4:return ft(),null;case 10:return bo(a.type),null;case 22:case 23:return Za(a),I0(),e!==null&&de(sl),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return bo(Ar),null;case 25:return null;default:return null}}function rx(e,a){switch(g0(a),a.tag){case 3:bo(Ar),ft();break;case 26:case 27:case 5:ht(a);break;case 4:ft();break;case 31:a.memoizedState!==null&&Za(a);break;case 13:Za(a);break;case 19:de(yr);break;case 10:bo(a.type);break;case 22:case 23:Za(a),I0(),e!==null&&de(sl);break;case 24:bo(Ar)}}function uu(e,a){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var C=p.next;u=C;do{if((u.tag&e)===e){p=void 0;var _=u.create,B=u.inst;p=_(),B.destroy=p}u=u.next}while(u!==C)}}catch(K){Mn(a,a.return,K)}}function ms(e,a,u){try{var p=a.updateQueue,C=p!==null?p.lastEffect:null;if(C!==null){var _=C.next;p=_;do{if((p.tag&e)===e){var B=p.inst,K=B.destroy;if(K!==void 0){B.destroy=void 0,C=a;var le=u,Ce=K;try{Ce()}catch(Me){Mn(C,le,Me)}}}p=p.next}while(p!==_)}}catch(Me){Mn(a,a.return,Me)}}function ax(e){var a=e.updateQueue;if(a!==null){var u=e.stateNode;try{Yg(a,u)}catch(p){Mn(e,e.return,p)}}}function ix(e,a,u){u.props=dl(e.type,e.memoizedProps),u.state=e.memoizedState;try{u.componentWillUnmount()}catch(p){Mn(e,a,p)}}function fu(e,a){try{var u=e.ref;if(u!==null){switch(e.tag){case 26:case 27:case 5:var p=e.stateNode;break;case 30:p=e.stateNode;break;default:p=e.stateNode}typeof u=="function"?e.refCleanup=u(p):u.current=p}}catch(C){Mn(e,a,C)}}function Zi(e,a){var u=e.ref,p=e.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(C){Mn(e,a,C)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(C){Mn(e,a,C)}else u.current=null}function ox(e){var a=e.type,u=e.memoizedProps,p=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(C){Mn(e,e.return,C)}}function c1(e,a,u){try{var p=e.stateNode;q3(p,e.type,u,a),p[Jt]=a}catch(C){Mn(e,e.return,C)}}function sx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ws(e.type)||e.tag===4}function u1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function f1(e,a,u){var p=e.tag;if(p===5||p===6)e=e.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(e,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(e),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ir));else if(p!==4&&(p===27&&ws(e.type)&&(u=e.stateNode,a=null),e=e.child,e!==null))for(f1(e,a,u),e=e.sibling;e!==null;)f1(e,a,u),e=e.sibling}function Gf(e,a,u){var p=e.tag;if(p===5||p===6)e=e.stateNode,a?u.insertBefore(e,a):u.appendChild(e);else if(p!==4&&(p===27&&ws(e.type)&&(u=e.stateNode),e=e.child,e!==null))for(Gf(e,a,u),e=e.sibling;e!==null;)Gf(e,a,u),e=e.sibling}function lx(e){var a=e.stateNode,u=e.memoizedProps;try{for(var p=e.type,C=a.attributes;C.length;)a.removeAttributeNode(C[0]);Yr(a,p,u),a[En]=e,a[Jt]=u}catch(_){Mn(e,e.return,_)}}var Ao=!1,Nr=!1,d1=!1,cx=typeof WeakSet=="function"?WeakSet:Set,kr=null;function S3(e,a){if(e=e.containerInfo,D1=fd,e=S(e),T(e)){if("selectionStart"in e)var u={start:e.selectionStart,end:e.selectionEnd};else e:{u=(u=e.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var C=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var B=0,K=-1,le=-1,Ce=0,Me=0,Fe=e,Ae=null;t:for(;;){for(var Te;Fe!==u||C!==0&&Fe.nodeType!==3||(K=B+C),Fe!==_||p!==0&&Fe.nodeType!==3||(le=B+p),Fe.nodeType===3&&(B+=Fe.nodeValue.length),(Te=Fe.firstChild)!==null;)Ae=Fe,Fe=Te;for(;;){if(Fe===e)break t;if(Ae===u&&++Ce===C&&(K=B),Ae===_&&++Me===p&&(le=B),(Te=Fe.nextSibling)!==null)break;Fe=Ae,Ae=Fe.parentNode}Fe=Te}u=K===-1||le===-1?null:{start:K,end:le}}else u=null}u=u||{start:0,end:0}}else u=null;for(P1={focusedElem:e,selectionRange:u},fd=!1,kr=a;kr!==null;)if(a=kr,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,kr=e;else for(;kr!==null;){switch(a=kr,_=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(u=0;u<e.length;u++)C=e[u],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,u=a,C=_.memoizedProps,_=_.memoizedState,p=u.stateNode;try{var ct=dl(u.type,C);e=p.getSnapshotBeforeUpdate(ct,_),p.__reactInternalSnapshotBeforeUpdate=e}catch(Ct){Mn(u,u.return,Ct)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,u=e.nodeType,u===9)L1(e);else if(u===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":L1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=a.sibling,e!==null){e.return=a.return,kr=e;break}kr=a.return}}function ux(e,a,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:To(e,u),p&4&&uu(5,u);break;case 1:if(To(e,u),p&4)if(e=u.stateNode,a===null)try{e.componentDidMount()}catch(B){Mn(u,u.return,B)}else{var C=dl(u.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(C,a,e.__reactInternalSnapshotBeforeUpdate)}catch(B){Mn(u,u.return,B)}}p&64&&ax(u),p&512&&fu(u,u.return);break;case 3:if(To(e,u),p&64&&(e=u.updateQueue,e!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Yg(e,a)}catch(B){Mn(u,u.return,B)}}break;case 27:a===null&&p&4&&lx(u);case 26:case 5:To(e,u),a===null&&p&4&&ox(u),p&512&&fu(u,u.return);break;case 12:To(e,u);break;case 31:To(e,u),p&4&&hx(e,u);break;case 13:To(e,u),p&4&&mx(e,u),p&64&&(e=u.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(u=D3.bind(null,u),J3(e,u))));break;case 22:if(p=u.memoizedState!==null||Ao,!p){a=a!==null&&a.memoizedState!==null||Nr,C=Ao;var _=Nr;Ao=p,(Nr=a)&&!_?No(e,u,(u.subtreeFlags&8772)!==0):To(e,u),Ao=C,Nr=_}break;case 30:break;default:To(e,u)}}function fx(e){var a=e.alternate;a!==null&&(e.alternate=null,fx(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Ur(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tr=null,Ra=!1;function _o(e,a,u){for(u=u.child;u!==null;)dx(e,a,u),u=u.sibling}function dx(e,a,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(an,u)}catch{}switch(u.tag){case 26:Nr||Zi(u,a),_o(e,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nr||Zi(u,a);var p=tr,C=Ra;ws(u.type)&&(tr=u.stateNode,Ra=!1),_o(e,a,u),bu(u.stateNode),tr=p,Ra=C;break;case 5:Nr||Zi(u,a);case 6:if(p=tr,C=Ra,tr=null,_o(e,a,u),tr=p,Ra=C,tr!==null)if(Ra)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(u.stateNode)}catch(_){Mn(u,a,_)}else try{tr.removeChild(u.stateNode)}catch(_){Mn(u,a,_)}break;case 18:tr!==null&&(Ra?(e=tr,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,u.stateNode),fc(e)):av(tr,u.stateNode));break;case 4:p=tr,C=Ra,tr=u.stateNode.containerInfo,Ra=!0,_o(e,a,u),tr=p,Ra=C;break;case 0:case 11:case 14:case 15:ms(2,u,a),Nr||ms(4,u,a),_o(e,a,u);break;case 1:Nr||(Zi(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"&&ix(u,a,p)),_o(e,a,u);break;case 21:_o(e,a,u);break;case 22:Nr=(p=Nr)||u.memoizedState!==null,_o(e,a,u),Nr=p;break;default:_o(e,a,u)}}function hx(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fc(e)}catch(u){Mn(a,a.return,u)}}}function mx(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fc(e)}catch(u){Mn(a,a.return,u)}}function A3(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new cx),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new cx),a;default:throw Error(c(435,e.tag))}}function qf(e,a){var u=A3(e);a.forEach(function(p){if(!u.has(p)){u.add(p);var C=P3.bind(null,e,p);p.then(C,C)}})}function Oa(e,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var C=u[p],_=e,B=a,K=B;e:for(;K!==null;){switch(K.tag){case 27:if(ws(K.type)){tr=K.stateNode,Ra=!1;break e}break;case 5:tr=K.stateNode,Ra=!1;break e;case 3:case 4:tr=K.stateNode.containerInfo,Ra=!0;break e}K=K.return}if(tr===null)throw Error(c(160));dx(_,B,C),tr=null,Ra=!1,_=C.alternate,_!==null&&(_.return=null),C.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)px(a,e),a=a.sibling}var _i=null;function px(e,a){var u=e.alternate,p=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oa(a,e),Ia(e),p&4&&(ms(3,e,e.return),uu(3,e),ms(5,e,e.return));break;case 1:Oa(a,e),Ia(e),p&512&&(Nr||u===null||Zi(u,u.return)),p&64&&Ao&&(e=e.updateQueue,e!==null&&(p=e.callbacks,p!==null&&(u=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var C=_i;if(Oa(a,e),Ia(e),p&512&&(Nr||u===null||Zi(u,u.return)),p&4){var _=u!==null?u.memoizedState:null;if(p=e.memoizedState,u===null)if(p===null)if(e.stateNode===null){e:{p=e.type,u=e.memoizedProps,C=C.ownerDocument||C;t:switch(p){case"title":_=C.getElementsByTagName("title")[0],(!_||_[ua]||_[En]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=C.createElement(p),C.head.insertBefore(_,C.querySelector("head > title"))),Yr(_,p,u),_[En]=e,Zn(_),p=_;break e;case"link":var B=pv("link","href",C).get(p+(u.href||""));if(B){for(var K=0;K<B.length;K++)if(_=B[K],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){B.splice(K,1);break t}}_=C.createElement(p),Yr(_,p,u),C.head.appendChild(_);break;case"meta":if(B=pv("meta","content",C).get(p+(u.content||""))){for(K=0;K<B.length;K++)if(_=B[K],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){B.splice(K,1);break t}}_=C.createElement(p),Yr(_,p,u),C.head.appendChild(_);break;default:throw Error(c(468,p))}_[En]=e,Zn(_),p=_}e.stateNode=p}else gv(C,e.type,e.stateNode);else e.stateNode=mv(C,p,e.memoizedProps);else _!==p?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,p===null?gv(C,e.type,e.stateNode):mv(C,p,e.memoizedProps)):p===null&&e.stateNode!==null&&c1(e,e.memoizedProps,u.memoizedProps)}break;case 27:Oa(a,e),Ia(e),p&512&&(Nr||u===null||Zi(u,u.return)),u!==null&&p&4&&c1(e,e.memoizedProps,u.memoizedProps);break;case 5:if(Oa(a,e),Ia(e),p&512&&(Nr||u===null||Zi(u,u.return)),e.flags&32){C=e.stateNode;try{wi(C,"")}catch(ct){Mn(e,e.return,ct)}}p&4&&e.stateNode!=null&&(C=e.memoizedProps,c1(e,C,u!==null?u.memoizedProps:C)),p&1024&&(d1=!0);break;case 6:if(Oa(a,e),Ia(e),p&4){if(e.stateNode===null)throw Error(c(162));p=e.memoizedProps,u=e.stateNode;try{u.nodeValue=p}catch(ct){Mn(e,e.return,ct)}}break;case 3:if(sd=null,C=_i,_i=id(a.containerInfo),Oa(a,e),_i=C,Ia(e),p&4&&u!==null&&u.memoizedState.isDehydrated)try{fc(a.containerInfo)}catch(ct){Mn(e,e.return,ct)}d1&&(d1=!1,gx(e));break;case 4:p=_i,_i=id(e.stateNode.containerInfo),Oa(a,e),Ia(e),_i=p;break;case 12:Oa(a,e),Ia(e);break;case 31:Oa(a,e),Ia(e),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,qf(e,p)));break;case 13:Oa(a,e),Ia(e),e.child.flags&8192&&e.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Kf=Dn()),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,qf(e,p)));break;case 22:C=e.memoizedState!==null;var le=u!==null&&u.memoizedState!==null,Ce=Ao,Me=Nr;if(Ao=Ce||C,Nr=Me||le,Oa(a,e),Nr=Me,Ao=Ce,Ia(e),p&8192)e:for(a=e.stateNode,a._visibility=C?a._visibility&-2:a._visibility|1,C&&(u===null||le||Ao||Nr||hl(e)),u=null,a=e;;){if(a.tag===5||a.tag===26){if(u===null){le=u=a;try{if(_=le.stateNode,C)B=_.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{K=le.stateNode;var Fe=le.memoizedProps.style,Ae=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;K.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(ct){Mn(le,le.return,ct)}}}else if(a.tag===6){if(u===null){le=a;try{le.stateNode.nodeValue=C?"":le.memoizedProps}catch(ct){Mn(le,le.return,ct)}}}else if(a.tag===18){if(u===null){le=a;try{var Te=le.stateNode;C?iv(Te,!0):iv(le.stateNode,!1)}catch(ct){Mn(le,le.return,ct)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=e.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,qf(e,u))));break;case 19:Oa(a,e),Ia(e),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,qf(e,p)));break;case 30:break;case 21:break;default:Oa(a,e),Ia(e)}}function Ia(e){var a=e.flags;if(a&2){try{for(var u,p=e.return;p!==null;){if(sx(p)){u=p;break}p=p.return}if(u==null)throw Error(c(160));switch(u.tag){case 27:var C=u.stateNode,_=u1(e);Gf(e,_,C);break;case 5:var B=u.stateNode;u.flags&32&&(wi(B,""),u.flags&=-33);var K=u1(e);Gf(e,K,B);break;case 3:case 4:var le=u.stateNode.containerInfo,Ce=u1(e);f1(e,Ce,le);break;default:throw Error(c(161))}}catch(Me){Mn(e,e.return,Me)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function gx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;gx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function To(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ux(e,a.alternate,a),a=a.sibling}function hl(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ms(4,a,a.return),hl(a);break;case 1:Zi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&ix(a,a.return,u),hl(a);break;case 27:bu(a.stateNode);case 26:case 5:Zi(a,a.return),hl(a);break;case 22:a.memoizedState===null&&hl(a);break;case 30:hl(a);break;default:hl(a)}e=e.sibling}}function No(e,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,C=e,_=a,B=_.flags;switch(_.tag){case 0:case 11:case 15:No(C,_,u),uu(4,_);break;case 1:if(No(C,_,u),p=_,C=p.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ce){Mn(p,p.return,Ce)}if(p=_,C=p.updateQueue,C!==null){var K=p.stateNode;try{var le=C.shared.hiddenCallbacks;if(le!==null)for(C.shared.hiddenCallbacks=null,C=0;C<le.length;C++)Kg(le[C],K)}catch(Ce){Mn(p,p.return,Ce)}}u&&B&64&&ax(_),fu(_,_.return);break;case 27:lx(_);case 26:case 5:No(C,_,u),u&&p===null&&B&4&&ox(_),fu(_,_.return);break;case 12:No(C,_,u);break;case 31:No(C,_,u),u&&B&4&&hx(C,_);break;case 13:No(C,_,u),u&&B&4&&mx(C,_);break;case 22:_.memoizedState===null&&No(C,_,u),fu(_,_.return);break;case 30:break;default:No(C,_,u)}a=a.sibling}}function h1(e,a){var u=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==u&&(e!=null&&e.refCount++,u!=null&&Qc(u))}function m1(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Qc(e))}function Ti(e,a,u,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yx(e,a,u,p),a=a.sibling}function yx(e,a,u,p){var C=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(e,a,u,p),C&2048&&uu(9,a);break;case 1:Ti(e,a,u,p);break;case 3:Ti(e,a,u,p),C&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Qc(e)));break;case 12:if(C&2048){Ti(e,a,u,p),e=a.stateNode;try{var _=a.memoizedProps,B=_.id,K=_.onPostCommit;typeof K=="function"&&K(B,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(le){Mn(a,a.return,le)}}else Ti(e,a,u,p);break;case 31:Ti(e,a,u,p);break;case 13:Ti(e,a,u,p);break;case 23:break;case 22:_=a.stateNode,B=a.alternate,a.memoizedState!==null?_._visibility&2?Ti(e,a,u,p):du(e,a):_._visibility&2?Ti(e,a,u,p):(_._visibility|=2,ec(e,a,u,p,(a.subtreeFlags&10256)!==0||!1)),C&2048&&h1(B,a);break;case 24:Ti(e,a,u,p),C&2048&&m1(a.alternate,a);break;default:Ti(e,a,u,p)}}function ec(e,a,u,p,C){for(C=C&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=e,B=a,K=u,le=p,Ce=B.flags;switch(B.tag){case 0:case 11:case 15:ec(_,B,K,le,C),uu(8,B);break;case 23:break;case 22:var Me=B.stateNode;B.memoizedState!==null?Me._visibility&2?ec(_,B,K,le,C):du(_,B):(Me._visibility|=2,ec(_,B,K,le,C)),C&&Ce&2048&&h1(B.alternate,B);break;case 24:ec(_,B,K,le,C),C&&Ce&2048&&m1(B.alternate,B);break;default:ec(_,B,K,le,C)}a=a.sibling}}function du(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=e,p=a,C=p.flags;switch(p.tag){case 22:du(u,p),C&2048&&h1(p.alternate,p);break;case 24:du(u,p),C&2048&&m1(p.alternate,p);break;default:du(u,p)}a=a.sibling}}var hu=8192;function tc(e,a,u){if(e.subtreeFlags&hu)for(e=e.child;e!==null;)xx(e,a,u),e=e.sibling}function xx(e,a,u){switch(e.tag){case 26:tc(e,a,u),e.flags&hu&&e.memoizedState!==null&&f_(u,_i,e.memoizedState,e.memoizedProps);break;case 5:tc(e,a,u);break;case 3:case 4:var p=_i;_i=id(e.stateNode.containerInfo),tc(e,a,u),_i=p;break;case 22:e.memoizedState===null&&(p=e.alternate,p!==null&&p.memoizedState!==null?(p=hu,hu=16777216,tc(e,a,u),hu=p):tc(e,a,u));break;default:tc(e,a,u)}}function vx(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function mu(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];kr=p,wx(p,e)}vx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bx(e),e=e.sibling}function bx(e){switch(e.tag){case 0:case 11:case 15:mu(e),e.flags&2048&&ms(9,e,e.return);break;case 3:mu(e);break;case 12:mu(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Xf(e)):mu(e);break;default:mu(e)}}function Xf(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];kr=p,wx(p,e)}vx(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ms(8,a,a.return),Xf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Xf(a));break;default:Xf(a)}e=e.sibling}}function wx(e,a){for(;kr!==null;){var u=kr;switch(u.tag){case 0:case 11:case 15:ms(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Qc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,kr=p;else e:for(u=e;kr!==null;){p=kr;var C=p.sibling,_=p.return;if(fx(p),p===u){kr=null;break e}if(C!==null){C.return=_,kr=C;break e}kr=_}}}var _3={getCacheForType:function(e){var a=Xr(Ar),u=a.data.get(e);return u===void 0&&(u=e(),a.data.set(e,u)),u},cacheSignal:function(){return Xr(Ar).controller.signal}},T3=typeof WeakMap=="function"?WeakMap:Map,bn=0,Hn=null,Zt=null,nn=0,In=0,Qa=null,ps=!1,nc=!1,p1=!1,Ro=0,fr=0,gs=0,ml=0,g1=0,$a=0,rc=0,pu=null,Ma=null,y1=!1,Kf=0,Ex=0,Yf=1/0,Wf=null,ys=null,Mr=0,xs=null,ac=null,Oo=0,x1=0,v1=null,Cx=null,gu=0,b1=null;function Ja(){return(bn&2)!==0&&nn!==0?nn&-nn:ie.T!==null?_1():Er()}function Sx(){if($a===0)if((nn&536870912)===0||ln){var e=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),$a=e}else $a=536870912;return e=Wa.current,e!==null&&(e.flags|=32),$a}function Da(e,a,u){(e===Hn&&(In===2||In===9)||e.cancelPendingCommit!==null)&&(ic(e,0),vs(e,nn,$a,!1)),Nn(e,u),((bn&2)===0||e!==Hn)&&(e===Hn&&((bn&2)===0&&(ml|=u),fr===4&&vs(e,nn,$a,!1)),Qi(e))}function Ax(e,a,u){if((bn&6)!==0)throw Error(c(327));var p=!u&&(a&127)===0&&(a&e.expiredLanes)===0||lt(e,a),C=p?O3(e,a):E1(e,a,!0),_=p;do{if(C===0){nc&&!p&&vs(e,a,0,!1);break}else{if(u=e.current.alternate,_&&!N3(u)){C=E1(e,a,!1),_=!1;continue}if(C===2){if(_=a,e.errorRecoveryDisabledLanes&_)var B=0;else B=e.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){a=B;e:{var K=e;C=pu;var le=K.current.memoizedState.isDehydrated;if(le&&(ic(K,B).flags|=256),B=E1(K,B,!1),B!==2){if(p1&&!le){K.errorRecoveryDisabledLanes|=_,ml|=_,C=4;break e}_=Ma,Ma=C,_!==null&&(Ma===null?Ma=_:Ma.push.apply(Ma,_))}C=B}if(_=!1,C!==2)continue}}if(C===1){ic(e,0),vs(e,a,0,!0);break}e:{switch(p=e,_=C,_){case 0:case 1:throw Error(c(345));case 4:if((a&4194048)!==a)break;case 6:vs(p,a,$a,!ps);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(c(329))}if((a&62914560)===a&&(C=Kf+300-Dn(),10<C)){if(vs(p,a,$a,!ps),ii(p,0,!0)!==0)break e;Oo=a,p.timeoutHandle=nv(_x.bind(null,p,u,Ma,Wf,y1,a,$a,ml,rc,ps,_,"Throttled",-0,0),C);break e}_x(p,u,Ma,Wf,y1,a,$a,ml,rc,ps,_,null,-0,0)}}break}while(!0);Qi(e)}function _x(e,a,u,p,C,_,B,K,le,Ce,Me,Fe,Ae,Te){if(e.timeoutHandle=-1,Fe=a.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ir},xx(a,_,Fe);var ct=(_&62914560)===_?Kf-Dn():(_&4194048)===_?Ex-Dn():0;if(ct=d_(Fe,ct),ct!==null){Oo=_,e.cancelPendingCommit=ct(Px.bind(null,e,a,_,u,p,C,B,K,le,Me,Fe,null,Ae,Te)),vs(e,_,B,!Ce);return}}Px(e,a,_,u,p,C,B,K,le)}function N3(e){for(var a=e;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var C=u[p],_=C.getSnapshot;C=C.value;try{if(!g(_(),C))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vs(e,a,u,p){a&=~g1,a&=~ml,e.suspendedLanes|=a,e.pingedLanes&=~a,p&&(e.warmLanes|=a),p=e.expirationTimes;for(var C=a;0<C;){var _=31-He(C),B=1<<_;p[_]=-1,C&=~B}u!==0&&jr(e,u,a)}function Zf(){return(bn&6)===0?(yu(0),!1):!0}function w1(){if(Zt!==null){if(In===0)var e=Zt.return;else e=Zt,vo=il=null,L0(e),Wl=null,Jc=0,e=Zt;for(;e!==null;)rx(e.alternate,e),e=e.return;Zt=null}}function ic(e,a){var u=e.timeoutHandle;u!==-1&&(e.timeoutHandle=-1,Y3(u)),u=e.cancelPendingCommit,u!==null&&(e.cancelPendingCommit=null,u()),Oo=0,w1(),Hn=e,Zt=u=yo(e.current,null),nn=a,In=0,Qa=null,ps=!1,nc=lt(e,a),p1=!1,rc=$a=g1=ml=gs=fr=0,Ma=pu=null,y1=!1,(a&8)!==0&&(a|=a&32);var p=e.entangledLanes;if(p!==0)for(e=e.entanglements,p&=a;0<p;){var C=31-He(p),_=1<<C;a|=e[C],p&=~_}return Ro=a,Bt(),u}function Tx(e,a){Ut=null,ie.H=su,a===Yl||a===Af?(a=Hg(),In=3):a===A0?(a=Hg(),In=4):In=a===J0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qa=a,Zt===null&&(fr=1,Ff(e,li(a,e.current)))}function Nx(){var e=Wa.current;return e===null?!0:(nn&4194048)===nn?di===null:(nn&62914560)===nn||(nn&536870912)!==0?e===di:!1}function Rx(){var e=ie.H;return ie.H=su,e===null?su:e}function Ox(){var e=ie.A;return ie.A=_3,e}function Qf(){fr=4,ps||(nn&4194048)!==nn&&Wa.current!==null||(nc=!0),(gs&134217727)===0&&(ml&134217727)===0||Hn===null||vs(Hn,nn,$a,!1)}function E1(e,a,u){var p=bn;bn|=2;var C=Rx(),_=Ox();(Hn!==e||nn!==a)&&(Wf=null,ic(e,a)),a=!1;var B=fr;e:do try{if(In!==0&&Zt!==null){var K=Zt,le=Qa;switch(In){case 8:w1(),B=6;break e;case 3:case 2:case 9:case 6:Wa.current===null&&(a=!0);var Ce=In;if(In=0,Qa=null,oc(e,K,le,Ce),u&&nc){B=0;break e}break;default:Ce=In,In=0,Qa=null,oc(e,K,le,Ce)}}R3(),B=fr;break}catch(Me){Tx(e,Me)}while(!0);return a&&e.shellSuspendCounter++,vo=il=null,bn=p,ie.H=C,ie.A=_,Zt===null&&(Hn=null,nn=0,Bt()),B}function R3(){for(;Zt!==null;)Ix(Zt)}function O3(e,a){var u=bn;bn|=2;var p=Rx(),C=Ox();Hn!==e||nn!==a?(Wf=null,Yf=Dn()+500,ic(e,a)):nc=lt(e,a);e:do try{if(In!==0&&Zt!==null){a=Zt;var _=Qa;t:switch(In){case 1:In=0,Qa=null,oc(e,a,_,1);break;case 2:case 9:if(zg(_)){In=0,Qa=null,Mx(a);break}a=function(){In!==2&&In!==9||Hn!==e||(In=7),Qi(e)},_.then(a,a);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:zg(_)?(In=0,Qa=null,Mx(a)):(In=0,Qa=null,oc(e,a,_,7));break;case 5:var B=null;switch(Zt.tag){case 26:B=Zt.memoizedState;case 5:case 27:var K=Zt;if(B?yv(B):K.stateNode.complete){In=0,Qa=null;var le=K.sibling;if(le!==null)Zt=le;else{var Ce=K.return;Ce!==null?(Zt=Ce,$f(Ce)):Zt=null}break t}}In=0,Qa=null,oc(e,a,_,5);break;case 6:In=0,Qa=null,oc(e,a,_,6);break;case 8:w1(),fr=6;break e;default:throw Error(c(462))}}I3();break}catch(Me){Tx(e,Me)}while(!0);return vo=il=null,ie.H=p,ie.A=C,bn=u,Zt!==null?0:(Hn=null,nn=0,Bt(),fr)}function I3(){for(;Zt!==null&&!ai();)Ix(Zt)}function Ix(e){var a=tx(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,a===null?$f(e):Zt=a}function Mx(e){var a=e,u=a.alternate;switch(a.tag){case 15:case 0:a=Wy(u,a,a.pendingProps,a.type,void 0,nn);break;case 11:a=Wy(u,a,a.pendingProps,a.type.render,a.ref,nn);break;case 5:L0(a);default:rx(u,a),a=Zt=Og(a,Ro),a=tx(u,a,Ro)}e.memoizedProps=e.pendingProps,a===null?$f(e):Zt=a}function oc(e,a,u,p){vo=il=null,L0(a),Wl=null,Jc=0;var C=a.return;try{if(v3(e,C,a,u,nn)){fr=1,Ff(e,li(u,e.current)),Zt=null;return}}catch(_){if(C!==null)throw Zt=C,_;fr=1,Ff(e,li(u,e.current)),Zt=null;return}a.flags&32768?(ln||p===1?e=!0:nc||(nn&536870912)!==0?e=!1:(ps=e=!0,(p===2||p===9||p===3||p===6)&&(p=Wa.current,p!==null&&p.tag===13&&(p.flags|=16384))),Dx(a,e)):$f(a)}function $f(e){var a=e;do{if((a.flags&32768)!==0){Dx(a,ps);return}e=a.return;var u=E3(a.alternate,a,Ro);if(u!==null){Zt=u;return}if(a=a.sibling,a!==null){Zt=a;return}Zt=a=e}while(a!==null);fr===0&&(fr=5)}function Dx(e,a){do{var u=C3(e.alternate,e);if(u!==null){u.flags&=32767,Zt=u;return}if(u=e.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(e=e.sibling,e!==null)){Zt=e;return}Zt=e=u}while(e!==null);fr=6,Zt=null}function Px(e,a,u,p,C,_,B,K,le){e.cancelPendingCommit=null;do Jf();while(Mr!==0);if((bn&6)!==0)throw Error(c(327));if(a!==null){if(a===e.current)throw Error(c(177));if(_=a.lanes|a.childLanes,_|=vt,Yn(e,u,_,B,K,le),e===Hn&&(Zt=Hn=null,nn=0),ac=a,xs=e,Oo=u,x1=_,v1=C,Cx=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k3(Rr,function(){return Fx(),null})):(e.callbackNode=null,e.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=ie.T,ie.T=null,C=ge.p,ge.p=2,B=bn,bn|=4;try{S3(e,a,u)}finally{bn=B,ge.p=C,ie.T=p}}Mr=1,kx(),Bx(),Lx()}}function kx(){if(Mr===1){Mr=0;var e=xs,a=ac,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var p=ge.p;ge.p=2;var C=bn;bn|=4;try{px(a,e);var _=P1,B=S(e.containerInfo),K=_.focusedElem,le=_.selectionRange;if(B!==K&&K&&K.ownerDocument&&w(K.ownerDocument.documentElement,K)){if(le!==null&&T(K)){var Ce=le.start,Me=le.end;if(Me===void 0&&(Me=Ce),"selectionStart"in K)K.selectionStart=Ce,K.selectionEnd=Math.min(Me,K.value.length);else{var Fe=K.ownerDocument||document,Ae=Fe&&Fe.defaultView||window;if(Ae.getSelection){var Te=Ae.getSelection(),ct=K.textContent.length,Ct=Math.min(le.start,ct),Fn=le.end===void 0?Ct:Math.min(le.end,ct);!Te.extend&&Ct>Fn&&(B=Fn,Fn=Ct,Ct=B);var ye=x(K,Ct),ue=x(K,Fn);if(ye&&ue&&(Te.rangeCount!==1||Te.anchorNode!==ye.node||Te.anchorOffset!==ye.offset||Te.focusNode!==ue.node||Te.focusOffset!==ue.offset)){var Ee=Fe.createRange();Ee.setStart(ye.node,ye.offset),Te.removeAllRanges(),Ct>Fn?(Te.addRange(Ee),Te.extend(ue.node,ue.offset)):(Ee.setEnd(ue.node,ue.offset),Te.addRange(Ee))}}}}for(Fe=[],Te=K;Te=Te.parentNode;)Te.nodeType===1&&Fe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Fe.length;K++){var ke=Fe[K];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}fd=!!D1,P1=D1=null}finally{bn=C,ge.p=p,ie.T=u}}e.current=a,Mr=2}}function Bx(){if(Mr===2){Mr=0;var e=xs,a=ac,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var p=ge.p;ge.p=2;var C=bn;bn|=4;try{ux(e,a.alternate,a)}finally{bn=C,ge.p=p,ie.T=u}}Mr=3}}function Lx(){if(Mr===4||Mr===3){Mr=0,Dr();var e=xs,a=ac,u=Oo,p=Cx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Mr=5:(Mr=0,ac=xs=null,jx(e,e.pendingLanes));var C=e.pendingLanes;if(C===0&&(ys=null),Qr(u),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(an,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=ie.T,C=ge.p,ge.p=2,ie.T=null;try{for(var _=e.onRecoverableError,B=0;B<p.length;B++){var K=p[B];_(K.value,{componentStack:K.stack})}}finally{ie.T=a,ge.p=C}}(Oo&3)!==0&&Jf(),Qi(e),C=e.pendingLanes,(u&261930)!==0&&(C&42)!==0?e===b1?gu++:(gu=0,b1=e):gu=0,yu(0)}}function jx(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Qc(a)))}function Jf(){return kx(),Bx(),Lx(),Fx()}function Fx(){if(Mr!==5)return!1;var e=xs,a=x1;x1=0;var u=Qr(Oo),p=ie.T,C=ge.p;try{ge.p=32>u?32:u,ie.T=null,u=v1,v1=null;var _=xs,B=Oo;if(Mr=0,ac=xs=null,Oo=0,(bn&6)!==0)throw Error(c(331));var K=bn;if(bn|=4,bx(_.current),yx(_,_.current,B,u),bn=K,yu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(an,_)}catch{}return!0}finally{ge.p=C,ie.T=p,jx(e,a)}}function Ux(e,a,u){a=li(u,a),a=$0(e.stateNode,a,2),e=fs(e,a,2),e!==null&&(Nn(e,2),Qi(e))}function Mn(e,a,u){if(e.tag===3)Ux(e,e,u);else for(;a!==null;){if(a.tag===3){Ux(a,e,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ys===null||!ys.has(p))){e=li(u,e),u=zy(2),p=fs(a,u,2),p!==null&&(Vy(u,p,a,e),Nn(p,2),Qi(p));break}}a=a.return}}function C1(e,a,u){var p=e.pingCache;if(p===null){p=e.pingCache=new T3;var C=new Set;p.set(a,C)}else C=p.get(a),C===void 0&&(C=new Set,p.set(a,C));C.has(u)||(p1=!0,C.add(u),e=M3.bind(null,e,a,u),a.then(e,e))}function M3(e,a,u){var p=e.pingCache;p!==null&&p.delete(a),e.pingedLanes|=e.suspendedLanes&u,e.warmLanes&=~u,Hn===e&&(nn&u)===u&&(fr===4||fr===3&&(nn&62914560)===nn&&300>Dn()-Kf?(bn&2)===0&&ic(e,0):g1|=u,rc===nn&&(rc=0)),Qi(e)}function zx(e,a){a===0&&(a=Ot()),e=Cn(e,a),e!==null&&(Nn(e,a),Qi(e))}function D3(e){var a=e.memoizedState,u=0;a!==null&&(u=a.retryLane),zx(e,u)}function P3(e,a){var u=0;switch(e.tag){case 31:case 13:var p=e.stateNode,C=e.memoizedState;C!==null&&(u=C.retryLane);break;case 19:p=e.stateNode;break;case 22:p=e.stateNode._retryCache;break;default:throw Error(c(314))}p!==null&&p.delete(a),zx(e,u)}function k3(e,a){return ca(e,a)}var ed=null,sc=null,S1=!1,td=!1,A1=!1,bs=0;function Qi(e){e!==sc&&e.next===null&&(sc===null?ed=sc=e:sc=sc.next=e),td=!0,S1||(S1=!0,L3())}function yu(e,a){if(!A1&&td){A1=!0;do for(var u=!1,p=ed;p!==null;){if(e!==0){var C=p.pendingLanes;if(C===0)var _=0;else{var B=p.suspendedLanes,K=p.pingedLanes;_=(1<<31-He(42|e)+1)-1,_&=C&~(B&~K),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,qx(p,_))}else _=nn,_=ii(p,p===Hn?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||lt(p,_)||(u=!0,qx(p,_));p=p.next}while(u);A1=!1}}function B3(){Vx()}function Vx(){td=S1=!1;var e=0;bs!==0&&K3()&&(e=bs);for(var a=Dn(),u=null,p=ed;p!==null;){var C=p.next,_=Hx(p,a);_===0?(p.next=null,u===null?ed=C:u.next=C,C===null&&(sc=u)):(u=p,(e!==0||(_&3)!==0)&&(td=!0)),p=C}Mr!==0&&Mr!==5||yu(e),bs!==0&&(bs=0)}function Hx(e,a){for(var u=e.suspendedLanes,p=e.pingedLanes,C=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var B=31-He(_),K=1<<B,le=C[B];le===-1?((K&u)===0||(K&p)!==0)&&(C[B]=$t(K,a)):le<=a&&(e.expiredLanes|=K),_&=~K}if(a=Hn,u=nn,u=ii(e,e===a?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),p=e.callbackNode,u===0||e===a&&(In===2||In===9)||e.cancelPendingCommit!==null)return p!==null&&p!==null&&Qe(p),e.callbackNode=null,e.callbackPriority=0;if((u&3)===0||lt(e,u)){if(a=u&-u,a===e.callbackPriority)return a;switch(p!==null&&Qe(p),Qr(u)){case 2:case 8:u=br;break;case 32:u=Rr;break;case 268435456:u=ba;break;default:u=Rr}return p=Gx.bind(null,e),u=ca(u,p),e.callbackPriority=a,e.callbackNode=u,a}return p!==null&&p!==null&&Qe(p),e.callbackPriority=2,e.callbackNode=null,2}function Gx(e,a){if(Mr!==0&&Mr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var u=e.callbackNode;if(Jf()&&e.callbackNode!==u)return null;var p=nn;return p=ii(e,e===Hn?p:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),p===0?null:(Ax(e,p,a),Hx(e,Dn()),e.callbackNode!=null&&e.callbackNode===u?Gx.bind(null,e):null)}function qx(e,a){if(Jf())return null;Ax(e,a,!0)}function L3(){W3(function(){(bn&6)!==0?ca(zt,B3):Vx()})}function _1(){if(bs===0){var e=Xl;e===0&&(e=Ze,Ze<<=1,(Ze&261888)===0&&(Ze=256)),bs=e}return bs}function Xx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function Kx(e,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,e.id&&u.setAttribute("form",e.id),a.parentNode.insertBefore(u,a),e=new FormData(e),u.parentNode.removeChild(u),e}function j3(e,a,u,p,C){if(a==="submit"&&u&&u.stateNode===C){var _=Xx((C[Jt]||null).action),B=p.submitter;B&&(a=(a=B[Jt]||null)?Xx(a.formAction):B.getAttribute("formAction"),a!==null&&(_=a,B=null));var K=new pr("action","action",null,p,C);e.push({event:K,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(bs!==0){var le=B?Kx(C,B):new FormData(C);X0(u,{pending:!0,data:le,method:C.method,action:_},null,le)}}else typeof _=="function"&&(K.preventDefault(),le=B?Kx(C,B):new FormData(C),X0(u,{pending:!0,data:le,method:C.method,action:_},_,le))},currentTarget:C}]})}}for(var T1=0;T1<$e.length;T1++){var N1=$e[T1],F3=N1.toLowerCase(),U3=N1[0].toUpperCase()+N1.slice(1);Ke(F3,"on"+U3)}Ke(be,"onAnimationEnd"),Ke(he,"onAnimationIteration"),Ke(Se,"onAnimationStart"),Ke("dblclick","onDoubleClick"),Ke("focusin","onFocus"),Ke("focusout","onBlur"),Ke(Pe,"onTransitionRun"),Ke(Ye,"onTransitionStart"),Ke(We,"onTransitionCancel"),Ke(Ge,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function Yx(e,a){a=(a&4)!==0;for(var u=0;u<e.length;u++){var p=e[u],C=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var B=p.length-1;0<=B;B--){var K=p[B],le=K.instance,Ce=K.currentTarget;if(K=K.listener,le!==_&&C.isPropagationStopped())break e;_=K,C.currentTarget=Ce;try{_(C)}catch(Me){it(Me)}C.currentTarget=null,_=le}else for(B=0;B<p.length;B++){if(K=p[B],le=K.instance,Ce=K.currentTarget,K=K.listener,le!==_&&C.isPropagationStopped())break e;_=K,C.currentTarget=Ce;try{_(C)}catch(Me){it(Me)}C.currentTarget=null,_=le}}}}function Qt(e,a){var u=a[Fa];u===void 0&&(u=a[Fa]=new Set);var p=e+"__bubble";u.has(p)||(Wx(a,e,2,!1),u.add(p))}function R1(e,a,u){var p=0;a&&(p|=4),Wx(u,e,p,a)}var nd="_reactListening"+Math.random().toString(36).slice(2);function O1(e){if(!e[nd]){e[nd]=!0,je.forEach(function(u){u!=="selectionchange"&&(z3.has(u)||R1(u,!1,e),R1(u,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[nd]||(a[nd]=!0,R1("selectionchange",!1,a))}}function Wx(e,a,u,p){switch(Sv(a)){case 2:var C=p_;break;case 8:C=g_;break;default:C=q1}u=C.bind(null,a,u,e),C=void 0,!Zs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),p?C!==void 0?e.addEventListener(a,u,{capture:!0,passive:C}):e.addEventListener(a,u,!0):C!==void 0?e.addEventListener(a,u,{passive:C}):e.addEventListener(a,u,!1)}function I1(e,a,u,p,C){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var B=p.tag;if(B===3||B===4){var K=p.stateNode.containerInfo;if(K===C)break;if(B===4)for(B=p.return;B!==null;){var le=B.tag;if((le===3||le===4)&&B.stateNode.containerInfo===C)return;B=B.return}for(;K!==null;){if(B=qn(K),B===null)return;if(le=B.tag,le===5||le===6||le===26||le===27){p=_=B;continue e}K=K.parentNode}}p=p.return}zi(function(){var Ce=_,Me=Yo(u),Fe=[];e:{var Ae=at.get(e);if(Ae!==void 0){var Te=pr,ct=e;switch(e){case"keypress":if(_a(u)===0)break e;case"keydown":case"keyup":Te=Ei;break;case"focusin":ct="focus",Te=Gi;break;case"focusout":ct="blur",Te=Gi;break;case"beforeblur":case"afterblur":Te=Gi;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=ho;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=tl;break;case be:case he:case Se:Te=kt;break;case Ge:Te=Ga;break;case"scroll":case"scrollend":Te=uo;break;case"wheel":Te=Jo;break;case"copy":case"cut":case"paste":Te=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=mn;break;case"toggle":case"beforetoggle":Te=es}var Ct=(a&4)!==0,Fn=!Ct&&(e==="scroll"||e==="scrollend"),ye=Ct?Ae!==null?Ae+"Capture":null:Ae;Ct=[];for(var ue=Ce,Ee;ue!==null;){var ke=ue;if(Ee=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||Ee===null||ye===null||(ke=St(ue,ye),ke!=null&&Ct.push(vu(ue,ke,Ee))),Fn)break;ue=ue.return}0<Ct.length&&(Ae=new Te(Ae,ct,null,u,Me),Fe.push({event:Ae,listeners:Ct}))}}if((a&7)===0){e:{if(Ae=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",Ae&&u!==ea&&(ct=u.relatedTarget||u.fromElement)&&(qn(ct)||ct[sr]))break e;if((Te||Ae)&&(Ae=Me.window===Me?Me:(Ae=Me.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Te?(ct=u.relatedTarget||u.toElement,Te=Ce,ct=ct?qn(ct):null,ct!==null&&(Fn=y(ct),Ct=ct.tag,ct!==Fn||Ct!==5&&Ct!==27&&Ct!==6)&&(ct=null)):(Te=null,ct=Ce),Te!==ct)){if(Ct=on,ke="onMouseLeave",ye="onMouseEnter",ue="mouse",(e==="pointerout"||e==="pointerover")&&(Ct=mn,ke="onPointerLeave",ye="onPointerEnter",ue="pointer"),Fn=Te==null?Ae:$r(Te),Ee=ct==null?Ae:$r(ct),Ae=new Ct(ke,ue+"leave",Te,u,Me),Ae.target=Fn,Ae.relatedTarget=Ee,ke=null,qn(Me)===Ce&&(Ct=new Ct(ye,ue+"enter",ct,u,Me),Ct.target=Ee,Ct.relatedTarget=Fn,ke=Ct),Fn=ke,Te&&ct)t:{for(Ct=V3,ye=Te,ue=ct,Ee=0,ke=ye;ke;ke=Ct(ke))Ee++;ke=0;for(var bt=ue;bt;bt=Ct(bt))ke++;for(;0<Ee-ke;)ye=Ct(ye),Ee--;for(;0<ke-Ee;)ue=Ct(ue),ke--;for(;Ee--;){if(ye===ue||ue!==null&&ye===ue.alternate){Ct=ye;break t}ye=Ct(ye),ue=Ct(ue)}Ct=null}else Ct=null;Te!==null&&Zx(Fe,Ae,Te,Ct,!1),ct!==null&&Fn!==null&&Zx(Fe,Fn,ct,Ct,!0)}}e:{if(Ae=Ce?$r(Ce):window,Te=Ae.nodeName&&Ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ae.type==="file")var gn=Pr;else if(mo(Ae))if(Ta)gn=f;else{gn=o;var dt=n}else Te=Ae.nodeName,!Te||Te.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Ce&&Rn(Ce.elementType)&&(gn=Pr):gn=l;if(gn&&(gn=gn(e,Ce))){na(Fe,gn,u,Me);break e}dt&&dt(e,Ae,Ce),e==="focusout"&&Ce&&Ae.type==="number"&&Ce.memoizedProps.value!=null&&J(Ae,"number",Ae.value)}switch(dt=Ce?$r(Ce):window,e){case"focusin":(mo(dt)||dt.contentEditable==="true")&&(L=dt,z=Ce,W=null);break;case"focusout":W=z=L=null;break;case"mousedown":Y=!0;break;case"contextmenu":case"mouseup":case"dragend":Y=!1,Q(Fe,u,Me);break;case"selectionchange":if(D)break;case"keydown":case"keyup":Q(Fe,u,Me)}var Vt;if(Ci)e:{switch(e){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Si?nl(e,u)&&(rn="onCompositionEnd"):e==="keydown"&&u.keyCode===229&&(rn="onCompositionStart");rn&&(ts&&u.locale!=="ko"&&(Si||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Si&&(Vt=Aa()):(da=Me,Sa="value"in da?da.value:da.textContent,Si=!0)),dt=rd(Ce,rn),0<dt.length&&(rn=new $o(rn,e,null,u,Me),Fe.push({event:rn,listeners:dt}),Vt?rn.data=Vt:(Vt=qi(u),Vt!==null&&(rn.data=Vt)))),(Vt=Ul?Ka(e,u):rs(e,u))&&(rn=rd(Ce,"onBeforeInput"),0<rn.length&&(dt=new $o("onBeforeInput","beforeinput",null,u,Me),Fe.push({event:dt,listeners:rn}),dt.data=Vt)),j3(Fe,e,Ce,u,Me)}Yx(Fe,a)})}function vu(e,a,u){return{instance:e,listener:a,currentTarget:u}}function rd(e,a){for(var u=a+"Capture",p=[];e!==null;){var C=e,_=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||_===null||(C=St(e,u),C!=null&&p.unshift(vu(e,C,_)),C=St(e,a),C!=null&&p.push(vu(e,C,_))),e.tag===3)return p;e=e.return}return[]}function V3(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zx(e,a,u,p,C){for(var _=a._reactName,B=[];u!==null&&u!==p;){var K=u,le=K.alternate,Ce=K.stateNode;if(K=K.tag,le!==null&&le===p)break;K!==5&&K!==26&&K!==27||Ce===null||(le=Ce,C?(Ce=St(u,_),Ce!=null&&B.unshift(vu(u,Ce,le))):C||(Ce=St(u,_),Ce!=null&&B.push(vu(u,Ce,le)))),u=u.return}B.length!==0&&e.push({event:a,listeners:B})}var H3=/\r\n?/g,G3=/\u0000|\uFFFD/g;function Qx(e){return(typeof e=="string"?e:""+e).replace(H3,`
`).replace(G3,"")}function $x(e,a){return a=Qx(a),Qx(e)===a}function jn(e,a,u,p,C,_){switch(u){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||wi(e,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&wi(e,""+p);break;case"className":bi(e,"class",p);break;case"tabIndex":bi(e,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,u,p);break;case"style":pt(e,p,_);break;case"data":if(a!=="object"){bi(e,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||u!=="href")){e.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){e.removeAttribute(u);break}p=fa(""+p),e.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){e.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(a!=="input"&&jn(e,a,"name",C.name,C,null),jn(e,a,"formEncType",C.formEncType,C,null),jn(e,a,"formMethod",C.formMethod,C,null),jn(e,a,"formTarget",C.formTarget,C,null)):(jn(e,a,"encType",C.encType,C,null),jn(e,a,"method",C.method,C,null),jn(e,a,"target",C.target,C,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){e.removeAttribute(u);break}p=fa(""+p),e.setAttribute(u,p);break;case"onClick":p!=null&&(e.onclick=Ir);break;case"onScroll":p!=null&&Qt("scroll",e);break;case"onScrollEnd":p!=null&&Qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(c(61));if(u=p.__html,u!=null){if(C.children!=null)throw Error(c(60));e.innerHTML=u}}break;case"multiple":e.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":e.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){e.removeAttribute("xlink:href");break}u=fa(""+p),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(u,""+p):e.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(u,""):e.removeAttribute(u);break;case"capture":case"download":p===!0?e.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(u,p):e.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?e.setAttribute(u,p):e.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?e.removeAttribute(u):e.setAttribute(u,p);break;case"popover":Qt("beforetoggle",e),Qt("toggle",e),Pt(e,"popover",p);break;case"xlinkActuate":Jr(e,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Jr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Jr(e,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Jr(e,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Jr(e,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Jr(e,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Pt(e,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=jl.get(u)||u,Pt(e,u,p))}}function M1(e,a,u,p,C,_){switch(u){case"style":pt(e,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(c(61));if(u=p.__html,u!=null){if(C.children!=null)throw Error(c(60));e.innerHTML=u}}break;case"children":typeof p=="string"?wi(e,p):(typeof p=="number"||typeof p=="bigint")&&wi(e,""+p);break;case"onScroll":p!=null&&Qt("scroll",e);break;case"onScrollEnd":p!=null&&Qt("scrollend",e);break;case"onClick":p!=null&&(e.onclick=Ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(C=u.endsWith("Capture"),a=u.slice(2,C?u.length-7:void 0),_=e[Jt]||null,_=_!=null?_[u]:null,typeof _=="function"&&e.removeEventListener(a,_,C),typeof p=="function")){typeof _!="function"&&_!==null&&(u in e?e[u]=null:e.hasAttribute(u)&&e.removeAttribute(u)),e.addEventListener(a,p,C);break e}u in e?e[u]=p:p===!0?e.setAttribute(u,""):Pt(e,u,p)}}}function Yr(e,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",e),Qt("load",e);var p=!1,C=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var B=u[_];if(B!=null)switch(_){case"src":p=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:jn(e,a,_,B,u,null)}}C&&jn(e,a,"srcSet",u.srcSet,u,null),p&&jn(e,a,"src",u.src,u,null);return;case"input":Qt("invalid",e);var K=_=B=C=null,le=null,Ce=null;for(p in u)if(u.hasOwnProperty(p)){var Me=u[p];if(Me!=null)switch(p){case"name":C=Me;break;case"type":B=Me;break;case"checked":le=Me;break;case"defaultChecked":Ce=Me;break;case"value":_=Me;break;case"defaultValue":K=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(c(137,a));break;default:jn(e,a,p,Me,u,null)}}ve(e,_,K,le,Ce,B,C,!1);return;case"select":Qt("invalid",e),p=B=_=null;for(C in u)if(u.hasOwnProperty(C)&&(K=u[C],K!=null))switch(C){case"value":_=K;break;case"defaultValue":B=K;break;case"multiple":p=K;default:jn(e,a,C,K,u,null)}a=_,u=B,e.multiple=!!p,a!=null?ot(e,!!p,a,!1):u!=null&&ot(e,!!p,u,!0);return;case"textarea":Qt("invalid",e),_=C=p=null;for(B in u)if(u.hasOwnProperty(B)&&(K=u[B],K!=null))switch(B){case"value":p=K;break;case"defaultValue":C=K;break;case"children":_=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(91));break;default:jn(e,a,B,K,u,null)}Cr(e,p,C,_);return;case"option":for(le in u)if(u.hasOwnProperty(le)&&(p=u[le],p!=null))switch(le){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:jn(e,a,le,p,u,null)}return;case"dialog":Qt("beforetoggle",e),Qt("toggle",e),Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":Qt("load",e);break;case"video":case"audio":for(p=0;p<xu.length;p++)Qt(xu[p],e);break;case"image":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"embed":case"source":case"link":Qt("error",e),Qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in u)if(u.hasOwnProperty(Ce)&&(p=u[Ce],p!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:jn(e,a,Ce,p,u,null)}return;default:if(Rn(a)){for(Me in u)u.hasOwnProperty(Me)&&(p=u[Me],p!==void 0&&M1(e,a,Me,p,u,void 0));return}}for(K in u)u.hasOwnProperty(K)&&(p=u[K],p!=null&&jn(e,a,K,p,u,null))}function q3(e,a,u,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,_=null,B=null,K=null,le=null,Ce=null,Me=null;for(Te in u){var Fe=u[Te];if(u.hasOwnProperty(Te)&&Fe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":le=Fe;default:p.hasOwnProperty(Te)||jn(e,a,Te,null,p,Fe)}}for(var Ae in p){var Te=p[Ae];if(Fe=u[Ae],p.hasOwnProperty(Ae)&&(Te!=null||Fe!=null))switch(Ae){case"type":_=Te;break;case"name":C=Te;break;case"checked":Ce=Te;break;case"defaultChecked":Me=Te;break;case"value":B=Te;break;case"defaultValue":K=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(c(137,a));break;default:Te!==Fe&&jn(e,a,Ae,Te,p,Fe)}}Un(e,B,K,le,Ce,Me,_,C);return;case"select":Te=B=K=Ae=null;for(_ in u)if(le=u[_],u.hasOwnProperty(_)&&le!=null)switch(_){case"value":break;case"multiple":Te=le;default:p.hasOwnProperty(_)||jn(e,a,_,null,p,le)}for(C in p)if(_=p[C],le=u[C],p.hasOwnProperty(C)&&(_!=null||le!=null))switch(C){case"value":Ae=_;break;case"defaultValue":K=_;break;case"multiple":B=_;default:_!==le&&jn(e,a,C,_,p,le)}a=K,u=B,p=Te,Ae!=null?ot(e,!!u,Ae,!1):!!p!=!!u&&(a!=null?ot(e,!!u,a,!0):ot(e,!!u,u?[]:"",!1));return;case"textarea":Te=Ae=null;for(K in u)if(C=u[K],u.hasOwnProperty(K)&&C!=null&&!p.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:jn(e,a,K,null,p,C)}for(B in p)if(C=p[B],_=u[B],p.hasOwnProperty(B)&&(C!=null||_!=null))switch(B){case"value":Ae=C;break;case"defaultValue":Te=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(c(91));break;default:C!==_&&jn(e,a,B,C,p,_)}er(e,Ae,Te);return;case"option":for(var ct in u)if(Ae=u[ct],u.hasOwnProperty(ct)&&Ae!=null&&!p.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:jn(e,a,ct,null,p,Ae)}for(le in p)if(Ae=p[le],Te=u[le],p.hasOwnProperty(le)&&Ae!==Te&&(Ae!=null||Te!=null))switch(le){case"selected":e.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:jn(e,a,le,Ae,p,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in u)Ae=u[Ct],u.hasOwnProperty(Ct)&&Ae!=null&&!p.hasOwnProperty(Ct)&&jn(e,a,Ct,null,p,Ae);for(Ce in p)if(Ae=p[Ce],Te=u[Ce],p.hasOwnProperty(Ce)&&Ae!==Te&&(Ae!=null||Te!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(c(137,a));break;default:jn(e,a,Ce,Ae,p,Te)}return;default:if(Rn(a)){for(var Fn in u)Ae=u[Fn],u.hasOwnProperty(Fn)&&Ae!==void 0&&!p.hasOwnProperty(Fn)&&M1(e,a,Fn,void 0,p,Ae);for(Me in p)Ae=p[Me],Te=u[Me],!p.hasOwnProperty(Me)||Ae===Te||Ae===void 0&&Te===void 0||M1(e,a,Me,Ae,p,Te);return}}for(var ye in u)Ae=u[ye],u.hasOwnProperty(ye)&&Ae!=null&&!p.hasOwnProperty(ye)&&jn(e,a,ye,null,p,Ae);for(Fe in p)Ae=p[Fe],Te=u[Fe],!p.hasOwnProperty(Fe)||Ae===Te||Ae==null&&Te==null||jn(e,a,Fe,Ae,p,Te)}function Jx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X3(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var C=u[p],_=C.transferSize,B=C.initiatorType,K=C.duration;if(_&&K&&Jx(B)){for(B=0,K=C.responseEnd,p+=1;p<u.length;p++){var le=u[p],Ce=le.startTime;if(Ce>K)break;var Me=le.transferSize,Fe=le.initiatorType;Me&&Jx(Fe)&&(le=le.responseEnd,B+=Me*(le<K?1:(K-Ce)/(le-Ce)))}if(--p,a+=8*(_+B)/(C.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var D1=null,P1=null;function ad(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function k1(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var B1=null;function K3(){var e=window.event;return e&&e.type==="popstate"?e===B1?!1:(B1=e,!0):(B1=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,Y3=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,W3=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(Z3)}:nv;function Z3(e){setTimeout(function(){throw e})}function ws(e){return e==="head"}function av(e,a){var u=a,p=0;do{var C=u.nextSibling;if(e.removeChild(u),C&&C.nodeType===8)if(u=C.data,u==="/$"||u==="/&"){if(p===0){e.removeChild(C),fc(a);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")bu(e.ownerDocument.documentElement);else if(u==="head"){u=e.ownerDocument.head,bu(u);for(var _=u.firstChild;_;){var B=_.nextSibling,K=_.nodeName;_[ua]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=B}}else u==="body"&&bu(e.ownerDocument.body);u=C}while(u);fc(a)}function iv(e,a){var u=e;e=0;do{var p=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(e===0)break;e--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||e++;u=p}while(u)}function L1(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":L1(u),Ur(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}e.removeChild(u)}}function Q3(e,a,u,p){for(;e.nodeType===1;){var C=u;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(p){if(!e[ua])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==C.rel||e.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||e.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||e.getAttribute("title")!==(C.title==null?null:C.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(C.src==null?null:C.src)||e.getAttribute("type")!==(C.type==null?null:C.type)||e.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var _=C.name==null?null:""+C.name;if(C.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=hi(e.nextSibling),e===null)break}return null}function $3(e,a,u){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!u||(e=hi(e.nextSibling),e===null))return null;return e}function ov(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=hi(e.nextSibling),e===null))return null;return e}function j1(e){return e.data==="$?"||e.data==="$~"}function F1(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J3(e,a){var u=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||u.readyState!=="loading")a();else{var p=function(){a(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),e._reactRetry=p}}function hi(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var U1=null;function sv(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var u=e.data;if(u==="/$"||u==="/&"){if(a===0)return hi(e.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}e=e.nextSibling}return null}function lv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var u=e.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return e;a--}else u!=="/$"&&u!=="/&"||a++}e=e.previousSibling}return null}function cv(e,a,u){switch(a=ad(u),e){case"html":if(e=a.documentElement,!e)throw Error(c(452));return e;case"head":if(e=a.head,!e)throw Error(c(453));return e;case"body":if(e=a.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function bu(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ur(e)}var mi=new Map,uv=new Set;function id(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Io=ge.d;ge.d={f:e_,r:t_,D:n_,C:r_,L:a_,m:i_,X:s_,S:o_,M:l_};function e_(){var e=Io.f(),a=Zf();return e||a}function t_(e){var a=Et(e);a!==null&&a.tag===5&&a.type==="form"?Ty(a):Io.r(e)}var lc=typeof document>"u"?null:document;function fv(e,a,u){var p=lc;if(p&&typeof a=="string"&&a){var C=Mt(a);C='link[rel="'+e+'"][href="'+C+'"]',typeof u=="string"&&(C+='[crossorigin="'+u+'"]'),uv.has(C)||(uv.add(C),e={rel:e,crossOrigin:u,href:a},p.querySelector(C)===null&&(a=p.createElement("link"),Yr(a,"link",e),Zn(a),p.head.appendChild(a)))}}function n_(e){Io.D(e),fv("dns-prefetch",e,null)}function r_(e,a){Io.C(e,a),fv("preconnect",e,a)}function a_(e,a,u){Io.L(e,a,u);var p=lc;if(p&&e&&a){var C='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(C+='[imagesrcset="'+Mt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(C+='[imagesizes="'+Mt(u.imageSizes)+'"]')):C+='[href="'+Mt(e)+'"]';var _=C;switch(a){case"style":_=cc(e);break;case"script":_=uc(e)}mi.has(_)||(e=N({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:e,as:a},u),mi.set(_,e),p.querySelector(C)!==null||a==="style"&&p.querySelector(wu(_))||a==="script"&&p.querySelector(Eu(_))||(a=p.createElement("link"),Yr(a,"link",e),Zn(a),p.head.appendChild(a)))}}function i_(e,a){Io.m(e,a);var u=lc;if(u&&e){var p=a&&typeof a.as=="string"?a.as:"script",C='link[rel="modulepreload"][as="'+Mt(p)+'"][href="'+Mt(e)+'"]',_=C;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=uc(e)}if(!mi.has(_)&&(e=N({rel:"modulepreload",href:e},a),mi.set(_,e),u.querySelector(C)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Eu(_)))return}p=u.createElement("link"),Yr(p,"link",e),Zn(p),u.head.appendChild(p)}}}function o_(e,a,u){Io.S(e,a,u);var p=lc;if(p&&e){var C=Wn(p).hoistableStyles,_=cc(e);a=a||"default";var B=C.get(_);if(!B){var K={loading:0,preload:null};if(B=p.querySelector(wu(_)))K.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":a},u),(u=mi.get(_))&&z1(e,u);var le=B=p.createElement("link");Zn(le),Yr(le,"link",e),le._p=new Promise(function(Ce,Me){le.onload=Ce,le.onerror=Me}),le.addEventListener("load",function(){K.loading|=1}),le.addEventListener("error",function(){K.loading|=2}),K.loading|=4,od(B,a,p)}B={type:"stylesheet",instance:B,count:1,state:K},C.set(_,B)}}}function s_(e,a){Io.X(e,a);var u=lc;if(u&&e){var p=Wn(u).hoistableScripts,C=uc(e),_=p.get(C);_||(_=u.querySelector(Eu(C)),_||(e=N({src:e,async:!0},a),(a=mi.get(C))&&V1(e,a),_=u.createElement("script"),Zn(_),Yr(_,"link",e),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(C,_))}}function l_(e,a){Io.M(e,a);var u=lc;if(u&&e){var p=Wn(u).hoistableScripts,C=uc(e),_=p.get(C);_||(_=u.querySelector(Eu(C)),_||(e=N({src:e,async:!0,type:"module"},a),(a=mi.get(C))&&V1(e,a),_=u.createElement("script"),Zn(_),Yr(_,"link",e),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(C,_))}}function dv(e,a,u,p){var C=(C=Le.current)?id(C):null;if(!C)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=cc(u.href),u=Wn(C).hoistableStyles,p=u.get(a),p||(p={type:"style",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){e=cc(u.href);var _=Wn(C).hoistableStyles,B=_.get(e);if(B||(C=C.ownerDocument||C,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,B),(_=C.querySelector(wu(e)))&&!_._p&&(B.instance=_,B.state.loading=5),mi.has(e)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mi.set(e,u),_||c_(C,e,u,B.state))),a&&p===null)throw Error(c(528,""));return B}if(a&&p!==null)throw Error(c(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=uc(u),u=Wn(C).hoistableScripts,p=u.get(a),p||(p={type:"script",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function cc(e){return'href="'+Mt(e)+'"'}function wu(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function c_(e,a,u,p){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=e.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),Yr(a,"link",u),Zn(a),e.head.appendChild(a))}function uc(e){return'[src="'+Mt(e)+'"]'}function Eu(e){return"script[async]"+e}function mv(e,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var p=e.querySelector('style[data-href~="'+Mt(u.href)+'"]');if(p)return a.instance=p,Zn(p),p;var C=N({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(e.ownerDocument||e).createElement("style"),Zn(p),Yr(p,"style",C),od(p,u.precedence,e),a.instance=p;case"stylesheet":C=cc(u.href);var _=e.querySelector(wu(C));if(_)return a.state.loading|=4,a.instance=_,Zn(_),_;p=hv(u),(C=mi.get(C))&&z1(p,C),_=(e.ownerDocument||e).createElement("link"),Zn(_);var B=_;return B._p=new Promise(function(K,le){B.onload=K,B.onerror=le}),Yr(_,"link",p),a.state.loading|=4,od(_,u.precedence,e),a.instance=_;case"script":return _=uc(u.src),(C=e.querySelector(Eu(_)))?(a.instance=C,Zn(C),C):(p=u,(C=mi.get(_))&&(p=N({},u),V1(p,C)),e=e.ownerDocument||e,C=e.createElement("script"),Zn(C),Yr(C,"link",p),e.head.appendChild(C),a.instance=C);case"void":return null;default:throw Error(c(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,od(p,u.precedence,e));return a.instance}function od(e,a,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=p.length?p[p.length-1]:null,_=C,B=0;B<p.length;B++){var K=p[B];if(K.dataset.precedence===a)_=K;else if(_!==C)break}_?_.parentNode.insertBefore(e,_.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(e,a.firstChild))}function z1(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function V1(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var sd=null;function pv(e,a,u){if(sd===null){var p=new Map,C=sd=new Map;C.set(u,p)}else C=sd,p=C.get(u),p||(p=new Map,C.set(u,p));if(p.has(e))return p;for(p.set(e,null),u=u.getElementsByTagName(e),C=0;C<u.length;C++){var _=u[C];if(!(_[ua]||_[En]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var B=_.getAttribute(a)||"";B=e+B;var K=p.get(B);K?K.push(_):p.set(B,[_])}}return p}function gv(e,a,u){e=e.ownerDocument||e,e.head.insertBefore(u,a==="title"?e.querySelector("head > title"):null)}function u_(e,a,u){if(u===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function yv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function f_(e,a,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=cc(p.href),_=a.querySelector(wu(C));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=ld.bind(e),a.then(e,e)),u.state.loading|=4,u.instance=_,Zn(_);return}_=a.ownerDocument||a,p=hv(p),(C=mi.get(C))&&z1(p,C),_=_.createElement("link"),Zn(_);var B=_;B._p=new Promise(function(K,le){B.onload=K,B.onerror=le}),Yr(_,"link",p),u.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(e.count++,u=ld.bind(e),a.addEventListener("load",u),a.addEventListener("error",u))}}var H1=0;function d_(e,a){return e.stylesheets&&e.count===0&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(u){var p=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+a);0<e.imgBytes&&H1===0&&(H1=62500*X3());var C=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>H1?50:800)+a);return e.unsuspend=u,function(){e.unsuspend=null,clearTimeout(p),clearTimeout(C)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cd=null;function ud(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cd=new Map,a.forEach(h_,e),cd=null,ld.call(e))}function h_(e,a){if(!(a.state.loading&4)){var u=cd.get(e);if(u)var p=u.get(null);else{u=new Map,cd.set(e,u);for(var C=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<C.length;_++){var B=C[_];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(u.set(B.dataset.precedence,B),p=B)}p&&u.set(null,p)}C=a.instance,B=C.getAttribute("data-precedence"),_=u.get(B)||p,_===p&&u.set(null,C),u.set(B,C),this.count++,p=ld.bind(this),C.addEventListener("load",p),C.addEventListener("error",p),_?_.parentNode.insertBefore(C,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(C,e.firstChild)),a.state.loading|=4}}var Cu={$$typeof:H,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function m_(e,a,u,p,C,_,B,K,le){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=p,this.onUncaughtError=C,this.onCaughtError=_,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function xv(e,a,u,p,C,_,B,K,le,Ce,Me,Fe){return e=new m_(e,a,u,B,le,Ce,Me,Fe,K),a=1,_===!0&&(a|=24),_=Ya(3,null,null,a),e.current=_,_.stateNode=e,a=E0(),a.refCount++,e.pooledCache=a,a.refCount++,_.memoizedState={element:p,isDehydrated:u,cache:a},_0(_),e}function vv(e){return e?(e=zl,e):zl}function bv(e,a,u,p,C,_){C=vv(C),p.context===null?p.context=C:p.pendingContext=C,p=us(a),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=fs(e,p,a),u!==null&&(Da(u,e,a),tu(u,e,a))}function wv(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var u=e.retryLane;e.retryLane=u!==0&&u<a?u:a}}function G1(e,a){wv(e,a),(e=e.alternate)&&wv(e,a)}function Ev(e){if(e.tag===13||e.tag===31){var a=Cn(e,67108864);a!==null&&Da(a,e,67108864),G1(e,67108864)}}function Cv(e){if(e.tag===13||e.tag===31){var a=Ja();a=wr(a);var u=Cn(e,a);u!==null&&Da(u,e,a),G1(e,a)}}var fd=!0;function p_(e,a,u,p){var C=ie.T;ie.T=null;var _=ge.p;try{ge.p=2,q1(e,a,u,p)}finally{ge.p=_,ie.T=C}}function g_(e,a,u,p){var C=ie.T;ie.T=null;var _=ge.p;try{ge.p=8,q1(e,a,u,p)}finally{ge.p=_,ie.T=C}}function q1(e,a,u,p){if(fd){var C=X1(p);if(C===null)I1(e,a,p,dd,u),Av(e,p);else if(x_(C,e,a,u,p))p.stopPropagation();else if(Av(e,p),a&4&&-1<y_.indexOf(e)){for(;C!==null;){var _=Et(C);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var B=rr(_.pendingLanes);if(B!==0){var K=_;for(K.pendingLanes|=2,K.entangledLanes|=2;B;){var le=1<<31-He(B);K.entanglements[1]|=le,B&=~le}Qi(_),(bn&6)===0&&(Yf=Dn()+500,yu(0))}}break;case 31:case 13:K=Cn(_,2),K!==null&&Da(K,_,2),Zf(),G1(_,2)}if(_=X1(p),_===null&&I1(e,a,p,dd,u),_===C)break;C=_}C!==null&&p.stopPropagation()}else I1(e,a,p,null,u)}}function X1(e){return e=Yo(e),K1(e)}var dd=null;function K1(e){if(dd=null,e=qn(e),e!==null){var a=y(e);if(a===null)e=null;else{var u=a.tag;if(u===13){if(e=v(a),e!==null)return e;e=null}else if(u===31){if(e=b(a),e!==null)return e;e=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return dd=e,null}function Sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ba()){case zt:return 2;case br:return 8;case Rr:case Kn:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Y1=!1,Es=null,Cs=null,Ss=null,Su=new Map,Au=new Map,As=[],y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(e,a){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Su.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(a.pointerId)}}function _u(e,a,u,p,C,_){return e===null||e.nativeEvent!==_?(e={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[C]},a!==null&&(a=Et(a),a!==null&&Ev(a)),e):(e.eventSystemFlags|=p,a=e.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),e)}function x_(e,a,u,p,C){switch(a){case"focusin":return Es=_u(Es,e,a,u,p,C),!0;case"dragenter":return Cs=_u(Cs,e,a,u,p,C),!0;case"mouseover":return Ss=_u(Ss,e,a,u,p,C),!0;case"pointerover":var _=C.pointerId;return Su.set(_,_u(Su.get(_)||null,e,a,u,p,C)),!0;case"gotpointercapture":return _=C.pointerId,Au.set(_,_u(Au.get(_)||null,e,a,u,p,C)),!0}return!1}function _v(e){var a=qn(e.target);if(a!==null){var u=y(a);if(u!==null){if(a=u.tag,a===13){if(a=v(u),a!==null){e.blockedOn=a,nt(e.priority,function(){Cv(u)});return}}else if(a===31){if(a=b(u),a!==null){e.blockedOn=a,nt(e.priority,function(){Cv(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){e.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var u=X1(e.nativeEvent);if(u===null){u=e.nativeEvent;var p=new u.constructor(u.type,u);ea=p,u.target.dispatchEvent(p),ea=null}else return a=Et(u),a!==null&&Ev(a),e.blockedOn=u,!1;a.shift()}return!0}function Tv(e,a,u){hd(e)&&u.delete(a)}function v_(){Y1=!1,Es!==null&&hd(Es)&&(Es=null),Cs!==null&&hd(Cs)&&(Cs=null),Ss!==null&&hd(Ss)&&(Ss=null),Su.forEach(Tv),Au.forEach(Tv)}function md(e,a){e.blockedOn===a&&(e.blockedOn=null,Y1||(Y1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v_)))}var pd=null;function Nv(e){pd!==e&&(pd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===e&&(pd=null);for(var a=0;a<e.length;a+=3){var u=e[a],p=e[a+1],C=e[a+2];if(typeof p!="function"){if(K1(p||u)===null)continue;break}var _=Et(u);_!==null&&(e.splice(a,3),a-=3,X0(_,{pending:!0,data:C,method:u.method,action:p},p,C))}}))}function fc(e){function a(le){return md(le,e)}Es!==null&&md(Es,e),Cs!==null&&md(Cs,e),Ss!==null&&md(Ss,e),Su.forEach(a),Au.forEach(a);for(var u=0;u<As.length;u++){var p=As[u];p.blockedOn===e&&(p.blockedOn=null)}for(;0<As.length&&(u=As[0],u.blockedOn===null);)_v(u),u.blockedOn===null&&As.shift();if(u=(e.ownerDocument||e).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var C=u[p],_=u[p+1],B=C[Jt]||null;if(typeof _=="function")B||Nv(u);else if(B){var K=null;if(_&&_.hasAttribute("formAction")){if(C=_,B=_[Jt]||null)K=B.formAction;else if(K1(C)!==null)continue}else K=B.action;typeof K=="function"?u[p+1]=K:(u.splice(p,3),p-=3),Nv(u)}}}function Rv(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(B){return C=B})},focusReset:"manual",scroll:"manual"})}function a(){C!==null&&(C(),C=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,C=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),C!==null&&(C(),C=null)}}}function W1(e){this._internalRoot=e}gd.prototype.render=W1.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(c(409));var u=a.current,p=Ja();bv(u,p,e,a,null,null)},gd.prototype.unmount=W1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;bv(e.current,2,null,e,null,null),Zf(),a[sr]=null}};function gd(e){this._internalRoot=e}gd.prototype.unstable_scheduleHydration=function(e){if(e){var a=Er();e={blockedOn:null,target:e,priority:a};for(var u=0;u<As.length&&a!==0&&a<As[u].priority;u++);As.splice(u,0,e),u===0&&_v(e)}};var Ov=r.version;if(Ov!=="19.2.4")throw Error(c(527,Ov,"19.2.4"));ge.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=E(a),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var b_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{an=yd.inject(b_),qe=yd}catch{}}return Nu.createRoot=function(e,a){if(!h(e))throw Error(c(299));var u=!1,p="",C=Ly,_=jy,B=Fy;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(C=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(B=a.onRecoverableError)),a=xv(e,1,!1,null,null,u,p,null,C,_,B,Rv),e[sr]=a.current,O1(e),new W1(a)},Nu.hydrateRoot=function(e,a,u){if(!h(e))throw Error(c(299));var p=!1,C="",_=Ly,B=jy,K=Fy,le=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(B=u.onCaughtError),u.onRecoverableError!==void 0&&(K=u.onRecoverableError),u.formState!==void 0&&(le=u.formState)),a=xv(e,1,!0,a,u??null,p,C,le,_,B,K,Rv),a.context=vv(null),u=a.current,p=Ja(),p=wr(p),C=us(p),C.callback=null,fs(u,C,p),u=p,a.current.lanes=u,Nn(a,u),Qi(a),e[sr]=a.current,O1(e),new gd(a)},Nu.version="19.2.4",Nu}var zv;function M_(){if(zv)return J1.exports;zv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),J1.exports=I_(),J1.exports}var D_=M_(),rm={exports:{}},am={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function P_(){if(Vv)return am;Vv=1;var t=lf();function r(A,E){return A===E&&(A!==0||1/A===1/E)||A!==A&&E!==E}var i=typeof Object.is=="function"?Object.is:r,c=t.useSyncExternalStore,h=t.useRef,y=t.useEffect,v=t.useMemo,b=t.useDebugValue;return am.useSyncExternalStoreWithSelector=function(A,E,I,N,k){var M=h(null);if(M.current===null){var U={hasValue:!1,value:null};M.current=U}else U=M.current;M=v(function(){function j(ae){if(!X){if(X=!0,G=ae,ae=N(ae),k!==void 0&&U.hasValue){var re=U.value;if(k(re,ae))return H=re}return H=ae}if(re=H,i(G,ae))return re;var V=N(ae);return k!==void 0&&k(re,V)?(G=ae,re):(G=ae,H=V)}var X=!1,G,H,q=I===void 0?null:I;return[function(){return j(E())},q===null?void 0:function(){return j(q())}]},[E,I,N,k]);var P=c(A,M[0],M[1]);return y(function(){U.hasValue=!0,U.value=P},[P]),b(P),P},am}var Hv;function k_(){return Hv||(Hv=1,rm.exports=P_()),rm.exports}var B_=k_();function L_(t){t()}function j_(){let t=null,r=null;return{clear(){t=null,r=null},notify(){L_(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){const i=[];let c=t;for(;c;)i.push(c),c=c.next;return i},subscribe(i){let c=!0;const h=r={callback:i,next:null,prev:r};return h.prev?h.prev.next=h:t=h,function(){!c||t===null||(c=!1,h.next?h.next.prev=h.prev:r=h.prev,h.prev?h.prev.next=h.next:t=h.next)}}}}var Gv={notify(){},get:()=>[]};function F_(t,r){let i,c=Gv,h=0,y=!1;function v(P){I();const j=c.subscribe(P);let X=!1;return()=>{X||(X=!0,j(),N())}}function b(){c.notify()}function A(){U.onStateChange&&U.onStateChange()}function E(){return y}function I(){h++,i||(i=t.subscribe(A),c=j_())}function N(){h--,i&&h===0&&(i(),i=void 0,c.clear(),c=Gv)}function k(){y||(y=!0,I())}function M(){y&&(y=!1,N())}const U={addNestedSub:v,notifyNestedSubs:b,handleChangeWrapper:A,isSubscribed:E,trySubscribe:k,tryUnsubscribe:M,getListeners:()=>c};return U}var U_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=U_(),V_=()=>typeof navigator<"u"&&navigator.product==="ReactNative",H_=V_(),G_=()=>z_||H_?R.useLayoutEffect:R.useEffect,q_=G_(),im=Symbol.for("react-redux-context"),om=typeof globalThis<"u"?globalThis:{};function X_(){if(!R.createContext)return{};const t=om[im]??(om[im]=new Map);let r=t.get(R.createContext);return r||(r=R.createContext(null),t.set(R.createContext,r)),r}var zs=X_();function K_(t){const{children:r,context:i,serverState:c,store:h}=t,y=R.useMemo(()=>{const A=F_(h);return{store:h,subscription:A,getServerState:c?()=>c:void 0}},[h,c]),v=R.useMemo(()=>h.getState(),[h]);q_(()=>{const{subscription:A}=y;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),v!==h.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[y,v]);const b=i||zs;return R.createElement(b.Provider,{value:y},r)}var Y_=K_;function Pp(t=zs){return function(){return R.useContext(t)}}var Fb=Pp();function Ub(t=zs){const r=t===zs?Fb:Pp(t),i=()=>{const{store:c}=r();return c};return Object.assign(i,{withTypes:()=>i}),i}var W_=Ub();function Z_(t=zs){const r=t===zs?W_:Ub(t),i=()=>r().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var Q_=Z_(),$_=(t,r)=>t===r;function J_(t=zs){const r=t===zs?Fb:Pp(t),i=(c,h={})=>{const{equalityFn:y=$_}=typeof h=="function"?{equalityFn:h}:h,v=r(),{store:b,subscription:A,getServerState:E}=v;R.useRef(!0);const I=R.useCallback({[c.name](k){return c(k)}}[c.name],[c]),N=B_.useSyncExternalStoreWithSelector(A.addNestedSub,b.getState,E||b.getState,I,y);return R.useDebugValue(N),N};return Object.assign(i,{withTypes:()=>i}),i}var eT=J_();function Wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tT=typeof Symbol=="function"&&Symbol.observable||"@@observable",qv=tT,sm=()=>Math.random().toString(36).substring(7).split("").join("."),nT={INIT:`@@redux/INIT${sm()}`,REPLACE:`@@redux/REPLACE${sm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sm()}`},qd=nT;function kp(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function zb(t,r,i){if(typeof t!="function")throw new Error(Wr(2));if(typeof r=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof r=="function"&&typeof i>"u"&&(i=r,r=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Wr(1));return i(zb)(t,r)}let c=t,h=r,y=new Map,v=y,b=0,A=!1;function E(){v===y&&(v=new Map,y.forEach((j,X)=>{v.set(X,j)}))}function I(){if(A)throw new Error(Wr(3));return h}function N(j){if(typeof j!="function")throw new Error(Wr(4));if(A)throw new Error(Wr(5));let X=!0;E();const G=b++;return v.set(G,j),function(){if(X){if(A)throw new Error(Wr(6));X=!1,E(),v.delete(G),y=null}}}function k(j){if(!kp(j))throw new Error(Wr(7));if(typeof j.type>"u")throw new Error(Wr(8));if(typeof j.type!="string")throw new Error(Wr(17));if(A)throw new Error(Wr(9));try{A=!0,h=c(h,j)}finally{A=!1}return(y=v).forEach(G=>{G()}),j}function M(j){if(typeof j!="function")throw new Error(Wr(10));c=j,k({type:qd.REPLACE})}function U(){const j=N;return{subscribe(X){if(typeof X!="object"||X===null)throw new Error(Wr(11));function G(){const q=X;q.next&&q.next(I())}return G(),{unsubscribe:j(G)}},[qv](){return this}}}return k({type:qd.INIT}),{dispatch:k,subscribe:N,getState:I,replaceReducer:M,[qv]:U}}function rT(t){Object.keys(t).forEach(r=>{const i=t[r];if(typeof i(void 0,{type:qd.INIT})>"u")throw new Error(Wr(12));if(typeof i(void 0,{type:qd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wr(13))})}function aT(t){const r=Object.keys(t),i={};for(let y=0;y<r.length;y++){const v=r[y];typeof t[v]=="function"&&(i[v]=t[v])}const c=Object.keys(i);let h;try{rT(i)}catch(y){h=y}return function(v={},b){if(h)throw h;let A=!1;const E={};for(let I=0;I<c.length;I++){const N=c[I],k=i[N],M=v[N],U=k(M,b);if(typeof U>"u")throw b&&b.type,new Error(Wr(14));E[N]=U,A=A||U!==M}return A=A||c.length!==Object.keys(v).length,A?E:v}}function Xd(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,i)=>(...c)=>r(i(...c)))}function iT(...t){return r=>(i,c)=>{const h=r(i,c);let y=()=>{throw new Error(Wr(15))};const v={getState:h.getState,dispatch:(A,...E)=>y(A,...E)},b=t.map(A=>A(v));return y=Xd(...b)(h.dispatch),{...h,dispatch:y}}}function oT(t){return kp(t)&&"type"in t&&typeof t.type=="string"}var Vb=Symbol.for("immer-nothing"),Xv=Symbol.for("immer-draftable"),xa=Symbol.for("immer-state");function Pi(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ni=Object,Rc=ni.getPrototypeOf,Kd="constructor",Sh="prototype",Dm="configurable",Yd="enumerable",Md="writable",Hu="value",jo=t=>!!t&&!!t[xa];function Bi(t){var r;return t?Hb(t)||_h(t)||!!t[Xv]||!!((r=t[Kd])!=null&&r[Xv])||Th(t)||Nh(t):!1}var sT=ni[Sh][Kd].toString(),Kv=new WeakMap;function Hb(t){if(!t||!Bp(t))return!1;const r=Rc(t);if(r===null||r===ni[Sh])return!0;const i=ni.hasOwnProperty.call(r,Kd)&&r[Kd];if(i===Object)return!0;if(!pc(i))return!1;let c=Kv.get(i);return c===void 0&&(c=Function.toString.call(i),Kv.set(i,c)),c===sT}function Ah(t,r,i=!0){cf(t)===0?(i?Reflect.ownKeys(t):ni.keys(t)).forEach(h=>{r(h,t[h],t)}):t.forEach((c,h)=>r(h,c,t))}function cf(t){const r=t[xa];return r?r.type_:_h(t)?1:Th(t)?2:Nh(t)?3:0}var Yv=(t,r,i=cf(t))=>i===2?t.has(r):ni[Sh].hasOwnProperty.call(t,r),Pm=(t,r,i=cf(t))=>i===2?t.get(r):t[r],Wd=(t,r,i,c=cf(t))=>{c===2?t.set(r,i):c===3?t.add(i):t[r]=i};function lT(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}var _h=Array.isArray,Th=t=>t instanceof Map,Nh=t=>t instanceof Set,Bp=t=>typeof t=="object",pc=t=>typeof t=="function",lm=t=>typeof t=="boolean";function cT(t){const r=+t;return Number.isInteger(r)&&String(r)===t}var ko=t=>t.copy_||t.base_,Lp=t=>t.modified_?t.copy_:t.base_;function km(t,r){if(Th(t))return new Map(t);if(Nh(t))return new Set(t);if(_h(t))return Array[Sh].slice.call(t);const i=Hb(t);if(r===!0||r==="class_only"&&!i){const c=ni.getOwnPropertyDescriptors(t);delete c[xa];let h=Reflect.ownKeys(c);for(let y=0;y<h.length;y++){const v=h[y],b=c[v];b[Md]===!1&&(b[Md]=!0,b[Dm]=!0),(b.get||b.set)&&(c[v]={[Dm]:!0,[Md]:!0,[Yd]:b[Yd],[Hu]:t[v]})}return ni.create(Rc(t),c)}else{const c=Rc(t);if(c!==null&&i)return{...t};const h=ni.create(c);return ni.assign(h,t)}}function jp(t,r=!1){return Rh(t)||jo(t)||!Bi(t)||(cf(t)>1&&ni.defineProperties(t,{set:vd,add:vd,clear:vd,delete:vd}),ni.freeze(t),r&&Ah(t,(i,c)=>{jp(c,!0)},!1)),t}function uT(){Pi(2)}var vd={[Hu]:uT};function Rh(t){return t===null||!Bp(t)?!0:ni.isFrozen(t)}var Zd="MapSet",Bm="Patches",Wv="ArrayMethods",Gb={};function Tl(t){const r=Gb[t];return r||Pi(0,t),r}var Zv=t=>!!Gb[t],Gu,qb=()=>Gu,fT=(t,r)=>({drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Zv(Zd)?Tl(Zd):void 0,arrayMethodsPlugin_:Zv(Wv)?Tl(Wv):void 0});function Qv(t,r){r&&(t.patchPlugin_=Tl(Bm),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function Lm(t){jm(t),t.drafts_.forEach(dT),t.drafts_=null}function jm(t){t===Gu&&(Gu=t.parent_)}var $v=t=>Gu=fT(Gu,t);function dT(t){const r=t[xa];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function Jv(t,r){r.unfinalizedDrafts_=r.drafts_.length;const i=r.drafts_[0];if(t!==void 0&&t!==i){i[xa].modified_&&(Lm(r),Pi(4)),Bi(t)&&(t=e2(r,t));const{patchPlugin_:h}=r;h&&h.generateReplacementPatches_(i[xa].base_,t,r)}else t=e2(r,i);return hT(r,t,!0),Lm(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==Vb?t:void 0}function e2(t,r){if(Rh(r))return r;const i=r[xa];if(!i)return Qd(r,t.handledSet_,t);if(!Oh(i,t))return r;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:c}=i;if(c)for(;c.length>0;)c.pop()(t);Yb(i,t)}return i.copy_}function hT(t,r,i=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jp(r,i)}function Xb(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Oh=(t,r)=>t.scope_===r,mT=[];function Kb(t,r,i,c){const h=ko(t),y=t.type_;if(c!==void 0&&Pm(h,c,y)===r){Wd(h,c,i,y);return}if(!t.draftLocations_){const b=t.draftLocations_=new Map;Ah(h,(A,E)=>{if(jo(E)){const I=b.get(E)||[];I.push(A),b.set(E,I)}})}const v=t.draftLocations_.get(r)??mT;for(const b of v)Wd(h,b,i,y)}function pT(t,r,i){t.callbacks_.push(function(h){var b;const y=r;if(!y||!Oh(y,h))return;(b=h.mapSetPlugin_)==null||b.fixSetContents(y);const v=Lp(y);Kb(t,y.draft_??y,v,i),Yb(y,h)})}function Yb(t,r){var c;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((c=t.assigned_)==null?void 0:c.size)??0)>0)){const{patchPlugin_:h}=r;if(h){const y=h.getPath(t);y&&h.generatePatches_(t,y,r)}Xb(t)}}function gT(t,r,i){const{scope_:c}=t;if(jo(i)){const h=i[xa];Oh(h,c)&&h.callbacks_.push(function(){Dd(t);const v=Lp(h);Kb(t,i,v,r)})}else Bi(i)&&t.callbacks_.push(function(){const y=ko(t);t.type_===3?y.has(i)&&Qd(i,c.handledSet_,c):Pm(y,r,t.type_)===i&&c.drafts_.length>1&&(t.assigned_.get(r)??!1)===!0&&t.copy_&&Qd(Pm(t.copy_,r,t.type_),c.handledSet_,c)})}function Qd(t,r,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||jo(t)||r.has(t)||!Bi(t)||Rh(t)||(r.add(t),Ah(t,(c,h)=>{if(jo(h)){const y=h[xa];if(Oh(y,i)){const v=Lp(y);Wd(t,c,v,t.type_),Xb(y)}}else Bi(h)&&Qd(h,r,i)})),t}function yT(t,r){const i=_h(t),c={type_:i?1:0,scope_:r?r.scope_:qb(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let h=c,y=$d;i&&(h=[c],y=qu);const{revoke:v,proxy:b}=Proxy.revocable(h,y);return c.draft_=b,c.revoke_=v,[b,c]}var $d={get(t,r){if(r===xa)return t;let i=t.scope_.arrayMethodsPlugin_;const c=t.type_===1&&typeof r=="string";if(c&&i!=null&&i.isArrayOperationMethod(r))return i.createMethodInterceptor(t,r);const h=ko(t);if(!Yv(h,r,t.type_))return xT(t,h,r);const y=h[r];if(t.finalized_||!Bi(y)||c&&t.operationMethod&&(i!=null&&i.isMutatingArrayMethod(t.operationMethod))&&cT(r))return y;if(y===cm(t.base_,r)){Dd(t);const v=t.type_===1?+r:r,b=Um(t.scope_,y,t,v);return t.copy_[v]=b}return y},has(t,r){return r in ko(t)},ownKeys(t){return Reflect.ownKeys(ko(t))},set(t,r,i){const c=Wb(ko(t),r);if(c!=null&&c.set)return c.set.call(t.draft_,i),!0;if(!t.modified_){const h=cm(ko(t),r),y=h==null?void 0:h[xa];if(y&&y.base_===i)return t.copy_[r]=i,t.assigned_.set(r,!1),!0;if(lT(i,h)&&(i!==void 0||Yv(t.base_,r,t.type_)))return!0;Dd(t),Fm(t)}return t.copy_[r]===i&&(i!==void 0||r in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=i,t.assigned_.set(r,!0),gT(t,r,i)),!0},deleteProperty(t,r){return Dd(t),cm(t.base_,r)!==void 0||r in t.base_?(t.assigned_.set(r,!1),Fm(t)):t.assigned_.delete(r),t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const i=ko(t),c=Reflect.getOwnPropertyDescriptor(i,r);return c&&{[Md]:!0,[Dm]:t.type_!==1||r!=="length",[Yd]:c[Yd],[Hu]:i[r]}},defineProperty(){Pi(11)},getPrototypeOf(t){return Rc(t.base_)},setPrototypeOf(){Pi(12)}},qu={};for(let t in $d){let r=$d[t];qu[t]=function(){const i=arguments;return i[0]=i[0][0],r.apply(this,i)}}qu.deleteProperty=function(t,r){return qu.set.call(this,t,r,void 0)};qu.set=function(t,r,i){return $d.set.call(this,t[0],r,i,t[0])};function cm(t,r){const i=t[xa];return(i?ko(i):t)[r]}function xT(t,r,i){var h;const c=Wb(r,i);return c?Hu in c?c[Hu]:(h=c.get)==null?void 0:h.call(t.draft_):void 0}function Wb(t,r){if(!(r in t))return;let i=Rc(t);for(;i;){const c=Object.getOwnPropertyDescriptor(i,r);if(c)return c;i=Rc(i)}}function Fm(t){t.modified_||(t.modified_=!0,t.parent_&&Fm(t.parent_))}function Dd(t){t.copy_||(t.assigned_=new Map,t.copy_=km(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vT=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,i,c)=>{if(pc(r)&&!pc(i)){const y=i;i=r;const v=this;return function(A=y,...E){return v.produce(A,I=>i.call(this,I,...E))}}pc(i)||Pi(6),c!==void 0&&!pc(c)&&Pi(7);let h;if(Bi(r)){const y=$v(this),v=Um(y,r,void 0);let b=!0;try{h=i(v),b=!1}finally{b?Lm(y):jm(y)}return Qv(y,c),Jv(h,y)}else if(!r||!Bp(r)){if(h=i(r),h===void 0&&(h=r),h===Vb&&(h=void 0),this.autoFreeze_&&jp(h,!0),c){const y=[],v=[];Tl(Bm).generateReplacementPatches_(r,h,{patches_:y,inversePatches_:v}),c(y,v)}return h}else Pi(1,r)},this.produceWithPatches=(r,i)=>{if(pc(r))return(v,...b)=>this.produceWithPatches(v,A=>r(A,...b));let c,h;return[this.produce(r,i,(v,b)=>{c=v,h=b}),c,h]},lm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Bi(t)||Pi(8),jo(t)&&(t=Pu(t));const r=$v(this),i=Um(r,t,void 0);return i[xa].isManual_=!0,jm(r),i}finishDraft(t,r){const i=t&&t[xa];(!i||!i.isManual_)&&Pi(9);const{scope_:c}=i;return Qv(c,r),Jv(void 0,c)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let i;for(i=r.length-1;i>=0;i--){const h=r[i];if(h.path.length===0&&h.op==="replace"){t=h.value;break}}i>-1&&(r=r.slice(i+1));const c=Tl(Bm).applyPatches_;return jo(t)?c(t,r):this.produce(t,h=>c(h,r))}};function Um(t,r,i,c){const[h,y]=Th(r)?Tl(Zd).proxyMap_(r,i):Nh(r)?Tl(Zd).proxySet_(r,i):yT(r,i);return((i==null?void 0:i.scope_)??qb()).drafts_.push(h),y.callbacks_=(i==null?void 0:i.callbacks_)??[],y.key_=c,i&&c!==void 0?pT(i,y,c):y.callbacks_.push(function(A){var I;(I=A.mapSetPlugin_)==null||I.fixSetContents(y);const{patchPlugin_:E}=A;y.modified_&&E&&E.generatePatches_(y,[],A)}),h}function Pu(t){return jo(t)||Pi(10,t),Zb(t)}function Zb(t){if(!Bi(t)||Rh(t))return t;const r=t[xa];let i,c=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,i=km(t,r.scope_.immer_.useStrictShallowCopy_),c=r.scope_.immer_.shouldUseStrictIteration()}else i=km(t,!0);return Ah(i,(h,y)=>{Wd(i,h,Zb(y))},c),r&&(r.finalized_=!1),i}var bT=new vT,Qb=bT.produce;function $b(t){return({dispatch:i,getState:c})=>h=>y=>typeof y=="function"?y(i,c,t):h(y)}var wT=$b(),ET=$b,CT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xd:Xd.apply(null,arguments)},ST=t=>t&&typeof t.match=="function";function Fu(t,r){function i(...c){if(r){let h=r(...c);if(!h)throw new Error(Lo(0));return{type:t,payload:h.payload,..."meta"in h&&{meta:h.meta},..."error"in h&&{error:h.error}}}return{type:t,payload:c[0]}}return i.toString=()=>`${t}`,i.type=t,i.match=c=>oT(c)&&c.type===t,i}var Jb=class ku extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,ku.prototype)}static get[Symbol.species](){return ku}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new ku(...r[0].concat(this)):new ku(...r.concat(this))}};function t2(t){return Bi(t)?Qb(t,()=>{}):t}function bd(t,r,i){return t.has(r)?t.get(r):t.set(r,i(r)).get(r)}function AT(t){return typeof t=="boolean"}var _T=()=>function(r){const{thunk:i=!0,immutableCheck:c=!0,serializableCheck:h=!0,actionCreatorCheck:y=!0}=r??{};let v=new Jb;return i&&(AT(i)?v.push(wT):v.push(ET(i.extraArgument))),v},TT="RTK_autoBatch",n2=t=>r=>{setTimeout(r,t)},NT=(t={type:"raf"})=>r=>(...i)=>{const c=r(...i);let h=!0,y=!1,v=!1;const b=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n2(10):t.type==="callback"?t.queueNotification:n2(t.timeout),E=()=>{v=!1,y&&(y=!1,b.forEach(I=>I()))};return Object.assign({},c,{subscribe(I){const N=()=>h&&I(),k=c.subscribe(N);return b.add(I),()=>{k(),b.delete(I)}},dispatch(I){var N;try{return h=!((N=I==null?void 0:I.meta)!=null&&N[TT]),y=!h,y&&(v||(v=!0,A(E))),c.dispatch(I)}finally{h=!0}}})},RT=t=>function(i){const{autoBatch:c=!0}=i??{};let h=new Jb(t);return c&&h.push(NT(typeof c=="object"?c:void 0)),h};function OT(t){const r=_T(),{reducer:i=void 0,middleware:c,devTools:h=!0,preloadedState:y=void 0,enhancers:v=void 0}=t||{};let b;if(typeof i=="function")b=i;else if(kp(i))b=aT(i);else throw new Error(Lo(1));let A;typeof c=="function"?A=c(r):A=r();let E=Xd;h&&(E=CT({trace:!1,...typeof h=="object"&&h}));const I=iT(...A),N=RT(I);let k=typeof v=="function"?v(N):N();const M=E(...k);return zb(b,y,M)}function ew(t){const r={},i=[];let c;const h={addCase(y,v){const b=typeof y=="string"?y:y.type;if(!b)throw new Error(Lo(28));if(b in r)throw new Error(Lo(29));return r[b]=v,h},addAsyncThunk(y,v){return v.pending&&(r[y.pending.type]=v.pending),v.rejected&&(r[y.rejected.type]=v.rejected),v.fulfilled&&(r[y.fulfilled.type]=v.fulfilled),v.settled&&i.push({matcher:y.settled,reducer:v.settled}),h},addMatcher(y,v){return i.push({matcher:y,reducer:v}),h},addDefaultCase(y){return c=y,h}};return t(h),[r,i,c]}function IT(t){return typeof t=="function"}function MT(t,r){let[i,c,h]=ew(r),y;if(IT(t))y=()=>t2(t());else{const b=t2(t);y=()=>b}function v(b=y(),A){let E=[i[A.type],...c.filter(({matcher:I})=>I(A)).map(({reducer:I})=>I)];return E.filter(I=>!!I).length===0&&(E=[h]),E.reduce((I,N)=>{if(N)if(jo(I)){const M=N(I,A);return M===void 0?I:M}else{if(Bi(I))return Qb(I,k=>N(k,A));{const k=N(I,A);if(k===void 0){if(I===null)return I;throw Error("A case reducer on a non-draftable value must not return undefined")}return k}}return I},b)}return v.getInitialState=y,v}var DT=(t,r)=>ST(t)?t.match(r):t(r);function PT(...t){return r=>t.some(i=>DT(i,r))}var kT="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BT=(t=21)=>{let r="",i=t;for(;i--;)r+=kT[Math.random()*64|0];return r},LT=["name","message","stack","code"],um=class{constructor(t,r){ga(this,"_type");this.payload=t,this.meta=r}},r2=class{constructor(t,r){ga(this,"_type");this.payload=t,this.meta=r}},jT=t=>{if(typeof t=="object"&&t!==null){const r={};for(const i of LT)typeof t[i]=="string"&&(r[i]=t[i]);return r}return{message:String(t)}},a2="External signal was aborted",uf=(()=>{function t(r,i,c){const h=Fu(r+"/fulfilled",(A,E,I,N)=>({payload:A,meta:{...N||{},arg:I,requestId:E,requestStatus:"fulfilled"}})),y=Fu(r+"/pending",(A,E,I)=>({payload:void 0,meta:{...I||{},arg:E,requestId:A,requestStatus:"pending"}})),v=Fu(r+"/rejected",(A,E,I,N,k)=>({payload:N,error:(c&&c.serializeError||jT)(A||"Rejected"),meta:{...k||{},arg:I,requestId:E,rejectedWithValue:!!N,requestStatus:"rejected",aborted:(A==null?void 0:A.name)==="AbortError",condition:(A==null?void 0:A.name)==="ConditionError"}}));function b(A,{signal:E}={}){return(I,N,k)=>{const M=c!=null&&c.idGenerator?c.idGenerator(A):BT(),U=new AbortController;let P,j;function X(H){j=H,U.abort()}E&&(E.aborted?X(a2):E.addEventListener("abort",()=>X(a2),{once:!0}));const G=(async function(){var ae,re;let H;try{let V=(ae=c==null?void 0:c.condition)==null?void 0:ae.call(c,A,{getState:N,extra:k});if(UT(V)&&(V=await V),V===!1||U.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Z=new Promise((te,fe)=>{P=()=>{fe({name:"AbortError",message:j||"Aborted"})},U.signal.addEventListener("abort",P,{once:!0})});I(y(M,A,(re=c==null?void 0:c.getPendingMeta)==null?void 0:re.call(c,{requestId:M,arg:A},{getState:N,extra:k}))),H=await Promise.race([Z,Promise.resolve(i(A,{dispatch:I,getState:N,extra:k,requestId:M,signal:U.signal,abort:X,rejectWithValue:(te,fe)=>new um(te,fe),fulfillWithValue:(te,fe)=>new r2(te,fe)})).then(te=>{if(te instanceof um)throw te;return te instanceof r2?h(te.payload,M,A,te.meta):h(te,M,A)})])}catch(V){H=V instanceof um?v(null,M,A,V.payload,V.meta):v(V,M,A)}finally{P&&U.signal.removeEventListener("abort",P)}return c&&!c.dispatchConditionRejection&&v.match(H)&&H.meta.condition||I(H),H})();return Object.assign(G,{abort:X,requestId:M,arg:A,unwrap(){return G.then(FT)}})}}return Object.assign(b,{pending:y,rejected:v,fulfilled:h,settled:PT(v,h),typePrefix:r})}return t.withTypes=()=>t,t})();function FT(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function UT(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zT=Symbol.for("rtk-slice-createasyncthunk");function VT(t,r){return`${t}/${r}`}function HT({creators:t}={}){var i;const r=(i=t==null?void 0:t.asyncThunk)==null?void 0:i[zT];return function(h){const{name:y,reducerPath:v=y}=h;if(!y)throw new Error(Lo(11));const b=(typeof h.reducers=="function"?h.reducers(qT()):h.reducers)||{},A=Object.keys(b),E={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},I={addCase(q,ae){const re=typeof q=="string"?q:q.type;if(!re)throw new Error(Lo(12));if(re in E.sliceCaseReducersByType)throw new Error(Lo(13));return E.sliceCaseReducersByType[re]=ae,I},addMatcher(q,ae){return E.sliceMatchers.push({matcher:q,reducer:ae}),I},exposeAction(q,ae){return E.actionCreators[q]=ae,I},exposeCaseReducer(q,ae){return E.sliceCaseReducersByName[q]=ae,I}};A.forEach(q=>{const ae=b[q],re={reducerName:q,type:VT(y,q),createNotation:typeof h.reducers=="function"};KT(ae)?WT(re,ae,I,r):XT(re,ae,I)});function N(){const[q={},ae=[],re=void 0]=typeof h.extraReducers=="function"?ew(h.extraReducers):[h.extraReducers],V={...q,...E.sliceCaseReducersByType};return MT(h.initialState,Z=>{for(let te in V)Z.addCase(te,V[te]);for(let te of E.sliceMatchers)Z.addMatcher(te.matcher,te.reducer);for(let te of ae)Z.addMatcher(te.matcher,te.reducer);re&&Z.addDefaultCase(re)})}const k=q=>q,M=new Map,U=new WeakMap;let P;function j(q,ae){return P||(P=N()),P(q,ae)}function X(){return P||(P=N()),P.getInitialState()}function G(q,ae=!1){function re(Z){let te=Z[q];return typeof te>"u"&&ae&&(te=bd(U,re,X)),te}function V(Z=k){const te=bd(M,ae,()=>new WeakMap);return bd(te,Z,()=>{const fe={};for(const[Re,xe]of Object.entries(h.selectors??{}))fe[Re]=GT(xe,Z,()=>bd(U,Z,X),ae);return fe})}return{reducerPath:q,getSelectors:V,get selectors(){return V(re)},selectSlice:re}}const H={name:y,reducer:j,actions:E.actionCreators,caseReducers:E.sliceCaseReducersByName,getInitialState:X,...G(v),injectInto(q,{reducerPath:ae,...re}={}){const V=ae??v;return q.inject({reducerPath:V,reducer:j},re),{...H,...G(V,!0)}}};return H}}function GT(t,r,i,c){function h(y,...v){let b=r(y);return typeof b>"u"&&c&&(b=i()),t(b,...v)}return h.unwrapped=t,h}var tw=HT();function qT(){function t(r,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...i}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...i){return r(...i)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:i}},asyncThunk:t}}function XT({type:t,reducerName:r,createNotation:i},c,h){let y,v;if("reducer"in c){if(i&&!YT(c))throw new Error(Lo(17));y=c.reducer,v=c.prepare}else y=c;h.addCase(t,y).exposeCaseReducer(r,y).exposeAction(r,v?Fu(t,v):Fu(t))}function KT(t){return t._reducerDefinitionType==="asyncThunk"}function YT(t){return t._reducerDefinitionType==="reducerWithPrepare"}function WT({type:t,reducerName:r},i,c,h){if(!h)throw new Error(Lo(18));const{payloadCreator:y,fulfilled:v,pending:b,rejected:A,settled:E,options:I}=i,N=h(t,y,I);c.exposeAction(r,N),v&&c.addCase(N.fulfilled,v),b&&c.addCase(N.pending,b),A&&c.addCase(N.rejected,A),E&&c.addMatcher(N.settled,E),c.exposeCaseReducer(r,{fulfilled:v||wd,pending:b||wd,rejected:A||wd,settled:E||wd})}function wd(){}function Lo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const ZT={isSidebarOpen:!0,theme:"system",activeModal:null,loading:{}},nw=tw({name:"ui",initialState:ZT,reducers:{toggleSidebar:t=>{t.isSidebarOpen=!t.isSidebarOpen},setTheme:(t,r)=>{t.theme=r.payload},openModal:(t,r)=>{t.activeModal=r.payload},closeModal:t=>{t.activeModal=null},setLoading:(t,r)=>{t.loading[r.payload.id]=r.payload.isLoading}}}),{toggleSidebar:Zk,setTheme:Qk,openModal:$k,closeModal:Jk,setLoading:eB}=nw.actions,QT=nw.reducer;var $T=Symbol.for("preact-signals");function Fp(){if(yc>1)yc--;else{for(var t,r=!1;Uu!==void 0;){var i=Uu;for(Uu=void 0,zm++;i!==void 0;){var c=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&iw(i))try{i.c()}catch(h){r||(t=h,r=!0)}i=c}}if(zm=0,yc--,r)throw t}}var Sn=void 0;function rw(t){var r=Sn;Sn=void 0;try{return t()}finally{Sn=r}}var Uu=void 0,yc=0,zm=0,Jd=0;function aw(t){if(Sn!==void 0){var r=t.n;if(r===void 0||r.t!==Sn)return r={i:0,S:t,p:Sn.s,n:void 0,t:Sn,e:void 0,x:void 0,r},Sn.s!==void 0&&(Sn.s.n=r),Sn.s=r,t.n=r,32&Sn.f&&t.S(r),r;if(r.i===-1)return r.i=0,r.n!==void 0&&(r.n.p=r.p,r.p!==void 0&&(r.p.n=r.n),r.p=Sn.s,r.n=void 0,Sn.s.n=r,Sn.s=r),r}}function la(t,r){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=r==null?void 0:r.watched,this.Z=r==null?void 0:r.unwatched,this.name=r==null?void 0:r.name}la.prototype.brand=$T;la.prototype.h=function(){return!0};la.prototype.S=function(t){var r=this,i=this.t;i!==t&&t.e===void 0&&(t.x=i,this.t=t,i!==void 0?i.e=t:rw(function(){var c;(c=r.W)==null||c.call(r)}))};la.prototype.U=function(t){var r=this;if(this.t!==void 0){var i=t.e,c=t.x;i!==void 0&&(i.x=c,t.e=void 0),c!==void 0&&(c.e=i,t.x=void 0),t===this.t&&(this.t=c,c===void 0&&rw(function(){var h;(h=r.Z)==null||h.call(r)}))}};la.prototype.subscribe=function(t){var r=this;return zp(function(){var i=r.value,c=Sn;Sn=void 0;try{t(i)}finally{Sn=c}},{name:"sub"})};la.prototype.valueOf=function(){return this.value};la.prototype.toString=function(){return this.value+""};la.prototype.toJSON=function(){return this.value};la.prototype.peek=function(){var t=Sn;Sn=void 0;try{return this.value}finally{Sn=t}};Object.defineProperty(la.prototype,"value",{get:function(){var t=aw(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(zm>100)throw new Error("Cycle detected");this.v=t,this.i++,Jd++,yc++;try{for(var r=this.t;r!==void 0;r=r.x)r.t.N()}finally{Fp()}}}});function or(t,r){return new la(t,r)}function iw(t){for(var r=t.s;r!==void 0;r=r.n)if(r.S.i!==r.i||!r.S.h()||r.S.i!==r.i)return!0;return!1}function ow(t){for(var r=t.s;r!==void 0;r=r.n){var i=r.S.n;if(i!==void 0&&(r.r=i),r.S.n=r,r.i=-1,r.n===void 0){t.s=r;break}}}function sw(t){for(var r=t.s,i=void 0;r!==void 0;){var c=r.p;r.i===-1?(r.S.U(r),c!==void 0&&(c.n=r.n),r.n!==void 0&&(r.n.p=c)):i=r,r.S.n=r.r,r.r!==void 0&&(r.r=void 0),r=c}t.s=i}function Dl(t,r){la.call(this,void 0),this.x=t,this.s=void 0,this.g=Jd-1,this.f=4,this.W=r==null?void 0:r.watched,this.Z=r==null?void 0:r.unwatched,this.name=r==null?void 0:r.name}Dl.prototype=new la;Dl.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Jd))return!0;if(this.g=Jd,this.f|=1,this.i>0&&!iw(this))return this.f&=-2,!0;var t=Sn;try{ow(this),Sn=this;var r=this.x();(16&this.f||this.v!==r||this.i===0)&&(this.v=r,this.f&=-17,this.i++)}catch(i){this.v=i,this.f|=16,this.i++}return Sn=t,sw(this),this.f&=-2,!0};Dl.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var r=this.s;r!==void 0;r=r.n)r.S.S(r)}la.prototype.S.call(this,t)};Dl.prototype.U=function(t){if(this.t!==void 0&&(la.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var r=this.s;r!==void 0;r=r.n)r.S.U(r)}};Dl.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(Dl.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=aw(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Vo(t,r){return new Dl(t,r)}function lw(t){var r=t.u;if(t.u=void 0,typeof r=="function"){yc++;var i=Sn;Sn=void 0;try{r()}catch(c){throw t.f&=-2,t.f|=8,Up(t),c}finally{Sn=i,Fp()}}}function Up(t){for(var r=t.s;r!==void 0;r=r.n)r.S.U(r);t.x=void 0,t.s=void 0,lw(t)}function JT(t){if(Sn!==this)throw new Error("Out-of-order effect");sw(this),Sn=t,this.f&=-2,8&this.f&&Up(this),Fp()}function Lc(t,r){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=r==null?void 0:r.name}Lc.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var r=this.x();typeof r=="function"&&(this.u=r)}finally{t()}};Lc.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,lw(this),ow(this),yc++;var t=Sn;return Sn=this,JT.bind(this,t)};Lc.prototype.N=function(){2&this.f||(this.f|=2,this.o=Uu,Uu=this)};Lc.prototype.d=function(){this.f|=8,1&this.f||Up(this)};Lc.prototype.dispose=function(){this.d()};function zp(t,r){var i=new Lc(t,r);try{i.c()}catch(h){throw i.d(),h}var c=i.d.bind(i);return c[Symbol.dispose]=c,c}var fm={exports:{}},dm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function e4(){if(i2)return dm;i2=1;var t=lf();function r(N,k){return N===k&&(N!==0||1/N===1/k)||N!==N&&k!==k}var i=typeof Object.is=="function"?Object.is:r,c=t.useState,h=t.useEffect,y=t.useLayoutEffect,v=t.useDebugValue;function b(N,k){var M=k(),U=c({inst:{value:M,getSnapshot:k}}),P=U[0].inst,j=U[1];return y(function(){P.value=M,P.getSnapshot=k,A(P)&&j({inst:P})},[N,M,k]),h(function(){return A(P)&&j({inst:P}),N(function(){A(P)&&j({inst:P})})},[N]),v(M),M}function A(N){var k=N.getSnapshot;N=N.value;try{var M=k();return!i(N,M)}catch{return!0}}function E(N,k){return k()}var I=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E:b;return dm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:I,dm}var o2;function t4(){return o2||(o2=1,fm.exports=e4()),fm.exports}var n4=t4(),r4=R.version.split(".").map(Number)[0],a4=Symbol.for(r4>=19?"react.transitional.element":"react.element"),i4=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,yl,cw=Symbol.dispose||Symbol.for("Symbol.dispose");function hm(t,r){var i=r.effect.S();return yl=r,o4.bind(r,t,i)}function o4(t,r){r(),yl=t}var s2,Vm,l2=function(){},s4=((s2={o:0,effect:{s:void 0,c:function(){},S:function(){return l2},d:function(){}},subscribe:function(){return l2},getSnapshot:function(){return 0},S:function(){},f:function(){}})[cw]=function(){},s2),l4=Promise.prototype.then.bind(Promise.resolve());function c4(){Vm||(Vm=l4(uw))}function uw(){var t;Vm=void 0,(t=yl)==null||t.f()}var u4=typeof window<"u"?R.useLayoutEffect:R.useEffect;function fw(t,r){t===void 0&&(t=0),c4();var i=R.useRef();i.current==null&&(typeof window>"u"?i.current=s4:i.current=(function(h,y){var v,b,A,E,I=0,N=zp(function(){b=this},{name:"Component"});return b.c=function(){if(I=I+1|0,i4){var k;(k=b.y)==null||k.call(b)}E&&E()},(v={o:h,effect:b,subscribe:function(k){return E=k,function(){I=I+1|0,E=void 0,N()}},getSnapshot:function(){return I},S:function(){if(yl!=null){var k=yl.o,M=this.o;k==0&&M==0||k==0&&M==1?(yl.f(),A=hm(void 0,this)):k==1&&M==0||k==2&&M==0||(A=hm(yl,this))}else A=hm(void 0,this)},f:function(){var k=A;A=void 0,k==null||k()}})[cw]=function(){this.f()},v})(t));var c=i.current;return n4.useSyncExternalStore(c.subscribe,c.getSnapshot,c.getSnapshot),c.S(),t===0&&u4(uw),c}Object.defineProperties(la.prototype,{$$typeof:{configurable:!0,value:a4},type:{configurable:!0,value:function(t){var r=t.data,i=fw(1);try{return r.value}finally{i.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function jc(t,r){return fw(t)}const f4="/api/v1";class d4{constructor(r){ga(this,"baseUrl");ga(this,"tokenSignal",or(null));ga(this,"userSignal",or(null));ga(this,"authListeners",[]);ga(this,"last401Time",0);ga(this,"AUTH_THROTTLE_MS",5e3);ga(this,"auth",{signInWithPassword:async r=>{var h,y,v;const i=await this.request("/auth/login","POST",r),c=((h=i.data)==null?void 0:h.access_token)||((y=i.data)==null?void 0:y.token);if(c&&((v=i.data)!=null&&v.user)){const b={id:i.data.user.id||i.data.user.userId,email:i.data.user.email||r.email,...i.data.user},A={access_token:c,token_type:"bearer",expires_in:3600,refresh_token:"local-mock-refresh",user:b};return this.setToken(c,A),{data:{user:b,session:A},error:null}}return{data:{user:null,session:null},error:i.error}},signIn:async r=>this.auth.signInWithPassword(r),signUp:async r=>{var c,h;const i=await this.request("/auth/register","POST",{email:r.email,password:r.password,...(c=r.options)==null?void 0:c.data});return{data:{user:((h=i.data)==null?void 0:h.user)||null,session:null},error:i.error}},signOut:async()=>(this.clearToken(),{error:null}),getUser:async()=>{if(!this.token)return{data:{user:null},error:null};const r=await this.request("/auth/me","GET");return{data:{user:r.data},error:r.error}},getSession:async()=>{var h;if(!this.token)return{data:{session:null},error:null};const r=await this.request("/auth/session","GET"),i=((h=r.data)==null?void 0:h.user)||r.data;return{data:{session:i&&Object.keys(i).length>0&&(i.id||i.userId)?{access_token:this.token,token_type:"bearer",expires_in:3600,refresh_token:"local-mock-refresh",user:i}:null},error:r.error}},setSession:async r=>r.access_token?(this.setToken(r.access_token),{data:{session:{access_token:r.access_token,token_type:"bearer",expires_in:3600,refresh_token:r.refresh_token,user:null},user:null},error:null}):{data:{session:null,user:null},error:{message:"Invalid session"}},onAuthStateChange:r=>(this.authListeners.push(r),this.auth.getSession().then(i=>{var c;(c=i.data)!=null&&c.session&&r("INITIAL_SESSION",i.data.session)}),{data:{subscription:{unsubscribe:()=>{this.authListeners=this.authListeners.filter(i=>i!==r)}}}}),resetPasswordForEmail:async(r,i)=>{console.warn("[ORION API] resetPasswordForEmail fallback in local backend");const c=await this.request("/auth/reset-password","POST",{email:r,...i});return{data:{},error:c.error}},updateUser:async r=>{const i=await this.request("/auth/update","PUT",r);return{data:{user:i.data},error:i.error}}});ga(this,"storage",{from:r=>({getPublicUrl:i=>{const c=r==="photos"?"photos":"documents";return{data:{publicUrl:`${this.baseUrl}/storage/${c}?path=${i}`}}},upload:async(i,c)=>{const h=r==="photos"?"photos":"documents",y=new FormData;return y.append("file",c),y.append("path",i),this.request(`/storage/${h}`,"POST",y)},download:async i=>{const c=r==="photos"?"photos":"documents",h=`${this.baseUrl}/storage/${c}?path=${i}`,y=await fetch(h,{headers:this.token?{Authorization:`Bearer ${this.token}`}:{}});if(!y.ok)throw new Error("Download failed");return{data:await y.blob(),error:null}},createSignedUrl:async(i,c)=>{const h=r==="photos"?"photos":"documents";return{data:{signedUrl:`${this.baseUrl}/storage/${h}?path=${i}`},error:null}},remove:async i=>(console.warn("[ORION STORAGE] Remove not yet implemented in backend"),{error:null})})});this.baseUrl=r.endsWith("/")?r.slice(0,-1):r,this.loadToken(),zp(()=>{const i=this.tokenSignal.value;try{i?(localStorage.setItem("orion_token",i),localStorage.setItem("token",i)):(localStorage.removeItem("orion_token"),localStorage.removeItem("token"))}catch(c){console.warn("[ORION CLIENT] LocalStorage access denied during effect:",c)}})}get token(){return this.tokenSignal.value}set token(r){this.tokenSignal.value=r}loadToken(){var r;try{const i=localStorage.getItem("token")||localStorage.getItem("orion_token")||localStorage.getItem("next-auth.session-token")||localStorage.getItem("db.auth.token");let c=i&&i!=="undefined"&&i!=="null"?i:null;if(c&&(c.trim().startsWith("{")||c.trim().startsWith("[")))try{const h=JSON.parse(c);h.access_token?(c=h.access_token,console.log("[ORION CLIENT] Access token extracted from db JSON")):(r=h.currentSession)!=null&&r.access_token&&(c=h.currentSession.access_token)}catch{}this.tokenSignal.value=c}catch(i){console.error("[ORION CLIENT] Failed to load token from LocalStorage:",i),this.tokenSignal.value=null}}notifyAuthChange(r,i){this.authListeners.forEach(c=>c(r,i))}setToken(r,i){this.tokenSignal.value=r,i!=null&&i.user&&(this.userSignal.value=i.user,this.notifyAuthChange("SIGNED_IN",i)),this.auth.getSession().then(c=>{var y,v,b;const h=((v=(y=c.data)==null?void 0:y.session)==null?void 0:v.user)||null;this.userSignal.value=h,this.notifyAuthChange("SIGNED_IN",(b=c.data)==null?void 0:b.session)})}clearToken(){this.tokenSignal.value=null,this.userSignal.value=null,this.notifyAuthChange("SIGNED_OUT",null)}async request(r,i="GET",c,h){var y;try{const v=r.includes("/auth/")||r.includes("/health");if(!["/auth/login","/auth/register","/health","/api/health"].some(re=>r.includes(re))&&!this.token)return console.warn(`[ORION API] Aborted request to protected endpoint ${r} without token.`),{data:null,error:{message:"No autenticado: Token ausente",code:"401"}};if(!v&&this.last401Time>0){const re=Date.now()-this.last401Time;if(re<this.AUTH_THROTTLE_MS)return console.warn(`[ORION API] Request blocked: Recent 401 error (${Math.round((this.AUTH_THROTTLE_MS-re)/1e3)}s remaining)`),{data:null,error:{message:"Monitoramento de Segurana: Requisio bloqueada temporariamente (401 recent)",code:"401"}};this.last401Time=0}const E=r.startsWith("/")?r.slice(1):r,I=this.baseUrl.endsWith("/")?this.baseUrl:`${this.baseUrl}/`,N=this.baseUrl.startsWith("http")?`${I}${E}`:`${window.location.origin}${I}${E}`,k=new URL(N);h&&Object.entries(h).forEach(([re,V])=>{k.searchParams.append(re,V)});const M={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};c instanceof FormData||(M["Content-Type"]="application/json"),this.token&&(M.Authorization=`Bearer ${this.token}`);const U={method:i,headers:M,cache:"no-store",credentials:"include"};if(i!=="GET"&&c)if(typeof c=="object"&&!Array.isArray(c)&&!(c instanceof FormData)){const re={...c};Object.entries({employee_id:"userId",user_id:"userId",project_id:"projectId",site_id:"siteId",company_id:"companyId",team_id:"teamId",record_type:"recordType",recorded_at:"recordedAt",photo_url:"photoUrl",local_id:"localId",created_by:"createdById",is_active:"isActive",display_order:"displayOrder",doc_type:"documentType",file_url:"fileUrl",file_size:"fileSize",folder_path:"folderPath"}).forEach(([Z,te])=>{re[Z]!==void 0&&(re[te]=re[Z])}),U.body=JSON.stringify(re)}else U.body=c instanceof FormData?c:JSON.stringify(c);let P=await fetch(k.toString(),U),j=0;const X=3;let G=1e3;for(;P.status===429&&j<X;){j++;const re=P.headers.get("Retry-After"),V=re?parseInt(re)*1e3:G;console.warn(`[ORION API] 429 Too Many Requests detected. Retrying in ${V}ms... (Attempt ${j}/${X})`),await new Promise(Z=>setTimeout(Z,V)),P=await fetch(k.toString(),U),G*=2}if(i==="DELETE"&&P.status===204)return{data:null,error:null};let H={};const q=P.headers.get("content-type");if(q&&q.includes("application/json"))try{H=await P.json()}catch(re){console.warn("[ORION API] Failed to parse JSON response",re)}else return{data:null,error:{message:P.status===404?`Endpoint ${r} no encontrado (404).`:`Erro ${P.status} no servidor (Resposta no-JSON).`,code:String(P.status)}};if(!P.ok){P.status===401&&(console.warn("[ORION API] Unauthorized (401). Clearing token and activating throttle..."),this.last401Time=Date.now(),this.clearToken());const re=H.message||H.error||`Erro ${P.status} no servidor ORION`,V=H.errors?`
Detalhes: ${H.errors.join(", ")}`:"";return{data:null,error:{message:`${re}${V}`,code:String(P.status)}}}const ae=H.data!==void 0?H.data:H;if(ae&&typeof ae=="object"&&!Array.isArray(ae)&&Array.isArray(ae.items)){const re=ae.items,V=((y=ae.pagination)==null?void 0:y.total)||re.length;return{data:re,error:null,count:V}}return{data:ae,error:null,count:H.count}}catch(v){const b=v instanceof TypeError&&v.message==="Failed to fetch";return!navigator.onLine||b?console.warn(`[ORION API] ${b?"Connection failed":"Offline"}: ${i} ${r}`):console.error(`[ORION API] Fetch error on ${i} ${this.baseUrl}${r}:`,v),{data:null,error:{message:"No foi possvel conectar ao servidor ORION."}}}}async get(r,i){return this.request(r,"GET",void 0,i)}async post(r,i){return this.request(r,"POST",i)}async put(r,i){return this.request(r,"PUT",i)}async patch(r,i){return this.request(r,"PATCH",i)}async delete(r,i){return this.request(r,"DELETE",void 0,i)}from(r){const c={users:"users",profiles:"users",User:"users",user_roles:"user_roles",UserRole:"user_roles",employees:"users",Employee:"users",teams:"teams",Team:"teams",projects:"projects",Project:"projects",sites:"sites",Site:"sites",companies:"companies",Company:"companies",job_functions:"job_functions",JobFunction:"job_functions",system_messages:"system_messages",SystemMessage:"system_messages",messages:"system_messages",audit_logs:"audit_logs",AuditLog:"audit_logs",time_records:"time_records",TimeRecord:"time_records",team_members:"team_members",TeamMember:"team_members",permission_levels:"permission_levels",PermissionLevel:"permission_levels",permission_modules:"permission_modules",PermissionModule:"permission_modules",permission_matrix:"permission_matrix",PermissionMatrix:"permission_matrix",permission_overrides:"permission_overrides",PermissionOverride:"permission_overrides",ticket_history:"ticket_history",TicketHistory:"ticket_history",temporary_permissions:"temporary_permissions",TemporaryPermission:"temporary_permissions",segments:"segments",circuits:"circuits",conductors:"conductors",segment_circuits:"segment_circuits",tower_technical_data:"map_elements",span_technical_data:"map_elements",map_element_technical_data:"map_elements",Project3dCableSettings:"project_3d_cable_settings",project_3d_cable_settings:"project_3d_cable_settings",map_element_production_progress:"map_element_production_progress"}[r]||r;let h="GET",y=null;const v=[];let b=null,A=null;const E=()=>{const M=v.find(U=>U.column==="id"&&U.op==="eq");return M?M.value:null},I=()=>{const M={};return v.forEach(U=>{let P=U.column;P==="project_id"&&(P="projectId"),P==="company_id"&&(P="companyId"),P==="team_id"&&(P="teamId"),P==="user_id"&&(P="userId"),P==="employee_id"&&(P="userId"),P==="site_id"&&(P="siteId"),P==="tower_type"&&(P="towerType"),P==="tower_id"&&(P="towerId");const G=E()&&h!=="POST"&&["users","profiles","projects","teams","sites","companies","construction_documents"].includes(c);(U.column!=="id"||U.op!=="eq"||!G)&&(M[P]=String(U.value))}),A&&(M.limit=String(A)),M},N=async()=>{let M=E();console.log("[OrionClient] Execute table:",c,"Method:",h,"Initial ID from filters:",M),!M&&(h==="PUT"||h==="PATCH")&&console.log("[ORION DEBUG] PUT/PATCH missing ID from filters. Checking body..."),!M&&(h==="PUT"||h==="PATCH")&&y&&typeof y=="object"&&!Array.isArray(y)&&(M=y.id||y.userId,console.log("[OrionClient] ID found in body for update:",M)),(h==="PUT"||h==="PATCH")&&M&&y&&typeof y=="object"&&!Array.isArray(y)&&(y={...y,id:M});const j=M&&h!=="POST"&&["users","profiles","projects","teams","sites","companies","construction_documents"].includes(c)?`/${c}/${M}`:`/${c}`;console.log("[OrionClient] Final Endpoint:",j),h==="PATCH"&&!M&&console.warn("[ORION API] Global updates without ID might not be supported");const X=await this.request(j,h,y,h==="GET"||h==="DELETE"?I():void 0);return X.data&&Array.isArray(X.data)&&b&&X.data.sort((G,H)=>{const q=G[b.column],ae=H[b.column],re=q<ae?-1:q>ae?1:0;return b.ascending?re:-re}),X.data&&Array.isArray(X.data)&&A&&(X.data=X.data.slice(0,A)),X},k={select:(M="*")=>k,insert:M=>(h="POST",y=M,k),update:M=>(h="PUT",y=M,k),upsert:M=>(h="POST",y=M,k),delete:()=>(h="DELETE",k),eq:(M,U)=>(console.log(`[ORION DEBUG] Adding filter eq: ${M}=${U}`),v.push({column:M,op:"eq",value:U}),k),neq:(M,U)=>(v.push({column:M,op:"neq",value:U}),k),is:(M,U)=>(v.push({column:M,op:"is",value:U}),k),in:(M,U)=>(v.push({column:M,op:"in",value:U.join(",")}),k),order:(M,U={ascending:!0})=>(b={column:M,ascending:U.ascending??!0},k),limit:M=>(A=M,k),single:async()=>{const M=await N();if(M.error)return M;const U=Array.isArray(M.data)?M.data[0]:M.data;return U?{data:U,error:null}:{data:null,error:{message:"Not found",code:"404"}}},maybeSingle:async()=>{const M=await N();return M.error?M:{data:(Array.isArray(M.data)?M.data[0]:M.data)||null,error:null}},then:async M=>{const U=await N(),P=Array.isArray(U.data)?U.data:U.data?[U.data]:[];M({...U,data:P})}};return k}async rpc(r,i){const c={...i};return i!=null&&i.p_identifier&&(c.identifier=i.p_identifier),i!=null&&i.p_matricula&&(c.identifier=i.p_matricula),i!=null&&i.p_senha&&(c.password=i.p_senha),await this.request(`/rpc/${r}`,"POST",c)}}const _l=new d4(f4),pi=_l,wt=_l,Ru=!0;var Pd={exports:{}},h4=Pd.exports,c2;function m4(){return c2||(c2=1,(function(t,r){((i,c)=>{t.exports=c()})(h4,function(){var i=function(s,d){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(x,w){x.__proto__=w}:function(x,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(x[S]=w[S])}))(s,d)},c=function(){return(c=Object.assign||function(s){for(var d,x=1,w=arguments.length;x<w;x++)for(var S in d=arguments[x])Object.prototype.hasOwnProperty.call(d,S)&&(s[S]=d[S]);return s}).apply(this,arguments)};function h(s,d,x){for(var w,S=0,T=d.length;S<T;S++)!w&&S in d||((w=w||Array.prototype.slice.call(d,0,S))[S]=d[S]);return s.concat(w||Array.prototype.slice.call(d))}var y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Du,v=Object.keys,b=Array.isArray;function A(s,d){return typeof d=="object"&&v(d).forEach(function(x){s[x]=d[x]}),s}typeof Promise>"u"||y.Promise||(y.Promise=Promise);var E=Object.getPrototypeOf,I={}.hasOwnProperty;function N(s,d){return I.call(s,d)}function k(s,d){typeof d=="function"&&(d=d(E(s))),(typeof Reflect>"u"?v:Reflect.ownKeys)(d).forEach(function(x){U(s,x,d[x])})}var M=Object.defineProperty;function U(s,d,x,w){M(s,d,A(x&&N(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},w))}function P(s){return{from:function(d){return s.prototype=Object.create(d.prototype),U(s.prototype,"constructor",s),{extend:k.bind(null,s.prototype)}}}}var j=Object.getOwnPropertyDescriptor,X=[].slice;function G(s,d,x){return X.call(s,d,x)}function H(s,d){return d(s)}function q(s){if(!s)throw new Error("Assertion Failed")}function ae(s){y.setImmediate?setImmediate(s):setTimeout(s,0)}function re(s,d){if(typeof d=="string"&&N(s,d))return s[d];if(!d)return s;if(typeof d!="string"){for(var x=[],w=0,S=d.length;w<S;++w){var T=re(s,d[w]);x.push(T)}return x}var D,L=d.indexOf(".");return L===-1||(D=s[d.substr(0,L)])==null?void 0:re(D,d.substr(L+1))}function V(s,d,x){if(s&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof d!="string"&&"length"in d){q(typeof x!="string"&&"length"in x);for(var w=0,S=d.length;w<S;++w)V(s,d[w],x[w])}else{var T,D,L=d.indexOf(".");L!==-1?(T=d.substr(0,L),(L=d.substr(L+1))===""?x===void 0?b(s)&&!isNaN(parseInt(T))?s.splice(T,1):delete s[T]:s[T]=x:V(D=(D=s[T])&&N(s,T)?D:s[T]={},L,x)):x===void 0?b(s)&&!isNaN(parseInt(d))?s.splice(d,1):delete s[d]:s[d]=x}}function Z(s){var d,x={};for(d in s)N(s,d)&&(x[d]=s[d]);return x}var te=[].concat;function fe(s){return te.apply([],s)}var de="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(d){return d+s+"Array"})}))).filter(function(s){return y[s]}),Re=new Set(de.map(function(s){return y[s]})),xe=null;function Ue(s){return xe=new WeakMap,s=(function d(x){if(!x||typeof x!="object")return x;var w=xe.get(x);if(w)return w;if(b(x)){w=[],xe.set(x,w);for(var S=0,T=x.length;S<T;++S)w.push(d(x[S]))}else if(Re.has(x.constructor))w=x;else{var D,L=E(x);for(D in w=L===Object.prototype?{}:Object.create(L),xe.set(x,w),x)N(x,D)&&(w[D]=d(x[D]))}return w})(s),xe=null,s}var me={}.toString;function ce(s){return me.call(s).slice(8,-1)}var ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof ie=="symbol"?function(s){var d;return s!=null&&(d=s[ie])&&d.apply(s)}:function(){return null};function Ne(s,d){d=s.indexOf(d),0<=d&&s.splice(d,1)}var we={};function Xe(s){var d,x,w,S;if(arguments.length===1){if(b(s))return s.slice();if(this===we&&typeof s=="string")return[s];if(S=ge(s))for(x=[];!(w=S.next()).done;)x.push(w.value);else{if(s==null)return[s];if(typeof(d=s.length)!="number")return[s];for(x=new Array(d);d--;)x[d]=s[d]}}else for(d=arguments.length,x=new Array(d);d--;)x[d]=arguments[d];return x}var ne=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},de=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],zt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(de),Ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Oe(s,d){this.name=s,this.message=d}function tt(s,d){return s+". Errors: "+Object.keys(d).map(function(x){return d[x].toString()}).filter(function(x,w,S){return S.indexOf(x)===w}).join(`
`)}function Le(s,d,x,w){this.failures=d,this.failedKeys=w,this.successCount=x,this.message=tt(s,d)}function Be(s,d){this.name="BulkError",this.failures=Object.keys(d).map(function(x){return d[x]}),this.failuresByPos=d,this.message=tt(s,this.failures)}P(Oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(Le).from(Oe),P(Be).from(Oe);var et=zt.reduce(function(s,d){return s[d]=d+"Error",s},{}),ft=Oe,Ve=zt.reduce(function(s,d){var x=d+"Error";function w(S,T){this.name=x,S?typeof S=="string"?(this.message="".concat(S).concat(T?`
 `+T:""),this.inner=T||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=Ie[d]||x,this.inner=null)}return P(w).from(ft),s[d]=w,s},{}),ht=(Ve.Syntax=SyntaxError,Ve.Type=TypeError,Ve.Range=RangeError,de.reduce(function(s,d){return s[d+"Error"]=Ve[d],s},{}));de=zt.reduce(function(s,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(s[d+"Error"]=Ve[d]),s},{});function rt(){}function mt(s){return s}function An(s,d){return s==null||s===mt?d:function(x){return d(s(x))}}function wn(s,d){return function(){s.apply(this,arguments),d.apply(this,arguments)}}function vr(s,d){return s===rt?d:function(){var x=s.apply(this,arguments),w=(x!==void 0&&(arguments[0]=x),this.onsuccess),S=this.onerror,T=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return w&&(this.onsuccess=this.onsuccess?wn(w,this.onsuccess):w),S&&(this.onerror=this.onerror?wn(S,this.onerror):S),T!==void 0?T:x}}function _n(s,d){return s===rt?d:function(){s.apply(this,arguments);var x=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?wn(x,this.onsuccess):x),w&&(this.onerror=this.onerror?wn(w,this.onerror):w)}}function Yt(s,d){return s===rt?d:function(S){var w=s.apply(this,arguments),S=(A(S,w),this.onsuccess),T=this.onerror,D=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return S&&(this.onsuccess=this.onsuccess?wn(S,this.onsuccess):S),T&&(this.onerror=this.onerror?wn(T,this.onerror):T),w===void 0?D===void 0?void 0:D:A(w,D)}}function Rt(s,d){return s===rt?d:function(){return d.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ca(s,d){return s===rt?d:function(){var x=s.apply(this,arguments);if(x&&typeof x.then=="function"){for(var w=this,S=arguments.length,T=new Array(S);S--;)T[S]=arguments[S];return x.then(function(){return d.apply(w,T)})}return d.apply(this,arguments)}}de.ModifyError=Le,de.DexieError=Oe,de.BulkError=Be;var Qe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ai(s){Qe=s}var Dr={},Dn=100,Ba=typeof Promise>"u"?[]:(zt=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Ba=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(Ba),zt]:[zt,E(zt),zt]),zt=Ba[0],jt=Ba[1],jt=jt&&jt.then,br=zt&&zt.constructor,Rr=!!Ba[2],Kn=function(s,d){pn.push([s,d]),La&&(queueMicrotask(Ot),La=!1)},ba=!0,La=!0,wa=[],an=[],qe=mt,Gt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},He=Gt,pn=[],Lr=0,ja=[];function Ze(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=He;if(typeof s!="function"){if(s!==Dr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&rr(this,this._value)}else this._state=null,this._value=null,++d.ref,(function x(w,S){try{S(function(T){if(w._state===null){if(T===w)throw new TypeError("A promise cannot be resolved with itself.");var D=w._lib&&Tn();T&&typeof T.then=="function"?x(w,function(L,z){T instanceof Ze?T._then(L,z):T.then(L,z)}):(w._state=!0,w._value=T,ii(w)),D&&Nn()}},rr.bind(null,w))}catch(T){rr(w,T)}})(this,s)}var Ft={get:function(){var s=He,d=nt;function x(w,S){var T=this,D=!s.global&&(s!==He||d!==nt),L=D&&!sr(),z=new Ze(function(W,Y){lt(T,new Or(Ur(w,s,D,L),Ur(S,s,D,L),W,Y,s))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return x.prototype=Dr,x},set:function(s){U(this,"then",s&&s.prototype===Dr?Ft:{get:function(){return s},set:Ft.set})}};function Or(s,d,x,w,S){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof d=="function"?d:null,this.resolve=x,this.reject=w,this.psd=S}function rr(s,d){var x,w;an.push(d),s._state===null&&(x=s._lib&&Tn(),d=qe(d),s._state=!1,s._value=d,w=s,wa.some(function(S){return S._value===w._value})||wa.push(w),ii(s),x)&&Nn()}function ii(s){var d=s._listeners;s._listeners=[];for(var x=0,w=d.length;x<w;++x)lt(s,d[x]);var S=s._PSD;--S.ref||S.finalize(),Lr===0&&(++Lr,Kn(function(){--Lr==0&&Yn()},[]))}function lt(s,d){if(s._state===null)s._listeners.push(d);else{var x=s._state?d.onFulfilled:d.onRejected;if(x===null)return(s._state?d.resolve:d.reject)(s._value);++d.psd.ref,++Lr,Kn($t,[x,s,d])}}function $t(s,d,x){try{var w,S=d._value;!d._state&&an.length&&(an=[]),w=Qe&&d._consoleTask?d._consoleTask.run(function(){return s(S)}):s(S),d._state||an.indexOf(S)!==-1||(T=>{for(var D=wa.length;D;)if(wa[--D]._value===T._value)return wa.splice(D,1)})(d),x.resolve(w)}catch(T){x.reject(T)}finally{--Lr==0&&Yn(),--x.psd.ref||x.psd.finalize()}}function Ot(){ua(Gt,function(){Tn()&&Nn()})}function Tn(){var s=ba;return La=ba=!1,s}function Nn(){var s,d,x;do for(;0<pn.length;)for(s=pn,pn=[],x=s.length,d=0;d<x;++d){var w=s[d];w[0].apply(null,w[1])}while(0<pn.length);La=ba=!0}function Yn(){for(var s=wa,d=(wa=[],s.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)}),ja.slice(0)),x=d.length;x;)d[--x]()}function jr(s){return new Ze(Dr,!1,s)}function Tt(s,d){var x=He;return function(){var w=Tn(),S=He;try{return mr(x,!0),s.apply(this,arguments)}catch(T){d&&d(T)}finally{mr(S,!1),w&&Nn()}}}k(Ze.prototype,{then:Ft,_then:function(s,d){lt(this,new Or(null,null,s,d,He))},catch:function(s){var d,x;return arguments.length===1?this.then(null,s):(d=s,x=arguments[1],typeof d=="function"?this.then(null,function(w){return(w instanceof d?x:jr)(w)}):this.then(null,function(w){return(w&&w.name===d?x:jr)(w)}))},finally:function(s){return this.then(function(d){return Ze.resolve(s()).then(function(){return d})},function(d){return Ze.resolve(s()).then(function(){return jr(d)})})},timeout:function(s,d){var x=this;return s<1/0?new Ze(function(w,S){var T=setTimeout(function(){return S(new Ve.Timeout(d))},s);x.then(w,S).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(Ze.prototype,Symbol.toStringTag,"Dexie.Promise"),Gt.env=Ys(),k(Ze,{all:function(){var s=Xe.apply(null,arguments).map(Fa);return new Ze(function(d,x){s.length===0&&d([]);var w=s.length;s.forEach(function(S,T){return Ze.resolve(S).then(function(D){s[T]=D,--w||d(s)},x)})})},resolve:function(s){return s instanceof Ze?s:s&&typeof s.then=="function"?new Ze(function(d,x){s.then(d,x)}):new Ze(Dr,!0,s)},reject:jr,race:function(){var s=Xe.apply(null,arguments).map(Fa);return new Ze(function(d,x){s.map(function(w){return Ze.resolve(w).then(d,x)})})},PSD:{get:function(){return He},set:function(s){return He=s}},totalEchoes:{get:function(){return nt}},newPSD:En,usePSD:ua,scheduler:{get:function(){return Kn},set:function(s){Kn=s}},rejectionMapper:{get:function(){return qe},set:function(s){qe=s}},follow:function(s,d){return new Ze(function(x,w){return En(function(S,T){var D=He;D.unhandleds=[],D.onunhandled=T,D.finalize=wn(function(){var L,z=this;L=function(){z.unhandleds.length===0?S():T(z.unhandleds[0])},ja.push(function W(){L(),ja.splice(ja.indexOf(W),1)}),++Lr,Kn(function(){--Lr==0&&Yn()},[])},D.finalize),s()},d,x,w)})}}),br&&(br.allSettled&&U(Ze,"allSettled",function(){var s=Xe.apply(null,arguments).map(Fa);return new Ze(function(d){s.length===0&&d([]);var x=s.length,w=new Array(x);s.forEach(function(S,T){return Ze.resolve(S).then(function(D){return w[T]={status:"fulfilled",value:D}},function(D){return w[T]={status:"rejected",reason:D}}).then(function(){return--x||d(w)})})})}),br.any&&typeof AggregateError<"u"&&U(Ze,"any",function(){var s=Xe.apply(null,arguments).map(Fa);return new Ze(function(d,x){s.length===0&&x(new AggregateError([]));var w=s.length,S=new Array(w);s.forEach(function(T,D){return Ze.resolve(T).then(function(L){return d(L)},function(L){S[D]=L,--w||x(new AggregateError(S))})})})}),br.withResolvers)&&(Ze.withResolvers=br.withResolvers);var fn={awaits:0,echoes:0,id:0},wr=0,Qr=[],Er=0,nt=0,Fr=0;function En(s,D,x,w){var S=He,T=Object.create(S),D=(T.parent=S,T.ref=0,T.global=!1,T.id=++Fr,Gt.env,T.env=Rr?{Promise:Ze,PromiseProp:{value:Ze,configurable:!0,writable:!0},all:Ze.all,race:Ze.race,allSettled:Ze.allSettled,any:Ze.any,resolve:Ze.resolve,reject:Ze.reject}:{},D&&A(T,D),++S.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},ua(T,s,x,w));return T.ref===0&&T.finalize(),D}function Jt(){return fn.id||(fn.id=++wr),++fn.awaits,fn.echoes+=Dn,fn.id}function sr(){return!!fn.awaits&&(--fn.awaits==0&&(fn.id=0),fn.echoes=fn.awaits*Dn,!0)}function Fa(s){return fn.echoes&&s&&s.constructor===br?(Jt(),s.then(function(d){return sr(),d},function(d){return sr(),Et(d)})):s}function Ko(){var s=Qr[Qr.length-1];Qr.pop(),mr(s,!1)}function mr(s,d){var x,w,S=He;(d?!fn.echoes||Er++&&s===He:!Er||--Er&&s===He)||queueMicrotask(d?(function(T){++nt,fn.echoes&&--fn.echoes!=0||(fn.echoes=fn.awaits=fn.id=0),Qr.push(He),mr(T,!0)}).bind(null,s):Ko),s!==He&&(He=s,S===Gt&&(Gt.env=Ys()),Rr)&&(x=Gt.env.Promise,w=s.env,S.global||s.global)&&(Object.defineProperty(y,"Promise",w.PromiseProp),x.all=w.all,x.race=w.race,x.resolve=w.resolve,x.reject=w.reject,w.allSettled&&(x.allSettled=w.allSettled),w.any)&&(x.any=w.any)}function Ys(){var s=y.Promise;return Rr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(y,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function ua(s,d,x,w,S){var T=He;try{return mr(s,!0),d(x,w,S)}finally{mr(T,!1)}}function Ur(s,d,x,w){return typeof s!="function"?s:function(){var S=He;x&&Jt(),mr(d,!0);try{return s.apply(this,arguments)}finally{mr(S,!1),w&&queueMicrotask(sr)}}}function qn(s){Promise===br&&fn.echoes===0?Er===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+jt).indexOf("[native code]")===-1&&(Jt=sr=rt);var Et=Ze.reject,$r="",Wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zn="String expected.",je=[],co="__dbnames",dn="readonly",zr="readwrite";function vi(s,d){return s?d?function(){return s.apply(this,arguments)&&d.apply(this,arguments)}:s:d}var en={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xt(s){return typeof s!="string"||/\./.test(s)?function(d){return d}:function(d){return d[s]===void 0&&s in d&&delete(d=Ue(d))[s],d}}function qt(){throw Ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pt(s,d){try{var x=bi(s),w=bi(d);if(x!==w)return x==="Array"?1:w==="Array"?-1:x==="binary"?1:w==="binary"?-1:x==="string"?1:w==="string"?-1:x==="Date"?1:w!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return d<s?1:s<d?-1:0;case"binary":for(var S=Jr(s),T=Jr(d),D=S.length,L=T.length,z=D<L?D:L,W=0;W<z;++W)if(S[W]!==T[W])return S[W]<T[W]?-1:1;return D===L?0:D<L?-1:1;case"Array":for(var Y=s,Q=d,ee=Y.length,$=Q.length,se=ee<$?ee:$,oe=0;oe<se;++oe){var pe=Pt(Y[oe],Q[oe]);if(pe!==0)return pe}return ee===$?0:ee<$?-1:1}}catch{}return NaN}function bi(s){var d=typeof s;return d=="object"&&(ArrayBuffer.isView(s)||(d=ce(s))==="ArrayBuffer")?"binary":d}function Jr(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Wt(s,d,x){var w=s.schema.yProps;return w?(d&&0<x.numFailures&&(d=d.filter(function(S,T){return!x.failures[T]})),Promise.all(w.map(function(S){return S=S.updatesTable,d?s.db.table(S).where("k").anyOf(d).delete():s.db.table(S).clear()})).then(function(){return x})):x}Ll.prototype.execute=function(s){var d=this["@@propmod"];if(d.add!==void 0){var x=d.add;if(b(x))return h(h([],b(s)?s:[],!0),x).sort();if(typeof x=="number")return(Number(s)||0)+x;if(typeof x=="bigint")try{return BigInt(s)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(d.remove!==void 0){var w=d.remove;if(b(w))return b(s)?s.filter(function(S){return!w.includes(S)}).sort():[];if(typeof w=="number")return Number(s)-w;if(typeof w=="bigint")try{return BigInt(s)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return x=(x=d.replacePrefix)==null?void 0:x[0],x&&typeof s=="string"&&s.startsWith(x)?d.replacePrefix[1]+s.substring(x.length):s};var Vr=Ll;function Ll(s){this["@@propmod"]=s}function Pn(s,d){for(var x=v(d),w=x.length,S=!1,T=0;T<w;++T){var D=x[T],L=d[D],z=re(s,D);L instanceof Vr?(V(s,D,L.execute(z)),S=!0):z!==L&&(V(s,D,L),S=!0)}return S}hn.prototype._trans=function(s,d,x){var w=this._tx||He.trans,S=this.name,T=Qe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function D(W,Y,Q){if(Q.schema[S])return d(Q.idbtrans,Q);throw new Ve.NotFound("Table "+S+" not part of transaction")}var L=Tn();try{var z=w&&w.db._novip===this.db._novip?w===He.trans?w._promise(s,D,x):En(function(){return w._promise(s,D,x)},{trans:w,transless:He.transless||He}):(function W(Y,Q,ee,$){if(Y.idbdb&&(Y._state.openComplete||He.letThrough||Y._vip)){var se=Y._createTransaction(Q,ee,Y._dbSchema);try{se.create(),Y._state.PR1398_maxLoop=3}catch(oe){return oe.name===et.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return W(Y,Q,ee,$)})):Et(oe)}return se._promise(Q,function(oe,pe){return En(function(){return He.trans=se,$(oe,pe,se)})}).then(function(oe){if(Q==="readwrite")try{se.idbtrans.commit()}catch{}return Q==="readonly"?oe:se._completion.then(function(){return oe})})}if(Y._state.openComplete)return Et(new Ve.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return Et(new Ve.DatabaseClosed);Y.open().catch(rt)}return Y._state.dbReadyPromise.then(function(){return W(Y,Q,ee,$)})})(this.db,s,[this.name],D);return T&&(z._consoleTask=T,z=z.catch(function(W){return console.trace(W),Et(W)})),z}finally{L&&Nn()}},hn.prototype.get=function(s,d){var x=this;return s&&s.constructor===Object?this.where(s).first(d):s==null?Et(new Ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return x.core.get({trans:w,key:s}).then(function(S){return x.hook.reading.fire(S)})}).then(d)},hn.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(b(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var d=v(s);if(d.length===1)return this.where(d[0]).equals(s[d[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&d.every(function(W){return 0<=L.keyPath.indexOf(W)})){for(var z=0;z<d.length;++z)if(d.indexOf(L.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(L,z){return L.keyPath.length-z.keyPath.length})[0];if(x&&this.db._maxKey!==$r)return D=x.keyPath.slice(0,d.length),this.where(D).equals(D.map(function(L){return s[L]}));!x&&Qe&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var w=this.schema.idxByName;function S(L,z){return Pt(L,z)===0}var D=d.reduce(function(Y,z){var W=Y[0],Y=Y[1],Q=w[z],ee=s[z];return[W||Q,W||!Q?vi(Y,Q&&Q.multi?function($){return $=re($,z),b($)&&$.some(function(se){return S(ee,se)})}:function($){return S(ee,re($,z))}):Y]},[null,null]),T=D[0],D=D[1];return T?this.where(T.name).equals(s[T.keyPath]).filter(D):x?this.filter(D):this.where(d).equals("")},hn.prototype.filter=function(s){return this.toCollection().and(s)},hn.prototype.count=function(s){return this.toCollection().count(s)},hn.prototype.offset=function(s){return this.toCollection().offset(s)},hn.prototype.limit=function(s){return this.toCollection().limit(s)},hn.prototype.each=function(s){return this.toCollection().each(s)},hn.prototype.toArray=function(s){return this.toCollection().toArray(s)},hn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},hn.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,b(s)?"[".concat(s.join("+"),"]"):s))},hn.prototype.reverse=function(){return this.toCollection().reverse()},hn.prototype.mapToClass=function(s){for(var d=this.db,x=this.name,w=((this.schema.mappedClass=s).prototype instanceof qt&&(s=(D=>{var L=Y,z=D;if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function W(){this.constructor=L}function Y(){return D!==null&&D.apply(this,arguments)||this}return i(L,z),L.prototype=z===null?Object.create(z):(W.prototype=z.prototype,new W),Object.defineProperty(Y.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),Y.prototype.table=function(){return x},Y})(s)),new Set),S=s.prototype;S;S=E(S))Object.getOwnPropertyNames(S).forEach(function(D){return w.add(D)});function T(D){if(!D)return D;var L,z=Object.create(s.prototype);for(L in D)if(!w.has(L))try{z[L]=D[L]}catch{}return z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=T,this.hook("reading",T),s},hn.prototype.defineClass=function(){return this.mapToClass(function(s){A(this,s)})},hn.prototype.add=function(s,d){var x=this,w=this.schema.primKey,S=w.auto,T=w.keyPath,D=s;return T&&S&&(D=Xt(T)(s)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"add",keys:d!=null?[d]:null,values:[D]})}).then(function(L){return L.numFailures?Ze.reject(L.failures[0]):L.lastResult}).then(function(L){if(T)try{V(s,T,L)}catch{}return L})},hn.prototype.upsert=function(s,d){var x=this,w=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return x.core.get({trans:S,key:s}).then(function(T){var D=T??{};return Pn(D,d),w&&V(D,w,s),x.core.mutate({trans:S,type:"put",values:[D],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[d]}}).then(function(L){return L.numFailures?Ze.reject(L.failures[0]):!!T})})})},hn.prototype.update=function(s,d){return typeof s!="object"||b(s)?this.where(":id").equals(s).modify(d):(s=re(s,this.schema.primKey.keyPath))===void 0?Et(new Ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(d)},hn.prototype.put=function(s,d){var x=this,w=this.schema.primKey,S=w.auto,T=w.keyPath,D=s;return T&&S&&(D=Xt(T)(s)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"put",values:[D],keys:d!=null?[d]:null})}).then(function(L){return L.numFailures?Ze.reject(L.failures[0]):L.lastResult}).then(function(L){if(T)try{V(s,T,L)}catch{}return L})},hn.prototype.delete=function(s){var d=this;return this._trans("readwrite",function(x){return d.core.mutate({trans:x,type:"delete",keys:[s]}).then(function(w){return Wt(d,[s],w)}).then(function(w){return w.numFailures?Ze.reject(w.failures[0]):void 0})})},hn.prototype.clear=function(){var s=this;return this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"deleteRange",range:en}).then(function(x){return Wt(s,null,x)})}).then(function(d){return d.numFailures?Ze.reject(d.failures[0]):void 0})},hn.prototype.bulkGet=function(s){var d=this;return this._trans("readonly",function(x){return d.core.getMany({keys:s,trans:x}).then(function(w){return w.map(function(S){return d.hook.reading.fire(S)})})})},hn.prototype.bulkAdd=function(s,d,x){var w=this,S=Array.isArray(d)?d:void 0,T=(x=x||(S?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(D){var L=w.schema.primKey,W=L.auto,L=L.keyPath;if(L&&S)throw new Ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==s.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var z=s.length,W=L&&W?s.map(Xt(L)):s;return w.core.mutate({trans:D,type:"add",keys:S,values:W,wantResults:T}).then(function(Y){var Q=Y.numFailures,ee=Y.failures;if(Q===0)return T?Y.results:Y.lastResult;throw new Be("".concat(w.name,".bulkAdd(): ").concat(Q," of ").concat(z," operations failed"),ee)})})},hn.prototype.bulkPut=function(s,d,x){var w=this,S=Array.isArray(d)?d:void 0,T=(x=x||(S?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(D){var L=w.schema.primKey,W=L.auto,L=L.keyPath;if(L&&S)throw new Ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==s.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var z=s.length,W=L&&W?s.map(Xt(L)):s;return w.core.mutate({trans:D,type:"put",keys:S,values:W,wantResults:T}).then(function(Y){var Q=Y.numFailures,ee=Y.failures;if(Q===0)return T?Y.results:Y.lastResult;throw new Be("".concat(w.name,".bulkPut(): ").concat(Q," of ").concat(z," operations failed"),ee)})})},hn.prototype.bulkUpdate=function(s){var d=this,x=this.core,w=s.map(function(D){return D.key}),S=s.map(function(D){return D.changes}),T=[];return this._trans("readwrite",function(D){return x.getMany({trans:D,keys:w,cache:"clone"}).then(function(L){var z=[],W=[],Y=(s.forEach(function(Q,ee){var $=Q.key,se=Q.changes,oe=L[ee];if(oe){for(var pe=0,be=Object.keys(se);pe<be.length;pe++){var he=be[pe],Se=se[he];if(he===d.schema.primKey.keyPath){if(Pt(Se,$)!==0)throw new Ve.Constraint("Cannot update primary key in bulkUpdate()")}else V(oe,he,Se)}T.push(ee),z.push($),W.push(oe)}}),z.length);return x.mutate({trans:D,type:"put",keys:z,values:W,updates:{keys:w,changeSpecs:S}}).then(function(Q){var ee=Q.numFailures,$=Q.failures;if(ee===0)return Y;for(var se=0,oe=Object.keys($);se<oe.length;se++){var pe,be=oe[se],he=T[Number(be)];he!=null&&(pe=$[be],delete $[be],$[he]=pe)}throw new Be("".concat(d.name,".bulkUpdate(): ").concat(ee," of ").concat(Y," operations failed"),$)})})})},hn.prototype.bulkDelete=function(s){var d=this,x=s.length;return this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"delete",keys:s}).then(function(S){return Wt(d,s,S)})}).then(function(w){var S=w.numFailures,T=w.failures;if(S===0)return w.lastResult;throw new Be("".concat(d.name,".bulkDelete(): ").concat(S," of ").concat(x," operations failed"),T)})};var Ea=hn;function hn(){}function Ca(s){function d(D,L){if(L){for(var z=arguments.length,W=new Array(z-1);--z;)W[z-1]=arguments[z];return x[D].subscribe.apply(null,W),s}if(typeof D=="string")return x[D]}var x={};d.addEventType=T;for(var w=1,S=arguments.length;w<S;++w)T(arguments[w]);return d;function T(D,L,z){var W,Y;if(typeof D!="object")return L=L||Rt,Y={subscribers:[],fire:z=z||rt,subscribe:function(Q){Y.subscribers.indexOf(Q)===-1&&(Y.subscribers.push(Q),Y.fire=L(Y.fire,Q))},unsubscribe:function(Q){Y.subscribers=Y.subscribers.filter(function(ee){return ee!==Q}),Y.fire=Y.subscribers.reduce(L,z)}},x[D]=d[D]=Y;v(W=D).forEach(function(Q){var ee=W[Q];if(b(ee))T(Q,W[Q][0],W[Q][1]);else{if(ee!=="asap")throw new Ve.InvalidArgument("Invalid event config");var $=T(Q,mt,function(){for(var se=arguments.length,oe=new Array(se);se--;)oe[se]=arguments[se];$.subscribers.forEach(function(pe){ae(function(){pe.apply(null,oe)})})})}})}}function Mt(s,d){return P(d).from({prototype:s}),d}function Un(s,d){return!(s.filter||s.algorithm||s.or)&&(d?s.justLimit:!s.replayFilter)}function ve(s,d){s.filter=vi(s.filter,d)}function J(s,d,x){var w=s.replayFilter;s.replayFilter=w?function(){return vi(w(),d())}:d,s.justLimit=x&&!w}function ot(s,d){if(s.isPrimKey)return d.primaryKey;var x=d.getIndexByKeyPath(s.index);if(x)return x;throw new Ve.Schema("KeyPath "+s.index+" on object store "+d.name+" is not indexed")}function er(s,d,x){var w=ot(s,d.schema);return d.openCursor({trans:x,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:w,range:s.range}})}function Cr(s,d,x,w){var S,T,D=s.replayFilter?vi(s.filter,s.replayFilter()):s.filter;return s.or?(S={},T=function(L,z,W){var Y,Q;D&&!D(z,W,function(ee){return z.stop(ee)},function(ee){return z.fail(ee)})||((Q=""+(Y=z.primaryKey))=="[object ArrayBuffer]"&&(Q=""+new Uint8Array(Y)),N(S,Q))||(S[Q]=!0,d(L,z,W))},Promise.all([s.or._iterate(T,x),wi(er(s,w,x),s.algorithm,T,!s.keysOnly&&s.valueMapper)])):wi(er(s,w,x),vi(s.algorithm,D),d,!s.keysOnly&&s.valueMapper)}function wi(s,d,x,w){var S=Tt(w?function(T,D,L){return x(w(T),D,L)}:x);return s.then(function(T){if(T)return T.start(function(){var D=function(){return T.continue()};d&&!d(T,function(L){return D=L},function(L){T.stop(L),D=rt},function(L){T.fail(L),D=rt})||S(T.value,T,function(L){return D=L}),D()})})}_t.prototype._read=function(s,d){var x=this._ctx;return x.error?x.table._trans(null,Et.bind(null,x.error)):x.table._trans("readonly",s).then(d)},_t.prototype._write=function(s){var d=this._ctx;return d.error?d.table._trans(null,Et.bind(null,d.error)):d.table._trans("readwrite",s,"locked")},_t.prototype._addAlgorithm=function(s){var d=this._ctx;d.algorithm=vi(d.algorithm,s)},_t.prototype._iterate=function(s,d){return Cr(this._ctx,s,d,this._ctx.table.core)},_t.prototype.clone=function(s){var d=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return s&&A(x,s),d._ctx=x,d},_t.prototype.raw=function(){return this._ctx.valueMapper=null,this},_t.prototype.each=function(s){var d=this._ctx;return this._read(function(x){return Cr(d,s,x,d.table.core)})},_t.prototype.count=function(s){var d=this;return this._read(function(x){var w,S=d._ctx,T=S.table.core;return Un(S,!0)?T.count({trans:x,query:{index:ot(S,T.schema),range:S.range}}).then(function(D){return Math.min(D,S.limit)}):(w=0,Cr(S,function(){return++w,!1},x,T).then(function(){return w}))}).then(s)},_t.prototype.sortBy=function(s,d){var x=s.split(".").reverse(),w=x[0],S=x.length-1;function T(z,W){return W?T(z[x[W]],W-1):z[w]}var D=this._ctx.dir==="next"?1:-1;function L(z,W){return Pt(T(z,S),T(W,S))*D}return this.toArray(function(z){return z.sort(L)}).then(d)},_t.prototype.toArray=function(s){var d=this;return this._read(function(x){var w,S,T,D=d._ctx;return D.dir==="next"&&Un(D,!0)&&0<D.limit?(w=D.valueMapper,S=ot(D,D.table.core.schema),D.table.core.query({trans:x,limit:D.limit,values:!0,query:{index:S,range:D.range}}).then(function(L){return L=L.result,w?L.map(w):L})):(T=[],Cr(D,function(L){return T.push(L)},x,D.table.core).then(function(){return T}))},s)},_t.prototype.offset=function(s){var d=this._ctx;return s<=0||(d.offset+=s,Un(d)?J(d,function(){var x=s;return function(w,S){return x===0||(x===1?--x:S(function(){w.advance(x),x=0}),!1)}}):J(d,function(){var x=s;return function(){return--x<0}})),this},_t.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),J(this._ctx,function(){var d=s;return function(x,w,S){return--d<=0&&w(S),0<=d}},!0),this},_t.prototype.until=function(s,d){return ve(this._ctx,function(x,w,S){return!s(x.value)||(w(S),d)}),this},_t.prototype.first=function(s){return this.limit(1).toArray(function(d){return d[0]}).then(s)},_t.prototype.last=function(s){return this.reverse().first(s)},_t.prototype.filter=function(s){var d;return ve(this._ctx,function(x){return s(x.value)}),(d=this._ctx).isMatch=vi(d.isMatch,s),this},_t.prototype.and=function(s){return this.filter(s)},_t.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},_t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},_t.prototype.desc=function(){return this.reverse()},_t.prototype.eachKey=function(s){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,w){s(w.key,w)})},_t.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},_t.prototype.eachPrimaryKey=function(s){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,w){s(w.primaryKey,w)})},_t.prototype.keys=function(s){var d=this._ctx,x=(d.keysOnly=!d.isMatch,[]);return this.each(function(w,S){x.push(S.key)}).then(function(){return x}).then(s)},_t.prototype.primaryKeys=function(s){var d=this._ctx;if(d.dir==="next"&&Un(d,!0)&&0<d.limit)return this._read(function(w){var S=ot(d,d.table.core.schema);return d.table.core.query({trans:w,values:!1,limit:d.limit,query:{index:S,range:d.range}})}).then(function(w){return w.result}).then(s);d.keysOnly=!d.isMatch;var x=[];return this.each(function(w,S){x.push(S.primaryKey)}).then(function(){return x}).then(s)},_t.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},_t.prototype.firstKey=function(s){return this.limit(1).keys(function(d){return d[0]}).then(s)},_t.prototype.lastKey=function(s){return this.reverse().firstKey(s)},_t.prototype.distinct=function(){var s,d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];return d&&d.multi&&(s={},ve(this._ctx,function(w){var w=w.primaryKey.toString(),S=N(s,w);return s[w]=!0,!S})),this},_t.prototype.modify=function(s){var d=this,x=this._ctx;return this._write(function(w){function S(oe,pe){var be=pe.failures;ee+=oe-pe.numFailures;for(var he=0,Se=v(be);he<Se.length;he++){var Pe=Se[he];Q.push(be[Pe])}}var T=typeof s=="function"?s:function(oe){return Pn(oe,s)},D=x.table.core,Y=D.schema.primaryKey,L=Y.outbound,z=Y.extractKey,W=200,Y=d.db._options.modifyChunkSize,Q=(Y&&(W=typeof Y=="object"?Y[D.name]||Y["*"]||200:Y),[]),ee=0,$=[],se=s===pt;return d.clone().primaryKeys().then(function(oe){function pe(he){var Se=Math.min(W,oe.length-he),Pe=oe.slice(he,he+Se);return(se?Promise.resolve([]):D.getMany({trans:w,keys:Pe,cache:"immutable"})).then(function(Ye){var We=[],Ge=[],at=L?[]:null,$e=se?Pe:[];if(!se)for(var Ke=0;Ke<Se;++Ke){var it=Ye[Ke],Nt={value:Ue(it),primKey:oe[he+Ke]};T.call(Nt,Nt.value,Nt)!==!1&&(Nt.value==null?$e.push(oe[he+Ke]):L||Pt(z(it),z(Nt.value))===0?(Ge.push(Nt.value),L&&at.push(oe[he+Ke])):($e.push(oe[he+Ke]),We.push(Nt.value)))}return Promise.resolve(0<We.length&&D.mutate({trans:w,type:"add",values:We}).then(function(Kt){for(var vt in Kt.failures)$e.splice(parseInt(vt),1);S(We.length,Kt)})).then(function(){return(0<Ge.length||be&&typeof s=="object")&&D.mutate({trans:w,type:"put",keys:at,values:Ge,criteria:be,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<he}).then(function(Kt){return S(Ge.length,Kt)})}).then(function(){return(0<$e.length||be&&se)&&D.mutate({trans:w,type:"delete",keys:$e,criteria:be,isAdditionalChunk:0<he}).then(function(Kt){return Wt(x.table,$e,Kt)}).then(function(Kt){return S($e.length,Kt)})}).then(function(){return oe.length>he+Se&&pe(he+W)})})}var be=Un(x)&&x.limit===1/0&&(typeof s!="function"||se)&&{index:x.index,range:x.range};return pe(0).then(function(){if(0<Q.length)throw new Le("Error modifying one or more objects",Q,ee,$);return oe.length})})})},_t.prototype.delete=function(){var s=this._ctx,d=s.range;return!Un(s)||s.table.schema.yProps||!s.isPrimKey&&d.type!==3?this.modify(pt):this._write(function(x){var w=s.table.core.schema.primaryKey,S=d;return s.table.core.count({trans:x,query:{index:w,range:S}}).then(function(T){return s.table.core.mutate({trans:x,type:"deleteRange",range:S}).then(function(z){var L=z.failures,z=z.numFailures;if(z)throw new Le("Could not delete some values",Object.keys(L).map(function(W){return L[W]}),T-z);return T-z})})})};var Ws=_t;function _t(){}var pt=function(s,d){return d.value=null};function Rn(s,d){return s<d?-1:s===d?0:1}function jl(s,d){return d<s?-1:s===d?0:1}function Hr(s,d,x){return s=s instanceof kn?new s.Collection(s):s,s._ctx.error=new(x||TypeError)(d),s}function fa(s){return new s.Collection(s,function(){return Yo("")}).limit(0)}function Ir($,d,x,w){var S,T,D,L,z,W,Y,Q=x.length;if(!x.every(function(oe){return typeof oe=="string"}))return Hr($,Zn);function ee(oe){S=oe==="next"?function(be){return be.toUpperCase()}:function(be){return be.toLowerCase()},T=oe==="next"?function(be){return be.toLowerCase()}:function(be){return be.toUpperCase()},D=oe==="next"?Rn:jl;var pe=x.map(function(be){return{lower:T(be),upper:S(be)}}).sort(function(be,he){return D(be.lower,he.lower)});L=pe.map(function(be){return be.upper}),z=pe.map(function(be){return be.lower}),Y=(W=oe)==="next"?"":w}ee("next");var $=new $.Collection($,function(){return ea(L[0],z[Q-1]+w)}),se=($._ondirectionchange=function(oe){ee(oe)},0);return $._addAlgorithm(function(oe,pe,be){var he=oe.key;if(typeof he=="string"){var Se=T(he);if(d(Se,z,se))return!0;for(var Pe=null,Ye=se;Ye<Q;++Ye){var We=((Ge,at,$e,Ke,it,Nt)=>{for(var Kt=Math.min(Ge.length,Ke.length),vt=-1,Bt=0;Bt<Kt;++Bt){var Bn=at[Bt];if(Bn!==Ke[Bt])return it(Ge[Bt],$e[Bt])<0?Ge.substr(0,Bt)+$e[Bt]+$e.substr(Bt+1):it(Ge[Bt],Ke[Bt])<0?Ge.substr(0,Bt)+Ke[Bt]+$e.substr(Bt+1):0<=vt?Ge.substr(0,vt)+at[vt]+$e.substr(vt+1):null;it(Ge[Bt],Bn)<0&&(vt=Bt)}return Kt<Ke.length&&Nt==="next"?Ge+$e.substr(Ge.length):Kt<Ge.length&&Nt==="prev"?Ge.substr(0,$e.length):vt<0?null:Ge.substr(0,vt)+Ke[vt]+$e.substr(vt+1)})(he,Se,L[Ye],z[Ye],D,W);We===null&&Pe===null?se=Ye+1:(Pe===null||0<D(Pe,We))&&(Pe=We)}pe(Pe!==null?function(){oe.continue(Pe+Y)}:be)}return!1}),$}function ea(s,d,x,w){return{type:2,lower:s,upper:d,lowerOpen:x,upperOpen:w}}function Yo(s){return{type:1,lower:s,upper:s}}Object.defineProperty(vn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),vn.prototype.between=function(s,d,x,w){x=x!==!1,w=w===!0;try{return 0<this._cmp(s,d)||this._cmp(s,d)===0&&(x||w)&&(!x||!w)?fa(this):new this.Collection(this,function(){return ea(s,d,!x,!w)})}catch{return Hr(this,Wn)}},vn.prototype.equals=function(s){return s==null?Hr(this,Wn):new this.Collection(this,function(){return Yo(s)})},vn.prototype.above=function(s){return s==null?Hr(this,Wn):new this.Collection(this,function(){return ea(s,void 0,!0)})},vn.prototype.aboveOrEqual=function(s){return s==null?Hr(this,Wn):new this.Collection(this,function(){return ea(s,void 0,!1)})},vn.prototype.below=function(s){return s==null?Hr(this,Wn):new this.Collection(this,function(){return ea(void 0,s,!1,!0)})},vn.prototype.belowOrEqual=function(s){return s==null?Hr(this,Wn):new this.Collection(this,function(){return ea(void 0,s)})},vn.prototype.startsWith=function(s){return typeof s!="string"?Hr(this,Zn):this.between(s,s+$r,!0,!0)},vn.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Ir(this,function(d,x){return d.indexOf(x[0])===0},[s],$r)},vn.prototype.equalsIgnoreCase=function(s){return Ir(this,function(d,x){return d===x[0]},[s],"")},vn.prototype.anyOfIgnoreCase=function(){var s=Xe.apply(we,arguments);return s.length===0?fa(this):Ir(this,function(d,x){return x.indexOf(d)!==-1},s,"")},vn.prototype.startsWithAnyOfIgnoreCase=function(){var s=Xe.apply(we,arguments);return s.length===0?fa(this):Ir(this,function(d,x){return x.some(function(w){return d.indexOf(w)===0})},s,$r)},vn.prototype.anyOf=function(){var s,d,x=this,w=Xe.apply(we,arguments),S=this._cmp;try{w.sort(S)}catch{return Hr(this,Wn)}return w.length===0?fa(this):((s=new this.Collection(this,function(){return ea(w[0],w[w.length-1])}))._ondirectionchange=function(T){S=T==="next"?x._ascending:x._descending,w.sort(S)},d=0,s._addAlgorithm(function(T,D,L){for(var z=T.key;0<S(z,w[d]);)if(++d===w.length)return D(L),!1;return S(z,w[d])===0||(D(function(){T.continue(w[d])}),!1)}),s)},vn.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},vn.prototype.noneOf=function(){var s=Xe.apply(we,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Hr(this,Wn)}var d=s.reduce(function(x,w){return x?x.concat([[x[x.length-1][1],w]]):[[-1/0,w]]},null);return d.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},vn.prototype.inAnyRange=function(s,be){var x=this,w=this._cmp,S=this._ascending,T=this._descending,D=this._min,L=this._max;if(s.length===0)return fa(this);if(!s.every(function(he){return he[0]!==void 0&&he[1]!==void 0&&S(he[0],he[1])<=0}))return Hr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ve.InvalidArgument);var z=!be||be.includeLowers!==!1,W=be&&be.includeUppers===!0,Y,Q=S;function ee(he,Se){return Q(he[0],Se[0])}try{(Y=s.reduce(function(he,Se){for(var Pe=0,Ye=he.length;Pe<Ye;++Pe){var We=he[Pe];if(w(Se[0],We[1])<0&&0<w(Se[1],We[0])){We[0]=D(We[0],Se[0]),We[1]=L(We[1],Se[1]);break}}return Pe===Ye&&he.push(Se),he},[])).sort(ee)}catch{return Hr(this,Wn)}var $=0,se=W?function(he){return 0<S(he,Y[$][1])}:function(he){return 0<=S(he,Y[$][1])},oe=z?function(he){return 0<T(he,Y[$][0])}:function(he){return 0<=T(he,Y[$][0])},pe=se,be=new this.Collection(this,function(){return ea(Y[0][0],Y[Y.length-1][1],!z,!W)});return be._ondirectionchange=function(he){Q=he==="next"?(pe=se,S):(pe=oe,T),Y.sort(ee)},be._addAlgorithm(function(he,Se,Pe){for(var Ye,We=he.key;pe(We);)if(++$===Y.length)return Se(Pe),!1;return!se(Ye=We)&&!oe(Ye)||(x._cmp(We,Y[$][1])===0||x._cmp(We,Y[$][0])===0||Se(function(){Q===S?he.continue(Y[$][0]):he.continue(Y[$][1])}),!1)}),be},vn.prototype.startsWithAnyOf=function(){var s=Xe.apply(we,arguments);return s.every(function(d){return typeof d=="string"})?s.length===0?fa(this):this.inAnyRange(s.map(function(d){return[d,d+$r]})):Hr(this,"startsWithAnyOf() only works with strings")};var kn=vn;function vn(){}function lr(s){return Tt(function(d){return gt(d),s(d.target.error),!1})}function gt(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var zi="storagemutated",St="x-storagemutated-1",tn=Ca(null,zi),Zs=(Sr.prototype._lock=function(){return q(!He.global),++this._reculock,this._reculock!==1||He.global||(He.lockOwnerFor=this),this},Sr.prototype._unlock=function(){if(q(!He.global),--this._reculock==0)for(He.global||(He.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{ua(s[1],s[0])}catch{}}return this},Sr.prototype._locked=function(){return this._reculock&&He.lockOwnerFor!==this},Sr.prototype.create=function(s){var d=this;if(this.mode){var x=this.db.idbdb,w=this.db._state.dbOpenError;if(q(!this.idbtrans),!s&&!x)switch(w&&w.name){case"DatabaseClosedError":throw new Ve.DatabaseClosed(w);case"MissingAPIError":throw new Ve.MissingAPI(w.message,w);default:throw new Ve.OpenFailed(w)}if(!this.active)throw new Ve.TransactionInactive;q(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tt(function(S){gt(S),d._reject(s.error)}),s.onabort=Tt(function(S){gt(S),d.active&&d._reject(new Ve.Abort(s.error)),d.active=!1,d.on("abort").fire(S)}),s.oncomplete=Tt(function(){d.active=!1,d._resolve(),"mutatedParts"in s&&tn.storagemutated.fire(s.mutatedParts)})}return this},Sr.prototype._promise=function(s,d,x){var w,S=this;return s==="readwrite"&&this.mode!=="readwrite"?Et(new Ve.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Ze(function(T,D){S._blockedFuncs.push([function(){S._promise(s,d,x).then(T,D)},He])}):x?En(function(){var T=new Ze(function(D,L){S._lock();var z=d(D,L,S);z&&z.then&&z.then(D,L)});return T.finally(function(){return S._unlock()}),T._lib=!0,T}):((w=new Ze(function(T,D){var L=d(T,D,S);L&&L.then&&L.then(T,D)}))._lib=!0,w):Et(new Ve.TransactionInactive)},Sr.prototype._root=function(){return this.parent?this.parent._root():this},Sr.prototype.waitFor=function(s){var d,x=this._root(),w=Ze.resolve(s),S=(x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return w}):(x._waitingFor=w,x._waitingQueue=[],d=x.idbtrans.objectStore(x.storeNames[0]),(function T(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(d.get(-1/0).onsuccess=T)})()),x._waitingFor);return new Ze(function(T,D){w.then(function(L){return x._waitingQueue.push(Tt(T.bind(null,L)))},function(L){return x._waitingQueue.push(Tt(D.bind(null,L)))}).finally(function(){x._waitingFor===S&&(x._waitingFor=null)})})},Sr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ve.Abort))},Sr.prototype.table=function(s){var d=this._memoizedTables||(this._memoizedTables={});if(N(d,s))return d[s];var x=this.schema[s];if(x)return(x=new this.db.Table(s,x,this)).core=this.db.core.table(s),d[s]=x;throw new Ve.NotFound("Table "+s+" not part of transaction")},Sr);function Sr(){}function da(s,d,x,w,S,T,D,L){return{name:s,keyPath:d,unique:x,multi:w,auto:S,compound:T,src:(x&&!D?"&":"")+(w?"*":"")+(S?"++":"")+Sa(d),type:L}}function Sa(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Vi(s,d,x){return{name:s,primKey:d,indexes:x,mappedClass:null,idxByName:(w=function(S){return[S.name,S]},x.reduce(function(S,T,D){return T=w(T,D),T&&(S[T[0]]=T[1]),S},{}))};var w}var Aa=function(s){try{return s.only([[]]),Aa=function(){return[[]]},[[]]}catch{return Aa=function(){return $r},$r}};function _a(s){return s==null?function(){}:typeof s=="string"?(d=s).split(".").length===1?function(x){return x[d]}:function(x){return re(x,d)}:function(x){return re(x,s)};var d}function Ua(s){return[].slice.call(s)}var Qs=0;function Xn(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function ha(s,d,z){function w(se){if(se.type===3)return null;if(se.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=se.lower,ee=se.upper,$=se.lowerOpen,se=se.upperOpen;return Q===void 0?ee===void 0?null:d.upperBound(ee,!!se):ee===void 0?d.lowerBound(Q,!!$):d.bound(Q,ee,!!$,!!se)}function S(Y){var Q,ee=Y.name;return{name:ee,schema:Y,mutate:function($){var se=$.trans,oe=$.type,pe=$.keys,be=$.values,he=$.range;return new Promise(function(Se,Pe){Se=Tt(Se);var Ye=se.objectStore(ee),We=Ye.keyPath==null,Ge=oe==="put"||oe==="add";if(!Ge&&oe!=="delete"&&oe!=="deleteRange")throw new Error("Invalid operation type: "+oe);var at,$e=(pe||be||{length:1}).length;if(pe&&be&&pe.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if($e===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function Ke(Cn){++Kt,gt(Cn)}var it=[],Nt=[],Kt=0;if(oe==="deleteRange"){if(he.type===4)return Se({numFailures:Kt,failures:Nt,results:[],lastResult:void 0});he.type===3?it.push(at=Ye.clear()):it.push(at=Ye.delete(w(he)))}else{var We=Ge?We?[be,pe]:[be,null]:[pe,null],vt=We[0],Bt=We[1];if(Ge)for(var Bn=0;Bn<$e;++Bn)it.push(at=Bt&&Bt[Bn]!==void 0?Ye[oe](vt[Bn],Bt[Bn]):Ye[oe](vt[Bn])),at.onerror=Ke;else for(Bn=0;Bn<$e;++Bn)it.push(at=Ye[oe](vt[Bn])),at.onerror=Ke}function ra(Cn){Cn=Cn.target.result,it.forEach(function(Ki,as){return Ki.error!=null&&(Nt[as]=Ki.error)}),Se({numFailures:Kt,failures:Nt,results:oe==="delete"?pe:it.map(function(Ki){return Ki.result}),lastResult:Cn})}at.onerror=function(Cn){Ke(Cn),ra(Cn)},at.onsuccess=ra})},getMany:function($){var se=$.trans,oe=$.keys;return new Promise(function(pe,be){pe=Tt(pe);for(var he,Se=se.objectStore(ee),Pe=oe.length,Ye=new Array(Pe),We=0,Ge=0,at=function(it){it=it.target,Ye[it._pos]=it.result,++Ge===We&&pe(Ye)},$e=lr(be),Ke=0;Ke<Pe;++Ke)oe[Ke]!=null&&((he=Se.get(oe[Ke]))._pos=Ke,he.onsuccess=at,he.onerror=$e,++We);We===0&&pe(Ye)})},get:function($){var se=$.trans,oe=$.key;return new Promise(function(pe,be){pe=Tt(pe);var he=se.objectStore(ee).get(oe);he.onsuccess=function(Se){return pe(Se.target.result)},he.onerror=lr(be)})},query:(Q=L,function($){return new Promise(function(se,oe){se=Tt(se);var pe,be,he,Ge=$.trans,Se=$.values,Pe=$.limit,We=$.query,Ye=Pe===1/0?void 0:Pe,at=We.index,We=We.range,Ge=Ge.objectStore(ee),Ge=at.isPrimaryKey?Ge:Ge.index(at.name),at=w(We);if(Pe===0)return se({result:[]});Q?((We=Se?Ge.getAll(at,Ye):Ge.getAllKeys(at,Ye)).onsuccess=function($e){return se({result:$e.target.result})},We.onerror=lr(oe)):(pe=0,be=!Se&&"openKeyCursor"in Ge?Ge.openKeyCursor(at):Ge.openCursor(at),he=[],be.onsuccess=function($e){var Ke=be.result;return!Ke||(he.push(Se?Ke.value:Ke.primaryKey),++pe===Pe)?se({result:he}):void Ke.continue()},be.onerror=lr(oe))})}),openCursor:function($){var se=$.trans,oe=$.values,pe=$.query,be=$.reverse,he=$.unique;return new Promise(function(Se,Pe){Se=Tt(Se);var Ge=pe.index,Ye=pe.range,We=se.objectStore(ee),We=Ge.isPrimaryKey?We:We.index(Ge.name),Ge=be?he?"prevunique":"prev":he?"nextunique":"next",at=!oe&&"openKeyCursor"in We?We.openKeyCursor(w(Ye),Ge):We.openCursor(w(Ye),Ge);at.onerror=lr(Pe),at.onsuccess=Tt(function($e){var Ke,it,Nt,Kt,vt=at.result;vt?(vt.___id=++Qs,vt.done=!1,Ke=vt.continue.bind(vt),it=(it=vt.continuePrimaryKey)&&it.bind(vt),Nt=vt.advance.bind(vt),Kt=function(){throw new Error("Cursor not stopped")},vt.trans=se,vt.stop=vt.continue=vt.continuePrimaryKey=vt.advance=function(){throw new Error("Cursor not started")},vt.fail=Tt(Pe),vt.next=function(){var Bt=this,Bn=1;return this.start(function(){return Bn--?Bt.continue():Bt.stop()}).then(function(){return Bt})},vt.start=function(Bt){function Bn(){if(at.result)try{Bt()}catch(Cn){vt.fail(Cn)}else vt.done=!0,vt.start=function(){throw new Error("Cursor behind last entry")},vt.stop()}var ra=new Promise(function(Cn,Ki){Cn=Tt(Cn),at.onerror=lr(Ki),vt.fail=Ki,vt.stop=function(as){vt.stop=vt.continue=vt.continuePrimaryKey=vt.advance=Kt,Cn(as)}});return at.onsuccess=Tt(function(Cn){at.onsuccess=Bn,Bn()}),vt.continue=Ke,vt.continuePrimaryKey=it,vt.advance=Nt,Bn(),ra},Se(vt)):Se(null)},Pe)})},count:function($){var se=$.query,oe=$.trans,pe=se.index,be=se.range;return new Promise(function(he,Se){var Pe=oe.objectStore(ee),Pe=pe.isPrimaryKey?Pe:Pe.index(pe.name),Ye=w(be),Ye=Ye?Pe.count(Ye):Pe.count();Ye.onsuccess=Tt(function(We){return he(We.target.result)}),Ye.onerror=lr(Se)})}}}T=z,D=Ua((z=s).objectStoreNames);var T,z={schema:{name:z.name,tables:D.map(function(Y){return T.objectStore(Y)}).map(function(Y){var Q=Y.keyPath,ee=Y.autoIncrement,se=b(Q),$={},se={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:se,keyPath:Q,autoIncrement:ee,unique:!0,extractKey:_a(Q)},indexes:Ua(Y.indexNames).map(function(oe){return Y.index(oe)}).map(function(he){var Se=he.name,pe=he.unique,be=he.multiEntry,he=he.keyPath,Se={name:Se,compound:b(he),keyPath:he,unique:pe,multiEntry:be,extractKey:_a(he)};return $[Xn(he)]=Se}),getIndexByKeyPath:function(oe){return $[Xn(oe)]}};return $[":id"]=se.primaryKey,Q!=null&&($[Xn(Q)]=se.primaryKey),se})},hasGetAll:0<D.length&&"getAll"in T.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},D=z.schema,L=z.hasGetAll,z=D.tables.map(S),W={};return z.forEach(function(Y){return W[Y.name]=Y}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(Y){if(W[Y])return W[Y];throw new Error("Table '".concat(Y,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Aa(d),schema:D}}function pr(s,d,x,w){return x=x.IDBKeyRange,d=ha(d,x,w),{dbcore:s.dbcore.reduce(function(S,T){return T=T.create,c(c({},S),T(S))},d)}}function za(s,d){var x=d.db,x=pr(s._middlewares,x,s._deps,d);s.core=x.dbcore,s.tables.forEach(function(w){var S=w.name;s.core.schema.tables.some(function(T){return T.name===S})&&(w.core=s.core.table(S),s[S]instanceof s.Table)&&(s[S].core=w.core)})}function uo(s,d,x,w){x.forEach(function(S){var T=w[S];d.forEach(function(D){var L=(function z(W,Y){return j(W,Y)||(W=E(W))&&z(W,Y)})(D,S);(!L||"value"in L&&L.value===void 0)&&(D===s.Transaction.prototype||D instanceof s.Transaction?U(D,S,{get:function(){return this.table(S)},set:function(z){M(this,S,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):D[S]=new s.Table(S,T))})})}function Hi(s,d){d.forEach(function(x){for(var w in x)x[w]instanceof s.Table&&delete x[w]})}function $s(s,d){return s._cfg.version-d._cfg.version}function fo(s,d,x,w){var S=s._dbSchema,T=(x.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Vi("$meta",kt("")[0],[]),s._storeNames.push("$meta")),s._createTransaction("readwrite",s._storeNames,S)),D=(T.create(x),T._completion.catch(w),T._reject.bind(T)),L=He.transless||He;En(function(){if(He.trans=T,He.transless=L,d!==0)return za(s,x),W=d,((z=T).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(Y){return Y??W}):Ze.resolve(W)).then(function(pe){var Q=s,ee=pe,$=T,se=x,oe=[],pe=Q._versions,be=Q._dbSchema=Gi(0,Q.idbdb,se);return(pe=pe.filter(function(he){return he._cfg.version>=ee})).length===0?Ze.resolve():(pe.forEach(function(he){oe.push(function(){var Se,Pe,Ye,We=be,Ge=he._cfg.dbschema,at=(_e(Q,We,se),_e(Q,Ge,se),be=Q._dbSchema=Ge,on(We,Ge)),$e=(at.add.forEach(function(Ke){Zo(se,Ke[0],Ke[1].primKey,Ke[1].indexes)}),at.change.forEach(function(Ke){if(Ke.recreate)throw new Ve.Upgrade("Not yet support for changing primary key");var it=se.objectStore(Ke.name);Ke.add.forEach(function(Nt){return ma(it,Nt)}),Ke.change.forEach(function(Nt){it.deleteIndex(Nt.name),ma(it,Nt)}),Ke.del.forEach(function(Nt){return it.deleteIndex(Nt)})}),he._cfg.contentUpgrade);if($e&&he._cfg.version>ee)return za(Q,se),$._memoizedTables={},Se=Z(Ge),at.del.forEach(function(Ke){Se[Ke]=We[Ke]}),Hi(Q,[Q.Transaction.prototype]),uo(Q,[Q.Transaction.prototype],v(Se),Se),$.schema=Se,(Pe=ne($e))&&Jt(),Ge=Ze.follow(function(){var Ke;(Ye=$e($))&&Pe&&(Ke=sr.bind(null,null),Ye.then(Ke,Ke))}),Ye&&typeof Ye.then=="function"?Ze.resolve(Ye):Ge.then(function(){return Ye})}),oe.push(function(Se){var Pe,Ye,We=he._cfg.dbschema;Pe=We,Ye=Se,[].slice.call(Ye.db.objectStoreNames).forEach(function(Ge){return Pe[Ge]==null&&Ye.db.deleteObjectStore(Ge)}),Hi(Q,[Q.Transaction.prototype]),uo(Q,[Q.Transaction.prototype],Q._storeNames,Q._dbSchema),$.schema=Q._dbSchema}),oe.push(function(Se){Q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Q.idbdb.version/10)===he._cfg.version?(Q.idbdb.deleteObjectStore("$meta"),delete Q._dbSchema.$meta,Q._storeNames=Q._storeNames.filter(function(Pe){return Pe!=="$meta"})):Se.objectStore("$meta").put(he._cfg.version,"version"))})}),(function he(){return oe.length?Ze.resolve(oe.shift()($.idbtrans)).then(he):Ze.resolve()})().then(function(){ho(be,se)}))}).catch(D);var z,W;v(S).forEach(function(Y){Zo(x,Y,S[Y].primKey,S[Y].indexes)}),za(s,x),Ze.follow(function(){return s.on.populate.fire(T)}).catch(D)})}function Wo(s,d){ho(s._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var x=Gi(0,s.idbdb,d);_e(s,s._dbSchema,d);for(var w=0,S=on(x,s._dbSchema).change;w<S.length;w++){var T=(D=>{if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=d.objectStore(D.name);D.add.forEach(function(z){Qe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(z.src)),ma(L,z)})})(S[w]);if(typeof T=="object")return T.value}}function on(s,d){var x,w={del:[],add:[],change:[]};for(x in s)d[x]||w.del.push(x);for(x in d){var S=s[x],T=d[x];if(S){var D={name:x,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||S.primKey.auto!==T.primKey.auto)D.recreate=!0,w.change.push(D);else{var L=S.idxByName,z=T.idxByName,W=void 0;for(W in L)z[W]||D.del.push(W);for(W in z){var Y=L[W],Q=z[W];Y?Y.src!==Q.src&&D.change.push(Q):D.add.push(Q)}(0<D.del.length||0<D.add.length||0<D.change.length)&&w.change.push(D)}}else w.add.push([x,T])}return w}function Zo(s,d,x,w){var S=s.db.createObjectStore(d,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});w.forEach(function(T){return ma(S,T)})}function ho(s,d){v(s).forEach(function(x){d.db.objectStoreNames.contains(x)||(Qe&&console.debug("Dexie: Creating missing table",x),Zo(d,x,s[x].primKey,s[x].indexes))})}function ma(s,d){s.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Gi(s,d,x){var w={};return G(d.objectStoreNames,0).forEach(function(S){for(var T=x.objectStore(S),D=da(Sa(W=T.keyPath),W||"",!0,!1,!!T.autoIncrement,W&&typeof W!="string",!0),L=[],z=0;z<T.indexNames.length;++z){var Y=T.index(T.indexNames[z]),W=Y.keyPath,Y=da(Y.name,W,!!Y.unique,!!Y.multiEntry,!1,W&&typeof W!="string",!1);L.push(Y)}w[S]=Vi(S,D,L)}),w}function _e(s,d,x){for(var w=x.db.objectStoreNames,S=0;S<w.length;++S){var T=w[S],D=x.objectStore(T);s._hasGetAll="getAll"in D;for(var L=0;L<D.indexNames.length;++L){var z,W=D.indexNames[L],Y=D.index(W).keyPath,Y=typeof Y=="string"?Y:"["+G(Y).join("+")+"]";d[T]&&(z=d[T].idxByName[Y])&&(z.name=W,delete d[T].idxByName[Y],d[T].idxByName[W]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&y.WorkerGlobalScope&&y instanceof y.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function kt(s){return s.split(",").map(function(d,x){var S=d.split(":"),w=(w=S[1])==null?void 0:w.trim(),S=(d=S[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return da(S,T||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),b(T),x===0,w)})}Va.prototype._createTableSchema=Vi,Va.prototype._parseIndexSyntax=kt,Va.prototype._parseStoresSpec=function(s,d){var x=this;v(s).forEach(function(w){if(s[w]!==null){var S=x._parseIndexSyntax(s[w]),T=S.shift();if(!T)throw new Ve.Schema("Invalid schema for table "+w+": "+s[w]);if(T.unique=!0,T.multi)throw new Ve.Schema("Primary key cannot be multiEntry*");S.forEach(function(D){if(D.auto)throw new Ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ve.Schema("Index must have a name and cannot be an empty string")}),T=x._createTableSchema(w,T,S),d[w]=T}})},Va.prototype.stores=function(x){var d=this.db,x=(this._cfg.storesSource=this._cfg.storesSource?A(this._cfg.storesSource,x):x,d._versions),w={},S={};return x.forEach(function(T){A(w,T._cfg.storesSource),S=T._cfg.dbschema={},T._parseStoresSpec(w,S)}),d._dbSchema=S,Hi(d,[d._allTables,d,d.Transaction.prototype]),uo(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],v(S),S),d._storeNames=v(S),this},Va.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ca(this._cfg.contentUpgrade||rt,s),this};var gr=Va;function Va(){}function Qo(s,d){var x=s._dbNamesDB;return x||(x=s._dbNamesDB=new Ta(co,{addons:[],indexedDB:s,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function $o(s){return s&&typeof s.databases=="function"}function Js(s){return En(function(){return He.letThrough=!0,s()})}function el(s){return!("from"in s)}var cr=function(s,d){var x;if(!this)return x=new cr,s&&"d"in s&&A(x,s),x;A(this,arguments.length?{d:1,from:s,to:1<arguments.length?d:s}:{d:0})};function zn(s,d,x){var w=Pt(d,x);if(!isNaN(w)){if(0<w)throw RangeError();if(el(s))return A(s,{from:d,to:x,d:1});var w=s.l,S=s.r;if(Pt(x,s.from)<0)return w?zn(w,d,x):s.l={from:d,to:x,d:1,l:null,r:null},oi(s);if(0<Pt(d,s.to))return S?zn(S,d,x):s.r={from:d,to:x,d:1,l:null,r:null},oi(s);Pt(d,s.from)<0&&(s.from=d,s.l=null,s.d=S?S.d+1:1),0<Pt(x,s.to)&&(s.to=x,s.r=null,s.d=s.l?s.l.d+1:1),d=!s.r,w&&!s.l&&Ha(s,w),S&&d&&Ha(s,S)}}function Ha(s,d){el(d)||(function x(w,S){var T=S.from,D=S.l,L=S.r;zn(w,T,S.to),D&&x(w,D),L&&x(w,L)})(s,d)}function Vn(s,d){var x=Ei(d),w=x.next();if(!w.done)for(var S=w.value,T=Ei(s),D=T.next(S.from),L=D.value;!w.done&&!D.done;){if(Pt(L.from,S.to)<=0&&0<=Pt(L.to,S.from))return!0;Pt(S.from,L.from)<0?S=(w=x.next(L.from)).value:L=(D=T.next(S.from)).value}return!1}function Ei(s){var d=el(s)?null:{s:0,n:s};return{next:function(x){for(var w=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,w)for(;d.n.l&&Pt(x,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!w||Pt(x,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function oi(s){var d,x,w,S=(((S=s.r)==null?void 0:S.d)||0)-(((S=s.l)==null?void 0:S.d)||0),S=1<S?"r":S<-1?"l":"";S&&(d=S=="r"?"l":"r",x=c({},s),w=s[S],s.from=w.from,s.to=w.to,s[S]=w[S],x[S]=w[d],(s[d]=x).d=mn(x)),s.d=mn(s)}function mn(x){var d=x.r,x=x.l;return(d?x?Math.max(d.d,x.d):d.d:x?x.d:0)+1}function yt(s,d){return v(d).forEach(function(x){s[x]?Ha(s[x],d[x]):s[x]=(function w(S){var T,D,L={};for(T in S)N(S,T)&&(D=S[T],L[T]=!D||typeof D!="object"||Re.has(D.constructor)?D:w(D));return L})(d[x])}),s}function tl(s,d){return s.all||d.all||Object.keys(s).some(function(x){return d[x]&&Vn(d[x],s[x])})}k(cr.prototype,((zt={add:function(s){return Ha(this,s),this},addKey:function(s){return zn(this,s,s),this},addKeys:function(s){var d=this;return s.forEach(function(x){return zn(d,x,x)}),this},hasKey:function(s){var d=Ei(this).next(s).value;return d&&Pt(d.from,s)<=0&&0<=Pt(d.to,s)}})[ie]=function(){return Ei(this)},zt));var sn={},Ga={},si=!1;function Jo(s){yt(Ga,s),si||(si=!0,setTimeout(function(){si=!1,ta(Ga,!(Ga={}))},0))}function ta(s,d){d===void 0&&(d=!1);var x=new Set;if(s.all)for(var w=0,S=Object.values(sn);w<S.length;w++)es(L=S[w],s,x,d);else for(var T in s){var D,L,T=/^idb\:\/\/(.*)\/(.*)\//.exec(T);T&&(D=T[1],T=T[2],L=sn["idb://".concat(D,"/").concat(T)])&&es(L,s,x,d)}x.forEach(function(z){return z()})}function es(s,d,x,w){for(var S=[],T=0,D=Object.entries(s.queries.query);T<D.length;T++){for(var L=D[T],z=L[0],W=[],Y=0,Q=L[1];Y<Q.length;Y++){var ee=Q[Y];tl(d,ee.obsSet)?ee.subscribers.forEach(function(pe){return x.add(pe)}):w&&W.push(ee)}w&&S.push([z,W])}if(w)for(var $=0,se=S;$<se.length;$++){var oe=se[$],z=oe[0],W=oe[1];s.queries.query[z]=W}}function Fl(s){var d=s._state,x=s._deps.indexedDB;if(d.isBeingOpened||s.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?Et(d.dbOpenError):s});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var w=d.openCanceller,S=Math.round(10*s.verno),T=!1;function D(){if(d.openCanceller!==w)throw new Ve.DatabaseClosed("db.open() was cancelled")}function L(){return new Ze(function(ee,$){if(D(),!x)throw new Ve.MissingAPI;var se=s.name,oe=d.autoSchema||!S?x.open(se):x.open(se,S);if(!oe)throw new Ve.MissingAPI;oe.onerror=lr($),oe.onblocked=Tt(s._fireOnBlocked),oe.onupgradeneeded=Tt(function(pe){var be;Y=oe.transaction,d.autoSchema&&!s._options.allowEmptyDB?(oe.onerror=gt,Y.abort(),oe.result.close(),(be=x.deleteDatabase(se)).onsuccess=be.onerror=Tt(function(){$(new Ve.NoSuchDatabase("Database ".concat(se," doesnt exist")))})):(Y.onerror=lr($),be=pe.oldVersion>Math.pow(2,62)?0:pe.oldVersion,Q=be<1,s.idbdb=oe.result,T&&Wo(s,Y),fo(s,be/10,Y,$))},$),oe.onsuccess=Tt(function(){Y=null;var pe,be,he,Se,Pe,Ye,We=s.idbdb=oe.result,Ge=G(We.objectStoreNames);if(0<Ge.length)try{var at=We.transaction((Pe=Ge).length===1?Pe[0]:Pe,"readonly");if(d.autoSchema)Ye=We,Se=at,(he=s).verno=Ye.version/10,Se=he._dbSchema=Gi(0,Ye,Se),he._storeNames=G(Ye.objectStoreNames,0),uo(he,[he._allTables],v(Se),Se);else if(_e(s,s._dbSchema,at),be=at,((be=on(Gi(0,(pe=s).idbdb,be),pe._dbSchema)).add.length||be.change.some(function($e){return $e.add.length||$e.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),We.close(),S=We.version+1,T=!0,ee(L());za(s,at)}catch{}je.push(s),We.onversionchange=Tt(function($e){d.vcFired=!0,s.on("versionchange").fire($e)}),We.onclose=Tt(function(){s.close({disableAutoOpen:!1})}),Q&&(Ge=s._deps,Pe=se,$o(Ye=Ge.indexedDB)||Pe===co||Qo(Ye,Ge.IDBKeyRange).put({name:Pe}).catch(rt)),ee()},$)}).catch(function(ee){switch(ee==null?void 0:ee.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<S)return S=0,L()}return Ze.reject(ee)})}var z,W=d.dbReadyResolve,Y=null,Q=!1;return Ze.race([w,(typeof navigator>"u"?Ze.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ee){function $(){return indexedDB.databases().finally(ee)}z=setInterval($,100),$()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(L)]).then(function(){return D(),d.onReadyBeingFired=[],Ze.resolve(Js(function(){return s.on.ready.fire(s.vip)})).then(function ee(){var $;if(0<d.onReadyBeingFired.length)return $=d.onReadyBeingFired.reduce(ca,rt),d.onReadyBeingFired=[],Ze.resolve(Js(function(){return $(s.vip)})).then(ee)})}).finally(function(){d.openCanceller===w&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(ee){d.dbOpenError=ee;try{Y&&Y.abort()}catch{}return w===d.openCanceller&&s._close(),Et(ee)}).finally(function(){d.openComplete=!0,W()}).then(function(){var ee;return Q&&(ee={},s.tables.forEach(function($){$.schema.indexes.forEach(function(se){se.name&&(ee["idb://".concat(s.name,"/").concat($.name,"/").concat(se.name)]=new cr(-1/0,[[[]]]))}),ee["idb://".concat(s.name,"/").concat($.name,"/")]=ee["idb://".concat(s.name,"/").concat($.name,"/:dels")]=new cr(-1/0,[[[]]])}),tn(zi).fire(ee),ta(ee,!0)),s})}function Ci(s){function d(T){return s.next(T)}var x=S(d),w=S(function(T){return s.throw(T)});function S(T){return function(L){var L=T(L),z=L.value;return L.done?z:z&&typeof z.then=="function"?z.then(x,w):b(z)?Promise.all(z).then(x,w):x(z)}}return S(d)()}function qa(s,d,x){for(var w=b(s)?s.slice():[s],S=0;S<x;++S)w.push(d);return w}var Ul={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return c(c({},s),{table:function(w){var x=s.table(w),w=x.schema,S={},T=[];function D(ee,$,se){var he=Xn(ee),oe=S[he]=S[he]||[],pe=ee==null?0:typeof ee=="string"?1:ee.length,be=0<$,he=c(c({},se),{name:be?"".concat(he,"(virtual-from:").concat(se.name,")"):se.name,lowLevelIndex:se,isVirtual:be,keyTail:$,keyLength:pe,extractKey:_a(ee),unique:!be&&se.unique});return oe.push(he),he.isPrimaryKey||T.push(he),1<pe&&D(pe===2?ee[0]:ee.slice(0,pe-1),$+1,se),oe.sort(function(Se,Pe){return Se.keyTail-Pe.keyTail}),he}var L=D(w.primaryKey.keyPath,0,w.primaryKey);S[":id"]=[L];for(var z=0,W=w.indexes;z<W.length;z++){var Y=W[z];D(Y.keyPath,0,Y)}function Q(ee){var $,se=ee.query.index;return se.isVirtual?c(c({},ee),{query:{index:se.lowLevelIndex,range:($=ee.query.range,se=se.keyTail,{type:$.type===1?2:$.type,lower:qa($.lower,$.lowerOpen?s.MAX_KEY:s.MIN_KEY,se),lowerOpen:!0,upper:qa($.upper,$.upperOpen?s.MIN_KEY:s.MAX_KEY,se),upperOpen:!0})}}):ee}return c(c({},x),{schema:c(c({},w),{primaryKey:L,indexes:T,getIndexByKeyPath:function(ee){return(ee=S[Xn(ee)])&&ee[0]}}),count:function(ee){return x.count(Q(ee))},query:function(ee){return x.query(Q(ee))},openCursor:function(ee){var $=ee.query.index,se=$.keyTail,oe=$.keyLength;return $.isVirtual?x.openCursor(Q(ee)).then(function(be){return be&&pe(be)}):x.openCursor(ee);function pe(be){return Object.create(be,{continue:{value:function(he){he!=null?be.continue(qa(he,ee.reverse?s.MAX_KEY:s.MIN_KEY,se)):ee.unique?be.continue(be.key.slice(0,oe).concat(ee.reverse?s.MIN_KEY:s.MAX_KEY,se)):be.continue()}},continuePrimaryKey:{value:function(he,Se){be.continuePrimaryKey(qa(he,s.MAX_KEY,se),Se)}},primaryKey:{get:function(){return be.primaryKey}},key:{get:function(){var he=be.key;return oe===1?he[0]:he.slice(0,oe)}},value:{get:function(){return be.value}}})}}})}})}};function ts(s,d,x,w){return x=x||{},w=w||"",v(s).forEach(function(S){var T,D,L;N(d,S)?(T=s[S],D=d[S],typeof T=="object"&&typeof D=="object"&&T&&D?(L=ce(T))!==ce(D)?x[w+S]=d[S]:L==="Object"?ts(T,D,x,w+S+"."):T!==D&&(x[w+S]=d[S]):T!==D&&(x[w+S]=d[S])):x[w+S]=void 0}),v(d).forEach(function(S){N(s,S)||(x[w+S]=d[S])}),x}function Xa(s,d){return d.type==="delete"?d.keys:d.keys||d.values.map(s.extractKey)}var ns={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return c(c({},s),{table:function(d){var x=s.table(d),w=x.schema.primaryKey;return c(c({},x),{mutate:function(S){var T=He.trans,D=T.table(d).hook,L=D.deleting,z=D.creating,W=D.updating;switch(S.type){case"add":if(z.fire===rt)break;return T._promise("readwrite",function(){return Y(S)},!0);case"put":if(z.fire===rt&&W.fire===rt)break;return T._promise("readwrite",function(){return Y(S)},!0);case"delete":if(L.fire===rt)break;return T._promise("readwrite",function(){return Y(S)},!0);case"deleteRange":if(L.fire===rt)break;return T._promise("readwrite",function(){return(function Q(ee,$,se){return x.query({trans:ee,values:!1,query:{index:w,range:$},limit:se}).then(function(oe){var pe=oe.result;return Y({type:"delete",keys:pe,trans:ee}).then(function(be){return 0<be.numFailures?Promise.reject(be.failures[0]):pe.length<se?{failures:[],numFailures:0,lastResult:void 0}:Q(ee,c(c({},$),{lower:pe[pe.length-1],lowerOpen:!0}),se)})})})(S.trans,S.range,1e4)},!0)}return x.mutate(S);function Y(Q){var ee,$,se,oe=He.trans,pe=Q.keys||Xa(w,Q);if(pe)return(Q=Q.type==="add"||Q.type==="put"?c(c({},Q),{keys:pe}):c({},Q)).type!=="delete"&&(Q.values=h([],Q.values)),Q.keys&&(Q.keys=h([],Q.keys)),ee=x,se=pe,(($=Q).type==="add"?Promise.resolve([]):ee.getMany({trans:$.trans,keys:se,cache:"immutable"})).then(function(be){var he=pe.map(function(Se,Pe){var Ye,We,Ge,at=be[Pe],$e={onerror:null,onsuccess:null};return Q.type==="delete"?L.fire.call($e,Se,at,oe):Q.type==="add"||at===void 0?(Ye=z.fire.call($e,Se,Q.values[Pe],oe),Se==null&&Ye!=null&&(Q.keys[Pe]=Se=Ye,w.outbound||V(Q.values[Pe],w.keyPath,Se))):(Ye=ts(at,Q.values[Pe]),(We=W.fire.call($e,Ye,Se,at,oe))&&(Ge=Q.values[Pe],Object.keys(We).forEach(function(Ke){N(Ge,Ke)?Ge[Ke]=We[Ke]:V(Ge,Ke,We[Ke])}))),$e});return x.mutate(Q).then(function(Se){for(var Pe=Se.failures,Ye=Se.results,We=Se.numFailures,Se=Se.lastResult,Ge=0;Ge<pe.length;++Ge){var at=(Ye||pe)[Ge],$e=he[Ge];at==null?$e.onerror&&$e.onerror(Pe[Ge]):$e.onsuccess&&$e.onsuccess(Q.type==="put"&&be[Ge]?Q.values[Ge]:at)}return{failures:Pe,results:Ye,numFailures:We,lastResult:Se}}).catch(function(Se){return he.forEach(function(Pe){return Pe.onerror&&Pe.onerror(Se)}),Promise.reject(Se)})});throw new Error("Keys missing")}}})}})}};function nl(s,d,x){try{if(!d||d.keys.length<s.length)return null;for(var w=[],S=0,T=0;S<d.keys.length&&T<s.length;++S)Pt(d.keys[S],s[T])===0&&(w.push(x?Ue(d.values[S]):d.values[S]),++T);return w.length===s.length?w:null}catch{return null}}var qi={stack:"dbcore",level:-1,create:function(s){return{table:function(d){var x=s.table(d);return c(c({},x),{getMany:function(w){var S;return w.cache?(S=nl(w.keys,w.trans._cache,w.cache==="clone"))?Ze.resolve(S):x.getMany(w).then(function(T){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?Ue(T):T},T}):x.getMany(w)},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),x.mutate(w)}})}}}};function Si(s,d){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Ka(s,d){switch(s){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var rs={stack:"dbcore",level:0,name:"Observability",create:function(s){var d=s.schema.name,x=new cr(s.MIN_KEY,s.MAX_KEY);return c(c({},s),{transaction:function(w,S,T){if(He.subscr&&S!=="readonly")throw new Ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(He.querier));return s.transaction(w,S,T)},table:function(w){function S(pe){var oe,pe=pe.query;return[oe=pe.index,new cr((oe=(pe=pe.range).lower)!=null?oe:s.MIN_KEY,(oe=pe.upper)!=null?oe:s.MAX_KEY)]}var T=s.table(w),D=T.schema,L=D.primaryKey,z=D.indexes,W=L.extractKey,Y=L.outbound,Q=L.autoIncrement&&z.filter(function(se){return se.compound&&se.keyPath.includes(L.keyPath)}),ee=c(c({},T),{mutate:function(se){function oe(it){return it="idb://".concat(d,"/").concat(w,"/").concat(it),Pe[it]||(Pe[it]=new cr)}var pe,be,he,Se=se.trans,Pe=se.mutatedParts||(se.mutatedParts={}),Ye=oe(""),We=oe(":dels"),Ge=se.type,$e=se.type==="deleteRange"?[se.range]:se.type==="delete"?[se.keys]:se.values.length<50?[Xa(L,se).filter(function(it){return it}),se.values]:[],at=$e[0],$e=$e[1],Ke=se.trans._cache;return b(at)?(Ye.addKeys(at),(Ge=Ge==="delete"||at.length===$e.length?nl(at,Ke):null)||We.addKeys(at),(Ge||$e)&&(pe=oe,be=Ge,he=$e,D.indexes.forEach(function(it){var Nt=pe(it.name||"");function Kt(Bt){return Bt!=null?it.extractKey(Bt):null}function vt(Bt){it.multiEntry&&b(Bt)?Bt.forEach(function(Bn){return Nt.addKey(Bn)}):Nt.addKey(Bt)}(be||he).forEach(function(Bt,Cn){var ra=be&&Kt(be[Cn]),Cn=he&&Kt(he[Cn]);Pt(ra,Cn)!==0&&(ra!=null&&vt(ra),Cn!=null)&&vt(Cn)})}))):at?($e={from:(Ke=at.lower)!=null?Ke:s.MIN_KEY,to:(Ge=at.upper)!=null?Ge:s.MAX_KEY},We.add($e),Ye.add($e)):(Ye.add(x),We.add(x),D.indexes.forEach(function(it){return oe(it.name).add(x)})),T.mutate(se).then(function(it){return!at||se.type!=="add"&&se.type!=="put"||(Ye.addKeys(it.results),Q&&Q.forEach(function(Nt){for(var Kt=se.values.map(function(ra){return Nt.extractKey(ra)}),vt=Nt.keyPath.findIndex(function(ra){return ra===L.keyPath}),Bt=0,Bn=it.results.length;Bt<Bn;++Bt)Kt[Bt][vt]=it.results[Bt];oe(Nt.name).addKeys(Kt)})),Se.mutatedParts=yt(Se.mutatedParts||{},Pe),it})}}),$={get:function(se){return[L,new cr(se.key)]},getMany:function(se){return[L,new cr().addKeys(se.keys)]},count:S,query:S,openCursor:S};return v($).forEach(function(se){ee[se]=function(oe){var pe=He.subscr,be=!!pe,he=Si(He,T)&&Ka(se,oe)?oe.obsSet={}:pe;if(be){var Se,pe=function($e){return $e="idb://".concat(d,"/").concat(w,"/").concat($e),he[$e]||(he[$e]=new cr)},Pe=pe(""),Ye=pe(":dels"),be=$[se](oe),We=be[0],be=be[1];if((se==="query"&&We.isPrimaryKey&&!oe.values?Ye:pe(We.name||"")).add(be),!We.isPrimaryKey){if(se!=="count")return Se=se==="query"&&Y&&oe.values&&T.query(c(c({},oe),{values:!1})),T[se].apply(this,arguments).then(function($e){if(se==="query"){if(Y&&oe.values)return Se.then(function(Kt){return Kt=Kt.result,Pe.addKeys(Kt),$e});var Ke=oe.values?$e.result.map(W):$e.result;(oe.values?Pe:Ye).addKeys(Ke)}else{var it,Nt;if(se==="openCursor")return Nt=oe.values,(it=$e)&&Object.create(it,{key:{get:function(){return Ye.addKey(it.primaryKey),it.key}},primaryKey:{get:function(){var Kt=it.primaryKey;return Ye.addKey(Kt),Kt}},value:{get:function(){return Nt&&Pe.addKey(it.primaryKey),it.value}}})}return $e});Ye.add(x)}}return T[se].apply(this,arguments)}}),ee}})}};function Gr(s,d,x){var w;return x.numFailures===0?d:d.type==="deleteRange"||(w=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1,x.numFailures===w)?null:(w=c({},d),b(w.keys)&&(w.keys=w.keys.filter(function(S,T){return!(T in x.failures)})),"values"in w&&b(w.values)&&(w.values=w.values.filter(function(S,T){return!(T in x.failures)})),w)}function mo(s,d){return x=s,((w=d).lower===void 0||(w.lowerOpen?0<Pt(x,w.lower):0<=Pt(x,w.lower)))&&(x=s,(w=d).upper===void 0||(w.upperOpen?Pt(x,w.upper)<0:Pt(x,w.upper)<=0));var x,w}function na(s,d,x,w,S,T){var D,L,z,W,Y,Q;return!x||x.length===0||(D=d.query.index,L=D.multiEntry,z=d.query.range,W=w.schema.primaryKey.extractKey,Y=D.extractKey,Q=(D.lowLevelIndex||D).extractKey,(w=x.reduce(function(ee,$){var se=ee,oe=[];if($.type==="add"||$.type==="put")for(var pe=new cr,be=$.values.length-1;0<=be;--be){var he,Se=$.values[be],Pe=W(Se);!pe.hasKey(Pe)&&(he=Y(Se),L&&b(he)?he.some(function($e){return mo($e,z)}):mo(he,z))&&(pe.addKey(Pe),oe.push(Se))}switch($.type){case"add":var Ye=new cr().addKeys(d.values?ee.map(function(Ke){return W(Ke)}):ee),se=ee.concat(d.values?oe.filter(function(Ke){return Ke=W(Ke),!Ye.hasKey(Ke)&&(Ye.addKey(Ke),!0)}):oe.map(function(Ke){return W(Ke)}).filter(function(Ke){return!Ye.hasKey(Ke)&&(Ye.addKey(Ke),!0)}));break;case"put":var We=new cr().addKeys($.values.map(function(Ke){return W(Ke)}));se=ee.filter(function(Ke){return!We.hasKey(d.values?W(Ke):Ke)}).concat(d.values?oe:oe.map(function(Ke){return W(Ke)}));break;case"delete":var Ge=new cr().addKeys($.keys);se=ee.filter(function(Ke){return!Ge.hasKey(d.values?W(Ke):Ke)});break;case"deleteRange":var at=$.range;se=ee.filter(function(Ke){return!mo(W(Ke),at)})}return se},s))===s)?s:(w.sort(function(ee,$){return Pt(Q(ee),Q($))||Pt(W(ee),W($))}),d.limit&&d.limit<1/0&&(w.length>d.limit?w.length=d.limit:s.length===d.limit&&w.length<d.limit&&(S.dirty=!0)),T?Object.freeze(w):w)}function Xi(s,d){return Pt(s.lower,d.lower)===0&&Pt(s.upper,d.upper)===0&&!!s.lowerOpen==!!d.lowerOpen&&!!s.upperOpen==!!d.upperOpen}function Ai(s,d){return((x,w,S,T)=>{if(x===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((x=Pt(x,w))===0){if(S&&T)return 0;if(S)return 1;if(T)return-1}return x})(s.lower,d.lower,s.lowerOpen,d.lowerOpen)<=0&&0<=((x,w,S,T)=>{if(x===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((x=Pt(x,w))===0){if(S&&T)return 0;if(S)return-1;if(T)return 1}return x})(s.upper,d.upper,s.upperOpen,d.upperOpen)}function Yc(s,d,x,w){s.subscribers.add(x),w.addEventListener("abort",function(){var S,T;s.subscribers.delete(x),s.subscribers.size===0&&(S=s,T=d,setTimeout(function(){S.subscribers.size===0&&Ne(T,S)},3e3))})}var po={stack:"dbcore",level:0,name:"Cache",create:function(s){var d=s.schema.name;return c(c({},s),{transaction:function(x,w,S){var T,D,L=s.transaction(x,w,S);return w==="readwrite"&&(S=(T=new AbortController).signal,L.addEventListener("abort",(D=function(z){return function(){if(T.abort(),w==="readwrite"){for(var W=new Set,Y=0,Q=x;Y<Q.length;Y++){var ee=Q[Y],$=sn["idb://".concat(d,"/").concat(ee)];if($){var se=s.table(ee),oe=$.optimisticOps.filter(function(it){return it.trans===L});if(L._explicit&&z&&L.mutatedParts)for(var pe=0,be=Object.values($.queries.query);pe<be.length;pe++)for(var he=0,Se=(We=be[pe]).slice();he<Se.length;he++)tl((Ge=Se[he]).obsSet,L.mutatedParts)&&(Ne(We,Ge),Ge.subscribers.forEach(function(it){return W.add(it)}));else if(0<oe.length){$.optimisticOps=$.optimisticOps.filter(function(it){return it.trans!==L});for(var Pe=0,Ye=Object.values($.queries.query);Pe<Ye.length;Pe++)for(var We,Ge,at,$e=0,Ke=(We=Ye[Pe]).slice();$e<Ke.length;$e++)(Ge=Ke[$e]).res!=null&&L.mutatedParts&&(z&&!Ge.dirty?(at=Object.isFrozen(Ge.res),at=na(Ge.res,Ge.req,oe,se,Ge,at),Ge.dirty?(Ne(We,Ge),Ge.subscribers.forEach(function(it){return W.add(it)})):at!==Ge.res&&(Ge.res=at,Ge.promise=Ze.resolve({result:at}))):(Ge.dirty&&Ne(We,Ge),Ge.subscribers.forEach(function(it){return W.add(it)})))}}}W.forEach(function(it){return it()})}}})(!1),{signal:S}),L.addEventListener("error",D(!1),{signal:S}),L.addEventListener("complete",D(!0),{signal:S})),L},table:function(x){var w=s.table(x),S=w.schema.primaryKey;return c(c({},w),{mutate:function(T){var D,L=He.trans;return!S.outbound&&L.db._options.cache!=="disabled"&&!L.explicit&&L.idbtrans.mode==="readwrite"&&(D=sn["idb://".concat(d,"/").concat(x)])?(L=w.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||Xa(S,T).some(function(z){return z==null}))?(D.optimisticOps.push(T),T.mutatedParts&&Jo(T.mutatedParts),L.then(function(z){0<z.numFailures&&(Ne(D.optimisticOps,T),(z=Gr(0,T,z))&&D.optimisticOps.push(z),T.mutatedParts)&&Jo(T.mutatedParts)}),L.catch(function(){Ne(D.optimisticOps,T),T.mutatedParts&&Jo(T.mutatedParts)})):L.then(function(z){var W=Gr(0,c(c({},T),{values:T.values.map(function(Y,Q){var ee;return z.failures[Q]?Y:(V(ee=(ee=S.keyPath)!=null&&ee.includes(".")?Ue(Y):c({},Y),S.keyPath,z.results[Q]),ee)})}),z);D.optimisticOps.push(W),queueMicrotask(function(){return T.mutatedParts&&Jo(T.mutatedParts)})}),L):w.mutate(T)},query:function(T){var D,L,z,W,Y,Q,ee;return Si(He,w)&&Ka("query",T)?(D=((z=He.trans)==null?void 0:z.db._options.cache)==="immutable",L=(z=He).requery,z=z.signal,Q=(($,se,oe,pe)=>{var be=sn["idb://".concat($,"/").concat(se)];if(!be)return[];if(!($=be.queries[oe]))return[null,!1,be,null];var he=$[(pe.query?pe.query.index.name:null)||""];if(!he)return[null,!1,be,null];switch(oe){case"query":var Se=he.find(function(Pe){return Pe.req.limit===pe.limit&&Pe.req.values===pe.values&&Xi(Pe.req.query.range,pe.query.range)});return Se?[Se,!0,be,he]:[he.find(function(Pe){return("limit"in Pe.req?Pe.req.limit:1/0)>=pe.limit&&(!pe.values||Pe.req.values)&&Ai(Pe.req.query.range,pe.query.range)}),!1,be,he];case"count":return Se=he.find(function(Pe){return Xi(Pe.req.query.range,pe.query.range)}),[Se,!!Se,be,he]}})(d,x,"query",T),ee=Q[0],W=Q[2],Y=Q[3],ee&&Q[1]?ee.obsSet=T.obsSet:(Q=w.query(T).then(function($){var se=$.result;if(ee&&(ee.res=se),D){for(var oe=0,pe=se.length;oe<pe;++oe)Object.freeze(se[oe]);Object.freeze(se)}else $.result=Ue(se);return $}).catch(function($){return Y&&ee&&Ne(Y,ee),Promise.reject($)}),ee={obsSet:T.obsSet,promise:Q,subscribers:new Set,type:"query",req:T,dirty:!1},Y?Y.push(ee):(Y=[ee],(W=W||(sn["idb://".concat(d,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=Y)),Yc(ee,Y,L,z),ee.promise.then(function($){return{result:na($.result,T,W==null?void 0:W.optimisticOps,w,ee,D)}})):w.query(T)}})}})}};function Pr(s,d){return new Proxy(s,{get:function(x,w,S){return w==="db"?d:Reflect.get(x,w,S)}})}On.prototype.version=function(s){if(isNaN(s)||s<.1)throw new Ve.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new Ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var d=this._versions,x=d.filter(function(w){return w._cfg.version===s})[0];return x||(x=new this.Version(s),d.push(x),d.sort($s),x.stores({}),this._state.autoSchema=!1),x},On.prototype._whenReady=function(s){var d=this;return this.idbdb&&(this._state.openComplete||He.letThrough||this._vip)?s():new Ze(function(x,w){if(d._state.openComplete)return w(new Ve.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void w(new Ve.DatabaseClosed);d.open().catch(rt)}d._state.dbReadyPromise.then(x,w)}).then(s)},On.prototype.use=function(S){var d=S.stack,x=S.create,w=S.level,S=S.name,T=(S&&this.unuse({stack:d,name:S}),this._middlewares[d]||(this._middlewares[d]=[]));return T.push({stack:d,create:x,level:w??10,name:S}),T.sort(function(D,L){return D.level-L.level}),this},On.prototype.unuse=function(s){var d=s.stack,x=s.name,w=s.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(S){return w?S.create!==w:!!x&&S.name!==x})),this},On.prototype.open=function(){var s=this;return ua(Gt,function(){return Fl(s)})},On.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,d=je.indexOf(this);if(0<=d&&je.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new Ze(function(x){s.dbReadyResolve=x}),s.openCanceller=new Ze(function(x,w){s.cancelOpen=w}))},On.prototype.close=function(d){var d=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,x=this._state;d?(x.isBeingOpened&&x.cancelOpen(new Ve.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new Ve.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},On.prototype.delete=function(s){var d=this,x=(s===void 0&&(s={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),w=this._state;return new Ze(function(S,T){function D(){d.close(s);var L=d._deps.indexedDB.deleteDatabase(d.name);L.onsuccess=Tt(function(){var z,W,Y;z=d._deps,W=d.name,$o(Y=z.indexedDB)||W===co||Qo(Y,z.IDBKeyRange).delete(W).catch(rt),S()}),L.onerror=lr(T),L.onblocked=d._fireOnBlocked}if(x)throw new Ve.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(D):D()})},On.prototype.backendDB=function(){return this.idbdb},On.prototype.isOpen=function(){return this.idbdb!==null},On.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},On.prototype.hasFailed=function(){return this._state.dbOpenError!==null},On.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(On.prototype,"tables",{get:function(){var s=this;return v(this._allTables).map(function(d){return s._allTables[d]})},enumerable:!1,configurable:!0}),On.prototype.transaction=function(){var s=(function(d,x,w){var S=arguments.length;if(S<2)throw new Ve.InvalidArgument("Too few arguments");for(var T=new Array(S-1);--S;)T[S-1]=arguments[S];return w=T.pop(),[d,fe(T),w]}).apply(this,arguments);return this._transaction.apply(this,s)},On.prototype._transaction=function(s,d,x){var w,S,T=this,D=He.trans,L=(D&&D.db===this&&s.indexOf("!")===-1||(D=null),s.indexOf("?")!==-1);s=s.replace("!","").replace("?","");try{if(S=d.map(function(W){if(W=W instanceof T.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),s=="r"||s===dn)w=dn;else{if(s!="rw"&&s!=zr)throw new Ve.InvalidArgument("Invalid transaction mode: "+s);w=zr}if(D){if(D.mode===dn&&w===zr){if(!L)throw new Ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");D=null}D&&S.forEach(function(W){if(D&&D.storeNames.indexOf(W)===-1){if(!L)throw new Ve.SubTransaction("Table "+W+" not included in parent transaction.");D=null}}),L&&D&&!D.active&&(D=null)}}catch(W){return D?D._promise(null,function(Y,Q){Q(W)}):Et(W)}var z=(function W(Y,Q,ee,$,se){return Ze.resolve().then(function(){var he=He.transless||He,oe=Y._createTransaction(Q,ee,Y._dbSchema,$),he=(oe.explicit=!0,{trans:oe,transless:he});if($)oe.idbtrans=$.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(Se){return Se.name===et.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return W(Y,Q,ee,null,se)})):Et(Se)}var pe,be=ne(se),he=(be&&Jt(),Ze.follow(function(){var Se;(pe=se.call(oe,oe))&&(be?(Se=sr.bind(null,null),pe.then(Se,Se)):typeof pe.next=="function"&&typeof pe.throw=="function"&&(pe=Ci(pe)))},he));return(pe&&typeof pe.then=="function"?Ze.resolve(pe).then(function(Se){return oe.active?Se:Et(new Ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):he.then(function(){return pe})).then(function(Se){return $&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),Et(Se)})})}).bind(null,this,w,S,D,x);return D?D._promise(w,z,"lock"):He.trans?ua(He.transless,function(){return T._whenReady(z)}):this._whenReady(z)},On.prototype.table=function(s){if(N(this._allTables,s))return this._allTables[s];throw new Ve.InvalidTable("Table ".concat(s," does not exist"))};var Ta=On;function On(s,d){var x,w,S,T,D,L=this,z=(this._middlewares={},this.verno=0,On.dependencies),z=(this._options=d=c({addons:On.addons,autoOpen:!0,indexedDB:z.indexedDB,IDBKeyRange:z.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},d.addons),W=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen}),Y=(W.dbReadyPromise=new Ze(function(Q){W.dbReadyResolve=Q}),W.openCanceller=new Ze(function(Q,ee){W.cancelOpen=ee}),this._state=W,this.name=s,this.on=Ca(this,"populate","blocked","versionchange","close",{ready:[ca,rt]}),this.once=function(Q,ee){var $=function(){for(var se=[],oe=0;oe<arguments.length;oe++)se[oe]=arguments[oe];L.on(Q).unsubscribe($),ee.apply(L,se)};return L.on(Q,$)},this.on.ready.subscribe=H(this.on.ready.subscribe,function(Q){return function(ee,$){On.vip(function(){var se,oe=L._state;oe.openComplete?(oe.dbOpenError||Ze.resolve().then(ee),$&&Q(ee)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(ee),$&&Q(ee)):(Q(ee),se=L,$||Q(function pe(){se.on.ready.unsubscribe(ee),se.on.ready.unsubscribe(pe)}))})}}),this.Collection=(x=this,Mt(Ws.prototype,function(pe,oe){this.db=x;var $=en,se=null;if(oe)try{$=oe()}catch(he){se=he}var oe=pe._ctx,pe=oe.table,be=pe.hook.reading.fire;this._ctx={table:pe,index:oe.index,isPrimKey:!oe.index||pe.schema.primKey.keyPath&&oe.index===pe.schema.primKey.name,range:$,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:se,or:oe.or,valueMapper:be!==mt?be:null}})),this.Table=(w=this,Mt(Ea.prototype,function(Q,ee,$){this.db=w,this._tx=$,this.name=Q,this.schema=ee,this.hook=w._allTables[Q]?w._allTables[Q].hook:Ca(null,{creating:[vr,rt],reading:[An,mt],updating:[Yt,rt],deleting:[_n,rt]})})),this.Transaction=(S=this,Mt(Zs.prototype,function(Q,ee,$,se,oe){var pe=this;Q!=="readonly"&&ee.forEach(function(be){be=(be=$[be])==null?void 0:be.yProps,be&&(ee=ee.concat(be.map(function(he){return he.updatesTable})))}),this.db=S,this.mode=Q,this.storeNames=ee,this.schema=$,this.chromeTransactionDurability=se,this.idbtrans=null,this.on=Ca(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ze(function(be,he){pe._resolve=be,pe._reject=he}),this._completion.then(function(){pe.active=!1,pe.on.complete.fire()},function(be){var he=pe.active;return pe.active=!1,pe.on.error.fire(be),pe.parent?pe.parent._reject(be):he&&pe.idbtrans&&pe.idbtrans.abort(),Et(be)})})),this.Version=(T=this,Mt(gr.prototype,function(Q){this.db=T,this._cfg={version:Q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(D=this,Mt(kn.prototype,function(Q,ee,$){if(this.db=D,this._ctx={table:Q,index:ee===":id"?null:ee,or:$},this._cmp=this._ascending=Pt,this._descending=function(se,oe){return Pt(oe,se)},this._max=function(se,oe){return 0<Pt(se,oe)?se:oe},this._min=function(se,oe){return Pt(se,oe)<0?se:oe},this._IDBKeyRange=D._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ve.MissingAPI})),this.on("versionchange",function(Q){0<Q.newVersion?console.warn("Another connection wants to upgrade database '".concat(L.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(L.name,"'. Closing db now to resume the delete request.")),L.close({disableAutoOpen:!1})}),this.on("blocked",function(Q){!Q.newVersion||Q.newVersion<Q.oldVersion?console.warn("Dexie.delete('".concat(L.name,"') was blocked")):console.warn("Upgrade '".concat(L.name,"' blocked by other connection holding version ").concat(Q.oldVersion/10))}),this._maxKey=Aa(d.IDBKeyRange),this._createTransaction=function(Q,ee,$,se){return new L.Transaction(Q,ee,$,L._options.chromeTransactionDurability,se)},this._fireOnBlocked=function(Q){L.on("blocked").fire(Q),je.filter(function(ee){return ee.name===L.name&&ee!==L&&!ee._state.vcFired}).map(function(ee){return ee.on("versionchange").fire(Q)})},this.use(qi),this.use(po),this.use(rs),this.use(Ul),this.use(ns),new Proxy(this,{get:function(Q,ee,$){var se;return ee==="_vip"||(ee==="table"?function(oe){return Pr(L.table(oe),Y)}:(se=Reflect.get(Q,ee,$))instanceof Ea?Pr(se,Y):ee==="tables"?se.map(function(oe){return Pr(oe,Y)}):ee==="_createTransaction"?function(){return Pr(se.apply(this,arguments),Y)}:se)}}));this.vip=Y,z.forEach(function(Q){return Q(L)})}var Na,jt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",go=(F.prototype.subscribe=function(s,d,x){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:d,complete:x})},F.prototype[jt]=function(){return this},F);function F(s){this._subscribe=s}try{Na={indexedDB:y.indexedDB||y.mozIndexedDB||y.webkitIndexedDB||y.msIndexedDB,IDBKeyRange:y.IDBKeyRange||y.webkitIDBKeyRange}}catch{Na={indexedDB:null,IDBKeyRange:null}}function n(s){var d,x=!1,w=new go(function(S){var T=ne(s),D,L=!1,z={},W={},Y={get closed(){return L},unsubscribe:function(){L||(L=!0,D&&D.abort(),Q&&tn.storagemutated.unsubscribe($))}},Q=(S.start&&S.start(Y),!1),ee=function(){return qn(se)},$=function(oe){yt(z,oe),tl(W,z)&&ee()},se=function(){var oe,pe,be;!L&&Na.indexedDB&&(z={},oe={},D&&D.abort(),D=new AbortController,be=(he=>{var Se=Tn();try{T&&Jt();var Pe=En(s,he);return Pe=T?Pe.finally(sr):Pe}finally{Se&&Nn()}})(pe={subscr:oe,signal:D.signal,requery:ee,querier:s,trans:null}),Promise.resolve(be).then(function(he){x=!0,d=he,L||pe.signal.aborted||(z={},(Se=>{for(var Pe in Se)if(N(Se,Pe))return;return 1})(W=oe)||Q||(tn(zi,$),Q=!0),qn(function(){return!L&&S.next&&S.next(he)}))},function(he){x=!1,["DatabaseClosedError","AbortError"].includes(he==null?void 0:he.name)||L||qn(function(){L||S.error&&S.error(he)})}))};return setTimeout(ee,0),Y});return w.hasValue=function(){return x},w.getValue=function(){return d},w}var o=Ta;function l(s){var d=m;try{m=!0,tn.storagemutated.fire(s),ta(s,!0)}finally{m=d}}k(o,c(c({},de),{delete:function(s){return new o(s,{addons:[]}).delete()},exists:function(s){return new o(s,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return d=o.dependencies,x=d.indexedDB,d=d.IDBKeyRange,($o(x)?Promise.resolve(x.databases()).then(function(w){return w.map(function(S){return S.name}).filter(function(S){return S!==co})}):Qo(x,d).toCollection().primaryKeys()).then(s)}catch{return Et(new Ve.MissingAPI)}var d,x},defineClass:function(){return function(s){A(this,s)}},ignoreTransaction:function(s){return He.trans?ua(He.transless,s):s()},vip:Js,async:function(s){return function(){try{var d=Ci(s.apply(this,arguments));return d&&typeof d.then=="function"?d:Ze.resolve(d)}catch(x){return Et(x)}}},spawn:function(s,d,x){try{var w=Ci(s.apply(x,d||[]));return w&&typeof w.then=="function"?w:Ze.resolve(w)}catch(S){return Et(S)}},currentTransaction:{get:function(){return He.trans||null}},waitFor:function(s,d){return s=Ze.resolve(typeof s=="function"?o.ignoreTransaction(s):s).timeout(d||6e4),He.trans?He.trans.waitFor(s):s},Promise:Ze,debug:{get:function(){return Qe},set:function(s){ai(s)}},derive:P,extend:A,props:k,override:H,Events:Ca,on:tn,liveQuery:n,extendObservabilitySet:yt,getByKeyPath:re,setByKeyPath:V,delByKeyPath:function(s,d){typeof d=="string"?V(s,d,void 0):"length"in d&&[].map.call(d,function(x){V(s,x,void 0)})},shallowClone:Z,deepClone:Ue,getObjectDiff:ts,cmp:Pt,asap:ae,minKey:-1/0,addons:[],connections:je,errnames:et,dependencies:Na,cache:sn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,d,x){return s+d/Math.pow(10,2*x)})})),o.maxKey=Aa(o.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tn(zi,function(s){m||(s=new CustomEvent(St,{detail:s}),m=!0,dispatchEvent(s),m=!1)}),addEventListener(St,function(s){s=s.detail,m||l(s)}));var f,m=!1,g=function(){};return typeof BroadcastChannel<"u"&&((g=function(){(f=new BroadcastChannel(St)).onmessage=function(s){return s.data&&l(s.data)}})(),typeof f.unref=="function"&&f.unref(),tn(zi,function(s){m||f.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Ta.disableBfCache&&s.persisted){Qe&&console.debug("Dexie: handling persisted pagehide"),f!=null&&f.close();for(var d=0,x=je;d<x.length;d++)x[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Ta.disableBfCache&&s.persisted&&(Qe&&console.debug("Dexie: handling persisted pageshow"),g(),l({all:new cr(-1/0,[[]])}))})),Ze.rejectionMapper=function(s,d){return!s||s instanceof Oe||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ht[s.name]?s:(d=new ht[s.name](d||s.message,s),"stack"in s&&U(d,"stack",{get:function(){return this.inner.stack}}),d)},ai(Qe),c(Ta,Object.freeze({__proto__:null,Dexie:Ta,Entity:qt,PropModification:Vr,RangeSet:cr,add:function(s){return new Vr({add:s})},cmp:Pt,default:Ta,liveQuery:n,mergeRanges:Ha,rangesOverlap:Vn,remove:function(s){return new Vr({remove:s})},replacePrefix:function(s,d){return new Vr({replacePrefix:[s,d]})}}),{default:Ta}),Ta})})(Pd)),Pd.exports}var p4=m4();const Hm=Dp(p4),u2=Symbol.for("Dexie"),eh=globalThis[u2]||(globalThis[u2]=Hm);if(Hm.semVer!==eh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Hm.semVer} and ${eh.semVer}`);const{liveQuery:tB,mergeRanges:nB,rangesOverlap:rB,RangeSet:aB,cmp:iB,Entity:oB,PropModification:sB,replacePrefix:lB,add:cB,remove:uB,DexieYProvider:fB}=eh,g4={employees:1440*60*1e3,teams:1440*60*1e3,jobFunctions:10080*60*1e3,sites:1440*60*1e3,projects:1440*60*1e3,companies:10080*60*1e3,timeRecords:360*60*1e3,dailyReports:360*60*1e3,messages:3600*1e3,constructionDocuments:1440*60*1e3,mapElements:1440*60*1e3,towerTechnicalData:10080*60*1e3};class y4 extends eh{constructor(){super("TeamTrackDB");ga(this,"storage");ga(this,"syncQueue");ga(this,"cacheKeys");this.version(1).stores({storage:"key",syncQueue:"++id, table, operation, timestamp"}),this.version(2).stores({storage:"key",syncQueue:"++id, table, operation, timestamp",cacheKeys:"key, tableName, expiresAt"})}}const nr=new y4;nr.open().catch(t=>{console.error("Failed to open IndexedDB:",t),(t.name==="SecurityError"||t.name==="UnknownError")&&console.warn("[ORION DB] Acesso ao banco negado pelo navegador. Verifique se cookies de terceiros esto bloqueados ou se est em modo incgnito restritivo.")});class x4{toSafeObject(r){try{if(r==null||typeof r!="object")return r;if(r&&typeof r=="object"&&"value"in r&&(typeof r.peek=="function"||r._version!==void 0))return this.toSafeObject(r.value);if(typeof r.toJSON=="function")return JSON.parse(JSON.stringify(r));if(Array.isArray(r))return r.map(c=>this.toSafeObject(c));const i={};return Object.keys(r).forEach(c=>{const h=r[c];typeof h!="function"&&(i[c]=this.toSafeObject(h))}),i}catch{try{return JSON.parse(JSON.stringify(r))}catch(c){return console.error("[StorageService] Critical serialization failure:",c),{__error:"Unserializable data",type:typeof r}}}}async setItem(r,i){try{const c=this.toSafeObject(i);await nr.storage.put({key:r,value:c,updatedAt:Date.now()})}catch(c){console.error(`[StorageService] Error saving key "${r}" to IndexedDB:`,c)}}async getItem(r){try{const i=await nr.storage.get(r);return i?i.value:null}catch(i){return console.error(`[StorageService] Error reading key "${r}" from IndexedDB:`,i),null}}async removeItem(r){try{await nr.storage.delete(r)}catch(i){console.error(`[StorageService] Error removing key "${r}" from IndexedDB:`,i)}}async addToSyncQueue(r){try{const i=r.data?this.toSafeObject(r.data):void 0,c=r.id||r.itemId;await nr.syncQueue.add({operation:r.operation||"insert",table:r.table,data:i,itemId:typeof c=="string"||typeof c=="number"?String(c):void 0,timestamp:Date.now()})}catch(i){console.error(`[StorageService] Error adding table "${r.table}" to sync queue:`,i)}}async getSyncQueue(){try{return await nr.syncQueue.toArray()}catch(r){return console.error("[StorageService] Error reading sync queue:",r),[]}}async removeFromSyncQueue(r){try{await nr.syncQueue.delete(r)}catch(i){console.error(`[StorageService] Error removing item ${r} from sync queue:`,i)}}async clearSyncQueue(){try{await nr.syncQueue.clear()}catch(r){console.error("[StorageService] Error clearing sync queue:",r)}}async clearAll(){try{await Promise.all([nr.storage.clear(),nr.syncQueue.clear()])}catch(r){console.error("[StorageService] Error clearing all local data:",r)}}}const ut=new x4,no=or({}),xl=or({}),Di=or(null),th=or(!0),dB=Vo(()=>{const t=Di.value;if(!t)return!1;const r=["HELPER_SYSTEM","SUPER_ADMIN_GOD","SOCIO_DIRETOR","ADMIN","TI_SOFTWARE"],i=(t.role||"").toUpperCase();return!!t.isSystemAdmin||r.includes(i)}),Xu=Vo(()=>{const t=Di.value;if(!t)return!1;const r=(t.role||"").toUpperCase(),i=r==="SUPER_ADMIN_GOD"||r==="HELPER_SYSTEM",c=!!no.value["*"]||!!no.value["system.full_access"];return i||c||!!no.value["system.is_protected"]});Vo(()=>!!(xl.value.showAdminMenu||no.value["system.is_corporate"]));Vo(()=>!!(xl.value.showAdminMenu||no.value["ui.admin_access"]));const vl=(t,r)=>Xu.value?!0:!!no.value[t],Gm=t=>!!xl.value[t],kd=or(!1),Oc=or(!1),Ic=or(!1),Vp=or(!1),Bd=or(!1),Mc=or(!1),dw=Vo(()=>{if(!Di.value)return!1;const t=!Oc.value,r=!Mc.value;return t||r});function hw(t){var r,i,c="";if(typeof t=="string"||typeof t=="number")c+=t;else if(typeof t=="object")if(Array.isArray(t)){var h=t.length;for(r=0;r<h;r++)t[r]&&(i=hw(t[r]))&&(c&&(c+=" "),c+=i)}else for(i in t)t[i]&&(c&&(c+=" "),c+=i);return c}function mw(){for(var t,r,i=0,c="",h=arguments.length;i<h;i++)(t=arguments[i])&&(r=hw(t))&&(c&&(c+=" "),c+=r);return c}const Hp="-",v4=t=>{const r=w4(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:c}=t;return{getClassGroupId:v=>{const b=v.split(Hp);return b[0]===""&&b.length!==1&&b.shift(),pw(b,r)||b4(v)},getConflictingClassGroupIds:(v,b)=>{const A=i[v]||[];return b&&c[v]?[...A,...c[v]]:A}}},pw=(t,r)=>{var v;if(t.length===0)return r.classGroupId;const i=t[0],c=r.nextPart.get(i),h=c?pw(t.slice(1),c):void 0;if(h)return h;if(r.validators.length===0)return;const y=t.join(Hp);return(v=r.validators.find(({validator:b})=>b(y)))==null?void 0:v.classGroupId},f2=/^\[(.+)\]$/,b4=t=>{if(f2.test(t)){const r=f2.exec(t)[1],i=r==null?void 0:r.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},w4=t=>{const{theme:r,prefix:i}=t,c={nextPart:new Map,validators:[]};return C4(Object.entries(t.classGroups),i).forEach(([y,v])=>{qm(v,c,y,r)}),c},qm=(t,r,i,c)=>{t.forEach(h=>{if(typeof h=="string"){const y=h===""?r:d2(r,h);y.classGroupId=i;return}if(typeof h=="function"){if(E4(h)){qm(h(c),r,i,c);return}r.validators.push({validator:h,classGroupId:i});return}Object.entries(h).forEach(([y,v])=>{qm(v,d2(r,y),i,c)})})},d2=(t,r)=>{let i=t;return r.split(Hp).forEach(c=>{i.nextPart.has(c)||i.nextPart.set(c,{nextPart:new Map,validators:[]}),i=i.nextPart.get(c)}),i},E4=t=>t.isThemeGetter,C4=(t,r)=>r?t.map(([i,c])=>{const h=c.map(y=>typeof y=="string"?r+y:typeof y=="object"?Object.fromEntries(Object.entries(y).map(([v,b])=>[r+v,b])):y);return[i,h]}):t,S4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,i=new Map,c=new Map;const h=(y,v)=>{i.set(y,v),r++,r>t&&(r=0,c=i,i=new Map)};return{get(y){let v=i.get(y);if(v!==void 0)return v;if((v=c.get(y))!==void 0)return h(y,v),v},set(y,v){i.has(y)?i.set(y,v):h(y,v)}}},gw="!",A4=t=>{const{separator:r,experimentalParseClassName:i}=t,c=r.length===1,h=r[0],y=r.length,v=b=>{const A=[];let E=0,I=0,N;for(let j=0;j<b.length;j++){let X=b[j];if(E===0){if(X===h&&(c||b.slice(j,j+y)===r)){A.push(b.slice(I,j)),I=j+y;continue}if(X==="/"){N=j;continue}}X==="["?E++:X==="]"&&E--}const k=A.length===0?b:b.substring(I),M=k.startsWith(gw),U=M?k.substring(1):k,P=N&&N>I?N-I:void 0;return{modifiers:A,hasImportantModifier:M,baseClassName:U,maybePostfixModifierPosition:P}};return i?b=>i({className:b,parseClassName:v}):v},_4=t=>{if(t.length<=1)return t;const r=[];let i=[];return t.forEach(c=>{c[0]==="["?(r.push(...i.sort(),c),i=[]):i.push(c)}),r.push(...i.sort()),r},T4=t=>({cache:S4(t.cacheSize),parseClassName:A4(t),...v4(t)}),N4=/\s+/,R4=(t,r)=>{const{parseClassName:i,getClassGroupId:c,getConflictingClassGroupIds:h}=r,y=[],v=t.trim().split(N4);let b="";for(let A=v.length-1;A>=0;A-=1){const E=v[A],{modifiers:I,hasImportantModifier:N,baseClassName:k,maybePostfixModifierPosition:M}=i(E);let U=!!M,P=c(U?k.substring(0,M):k);if(!P){if(!U){b=E+(b.length>0?" "+b:b);continue}if(P=c(k),!P){b=E+(b.length>0?" "+b:b);continue}U=!1}const j=_4(I).join(":"),X=N?j+gw:j,G=X+P;if(y.includes(G))continue;y.push(G);const H=h(P,U);for(let q=0;q<H.length;++q){const ae=H[q];y.push(X+ae)}b=E+(b.length>0?" "+b:b)}return b};function O4(){let t=0,r,i,c="";for(;t<arguments.length;)(r=arguments[t++])&&(i=yw(r))&&(c&&(c+=" "),c+=i);return c}const yw=t=>{if(typeof t=="string")return t;let r,i="";for(let c=0;c<t.length;c++)t[c]&&(r=yw(t[c]))&&(i&&(i+=" "),i+=r);return i};function I4(t,...r){let i,c,h,y=v;function v(A){const E=r.reduce((I,N)=>N(I),t());return i=T4(E),c=i.cache.get,h=i.cache.set,y=b,b(A)}function b(A){const E=c(A);if(E)return E;const I=R4(A,i);return h(A,I),I}return function(){return y(O4.apply(null,arguments))}}const Jn=t=>{const r=i=>i[t]||[];return r.isThemeGetter=!0,r},xw=/^\[(?:([a-z-]+):)?(.+)\]$/i,M4=/^\d+\/\d+$/,D4=new Set(["px","full","screen"]),P4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=t=>xc(t)||D4.has(t)||M4.test(t),Ts=t=>Fc(t,"length",X4),xc=t=>!!t&&!Number.isNaN(Number(t)),mm=t=>Fc(t,"number",xc),Ou=t=>!!t&&Number.isInteger(Number(t)),F4=t=>t.endsWith("%")&&xc(t.slice(0,-1)),Ht=t=>xw.test(t),Ns=t=>P4.test(t),U4=new Set(["length","size","percentage"]),z4=t=>Fc(t,U4,vw),V4=t=>Fc(t,"position",vw),H4=new Set(["image","url"]),G4=t=>Fc(t,H4,Y4),q4=t=>Fc(t,"",K4),Iu=()=>!0,Fc=(t,r,i)=>{const c=xw.exec(t);return c?c[1]?typeof r=="string"?c[1]===r:r.has(c[1]):i(c[2]):!1},X4=t=>k4.test(t)&&!B4.test(t),vw=()=>!1,K4=t=>L4.test(t),Y4=t=>j4.test(t),W4=()=>{const t=Jn("colors"),r=Jn("spacing"),i=Jn("blur"),c=Jn("brightness"),h=Jn("borderColor"),y=Jn("borderRadius"),v=Jn("borderSpacing"),b=Jn("borderWidth"),A=Jn("contrast"),E=Jn("grayscale"),I=Jn("hueRotate"),N=Jn("invert"),k=Jn("gap"),M=Jn("gradientColorStops"),U=Jn("gradientColorStopPositions"),P=Jn("inset"),j=Jn("margin"),X=Jn("opacity"),G=Jn("padding"),H=Jn("saturate"),q=Jn("scale"),ae=Jn("sepia"),re=Jn("skew"),V=Jn("space"),Z=Jn("translate"),te=()=>["auto","contain","none"],fe=()=>["auto","hidden","clip","visible","scroll"],Re=()=>["auto",Ht,r],xe=()=>[Ht,r],Ue=()=>["",Mo,Ts],me=()=>["auto",xc,Ht],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>["start","end","center","between","around","evenly","stretch"],we=()=>["","0",Ht],Xe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[xc,Ht];return{cacheSize:500,separator:":",theme:{colors:[Iu],spacing:[Mo,Ts],blur:["none","",Ns,Ht],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Ns,Ht],borderSpacing:xe(),borderWidth:Ue(),contrast:ne(),grayscale:we(),hueRotate:ne(),invert:we(),gap:xe(),gradientColorStops:[t],gradientColorStopPositions:[F4,Ts],inset:Re(),margin:Re(),opacity:ne(),padding:xe(),saturate:ne(),scale:ne(),sepia:we(),skew:ne(),space:xe(),translate:xe()},classGroups:{aspect:[{aspect:["auto","square","video",Ht]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":Xe()}],"break-before":[{"break-before":Xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),Ht]}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ou,Ht]}],basis:[{basis:Re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ht]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",Ou,Ht]}],"grid-cols":[{"grid-cols":[Iu]}],"col-start-end":[{col:["auto",{span:["full",Ou,Ht]},Ht]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Iu]}],"row-start-end":[{row:["auto",{span:[Ou,Ht]},Ht]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ht]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",...Ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ht,r]}],"min-w":[{"min-w":[Ht,r,"min","max","fit"]}],"max-w":[{"max-w":[Ht,r,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[Ht,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ht,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ht,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ht,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mm]}],"font-family":[{font:[Iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ht]}],"line-clamp":[{"line-clamp":["none",xc,mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mo,Ht]}],"list-image":[{"list-image":["none",Ht]}],"list-style-type":[{list:["none","disc","decimal",Ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[X]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[X]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mo,Ts]}],"underline-offset":[{"underline-offset":["auto",Mo,Ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:xe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[X]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),V4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[M]}],"gradient-via":[{via:[M]}],"gradient-to":[{to:[M]}],rounded:[{rounded:[y]}],"rounded-s":[{"rounded-s":[y]}],"rounded-e":[{"rounded-e":[y]}],"rounded-t":[{"rounded-t":[y]}],"rounded-r":[{"rounded-r":[y]}],"rounded-b":[{"rounded-b":[y]}],"rounded-l":[{"rounded-l":[y]}],"rounded-ss":[{"rounded-ss":[y]}],"rounded-se":[{"rounded-se":[y]}],"rounded-ee":[{"rounded-ee":[y]}],"rounded-es":[{"rounded-es":[y]}],"rounded-tl":[{"rounded-tl":[y]}],"rounded-tr":[{"rounded-tr":[y]}],"rounded-br":[{"rounded-br":[y]}],"rounded-bl":[{"rounded-bl":[y]}],"border-w":[{border:[b]}],"border-w-x":[{"border-x":[b]}],"border-w-y":[{"border-y":[b]}],"border-w-s":[{"border-s":[b]}],"border-w-e":[{"border-e":[b]}],"border-w-t":[{"border-t":[b]}],"border-w-r":[{"border-r":[b]}],"border-w-b":[{"border-b":[b]}],"border-w-l":[{"border-l":[b]}],"border-opacity":[{"border-opacity":[X]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[b]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[b]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[X]}],"divide-style":[{divide:ie()}],"border-color":[{border:[h]}],"border-color-x":[{"border-x":[h]}],"border-color-y":[{"border-y":[h]}],"border-color-s":[{"border-s":[h]}],"border-color-e":[{"border-e":[h]}],"border-color-t":[{"border-t":[h]}],"border-color-r":[{"border-r":[h]}],"border-color-b":[{"border-b":[h]}],"border-color-l":[{"border-l":[h]}],"divide-color":[{divide:[h]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Mo,Ht]}],"outline-w":[{outline:[Mo,Ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[X]}],"ring-offset-w":[{"ring-offset":[Mo,Ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,q4]}],"shadow-color":[{shadow:[Iu]}],opacity:[{opacity:[X]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[c]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",Ns,Ht]}],grayscale:[{grayscale:[E]}],"hue-rotate":[{"hue-rotate":[I]}],invert:[{invert:[N]}],saturate:[{saturate:[H]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[E]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[I]}],"backdrop-invert":[{"backdrop-invert":[N]}],"backdrop-opacity":[{"backdrop-opacity":[X]}],"backdrop-saturate":[{"backdrop-saturate":[H]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[v]}],"border-spacing-x":[{"border-spacing-x":[v]}],"border-spacing-y":[{"border-spacing-y":[v]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ht]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Ht]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Ou,Ht]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":xe()}],"scroll-mx":[{"scroll-mx":xe()}],"scroll-my":[{"scroll-my":xe()}],"scroll-ms":[{"scroll-ms":xe()}],"scroll-me":[{"scroll-me":xe()}],"scroll-mt":[{"scroll-mt":xe()}],"scroll-mr":[{"scroll-mr":xe()}],"scroll-mb":[{"scroll-mb":xe()}],"scroll-ml":[{"scroll-ml":xe()}],"scroll-p":[{"scroll-p":xe()}],"scroll-px":[{"scroll-px":xe()}],"scroll-py":[{"scroll-py":xe()}],"scroll-ps":[{"scroll-ps":xe()}],"scroll-pe":[{"scroll-pe":xe()}],"scroll-pt":[{"scroll-pt":xe()}],"scroll-pr":[{"scroll-pr":xe()}],"scroll-pb":[{"scroll-pb":xe()}],"scroll-pl":[{"scroll-pl":xe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mo,Ts,mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Z4=I4(W4);function At(...t){return Z4(mw(t))}function bw(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function hB(t){if(!t)return null;const r=new Date(t);return isNaN(r.getTime())?null:r}function mB(t){if(!t)return"Colaborador";const r=t.trim().split(/\s+/);if(r.length<=1)return t;const i=r[0],c=r[r.length-1];return`${i} ${c.charAt(0)}.`}const Q4={items:[],isLoading:!1,error:null,hasFetched:!1},Ld=uf("teams/fetchTeams",async(t,{rejectWithValue:r})=>{try{if(!navigator.onLine)return await ut.getItem("teams")||[];let i=wt.from("teams").select(`
        *,
        supervisor:users!teams_supervisor_id_fkey(name)
      `);t&&(i=i.eq("company_id",t));const{data:c,error:h}=await i.order("name");if(h)throw h;const{data:y,error:v}=await wt.from("team_members").select("teamId, userId");if(v)throw v;const b=(y||[]).reduce((E,I)=>{const N=I.teamId||I.team_id,k=I.userId||I.user_id;return N&&(E[N]||(E[N]=[]),k&&E[N].push(k)),E},{}),A=(c||[]).map(E=>{var I;return{id:E.id,name:E.name,supervisorId:E.supervisorId||E.supervisor_id,supervisorName:((I=E.supervisor)==null?void 0:I.name)||void 0,leaderId:E.supervisorId||E.supervisor_id,members:b[E.id]||[],siteId:E.siteId||E.site_id,companyId:E.companyId||E.company_id,projectId:E.project_id||E.projectId||null,isActive:E.isActive??E.is_active??!0,displayOrder:E.displayOrder??E.display_order??0,laborType:E.laborType||E.labor_type||"MOD",createdAt:E.createdAt||E.created_at||new Date().toISOString()}});return await ut.setItem("teams",A),A}catch(i){const c=await ut.getItem("teams");return c&&c.length>0?(console.log("[TeamsSlice] Network error, falling back to local cache."),c):r(i.message||"Erro ao carregar equipes")}}),Xm=uf("teams/addTeam",async(t,{rejectWithValue:r})=>{var h;const i=bw(),c={id:i,name:t.name,supervisorId:t.supervisorId||null,leaderId:t.supervisorId||null,members:t.members||[],siteId:t.siteId||null,companyId:t.companyId||null,projectId:null,isActive:!0,displayOrder:0,laborType:t.laborType||"MOD",createdAt:new Date().toISOString()};try{if(!navigator.onLine)return await ut.addToSyncQueue({operation:"insert",table:"teams",data:{...t,localId:i}}),{team:c,isOffline:!0};const{data:y,error:v}=await wt.from("teams").insert({name:t.name,supervisor_id:t.supervisorId||null,site_id:t.siteId||null,company_id:t.companyId||null,display_order:0,labor_type:t.laborType||"MOD"}).select("*, supervisor:users!teams_supervisor_id_fkey(name)").single();if(v)throw v;return t.members&&t.members.length>0&&await wt.from("team_members").insert(t.members.map(A=>({team_id:y.id,user_id:A}))),{team:{...c,id:y.id,supervisorName:(h=y.supervisor)==null?void 0:h.name,leaderId:y.supervisor_id},isOffline:!1}}catch(y){return r(y.message||"Erro ao criar equipe")}}),Km=uf("teams/updateTeam",async({id:t,data:r},{rejectWithValue:i})=>{try{if(!navigator.onLine)return await ut.addToSyncQueue({operation:"update",table:"teams",id:t,data:r}),{id:t,data:r,isOffline:!0};const{error:c}=await wt.from("teams").update({name:r.name,supervisor_id:r.supervisorId||null,site_id:r.siteId||null,company_id:r.companyId||null,labor_type:r.laborType||void 0}).eq("id",t);if(c)throw c;return r.members!==void 0&&(await wt.from("team_members").delete().eq("team_id",t),r.members.length>0&&await wt.from("team_members").insert(r.members.map(h=>({team_id:t,user_id:h})))),{id:t,data:r,isOffline:!1}}catch(c){return i(c.message||"Erro ao atualizar equipe")}}),Ym=uf("teams/deleteTeam",async(t,{rejectWithValue:r})=>{try{if(!navigator.onLine)return await ut.addToSyncQueue({operation:"delete",table:"teams",id:t}),t;const{error:i}=await wt.from("teams").delete().eq("id",t);if(i)throw i;return t}catch(i){return r(i.message||"Erro ao remover equipe")}}),Wm=uf("teams/moveTeamMember",async({employeeId:t,fromTeamId:r,toTeamId:i},{rejectWithValue:c})=>{try{if(!navigator.onLine)return await ut.addToSyncQueue({operation:"rpc",function:"move_team_member",data:{p_employee_id:t,p_from_team_id:r,p_to_team_id:i}}),{employeeId:t,fromTeamId:r,toTeamId:i,isOffline:!0};const{error:h}=await wt.rpc("move_team_member",{p_employee_id:t,p_from_team_id:r,p_to_team_id:i});if(h)throw h;return{employeeId:t,fromTeamId:r,toTeamId:i,isOffline:!1}}catch(h){return c(h.message||"Erro ao mover membro")}}),ww=tw({name:"teams",initialState:Q4,reducers:{setTeams:(t,r)=>{t.items=r.payload}},extraReducers:t=>{t.addCase(Ld.pending,r=>{r.isLoading=!0,r.error=null,Bd.value=!0}).addCase(Ld.fulfilled,(r,i)=>{r.isLoading=!1,r.items=i.payload,r.hasFetched=!0,Bd.value=!1,Mc.value=!0}).addCase(Ld.rejected,(r,i)=>{r.isLoading=!1,r.error=i.payload,Bd.value=!1,Mc.value=!0}).addCase(Xm.fulfilled,(r,i)=>{r.items.push(i.payload.team),ut.setItem("teams",Pu(r.items))}).addCase(Km.fulfilled,(r,i)=>{const c=r.items.findIndex(h=>h.id===i.payload.id);c!==-1&&(r.items[c]={...r.items[c],...i.payload.data}),ut.setItem("teams",Pu(r.items))}).addCase(Ym.fulfilled,(r,i)=>{r.items=r.items.filter(c=>c.id!==i.payload),ut.setItem("teams",Pu(r.items))}).addCase(Wm.fulfilled,(r,i)=>{const{employeeId:c,fromTeamId:h,toTeamId:y}=i.payload;r.items=r.items.map(v=>{let b=[...v.members];return(v.id===h||b.includes(c))&&(b=b.filter(A=>A!==c)),v.id===y&&(b=[...b,c]),{...v,members:b}}),ut.setItem("teams",Pu(r.items))})}}),{setTeams:pB}=ww.actions,$4=ww.reducer,J4=OT({reducer:{ui:QT,teams:$4},middleware:t=>t({serializableCheck:!1})}),e8=1,t8=1e6;let pm=0;function n8(){return pm=(pm+1)%Number.MAX_SAFE_INTEGER,pm.toString()}const gm=new Map,h2=t=>{if(gm.has(t))return;const r=setTimeout(()=>{gm.delete(t),zu({type:"REMOVE_TOAST",toastId:t})},t8);gm.set(t,r)},r8=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,e8)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=r;return i?h2(i):t.toasts.forEach(c=>{h2(c.id)}),{...t,toasts:t.toasts.map(c=>c.id===i||i===void 0?{...c,open:!1}:c)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==r.toastId)}}},jd=[];let Fd={toasts:[]};function zu(t){Fd=r8(Fd,t),jd.forEach(r=>{r(Fd)})}function a8({...t}){const r=n8(),i=h=>zu({type:"UPDATE_TOAST",toast:{...h,id:r}}),c=()=>zu({type:"DISMISS_TOAST",toastId:r});return zu({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:h=>{h||c()}}}),{id:r,dismiss:c,update:i}}function Ho(){const[t,r]=R.useState(Fd);return R.useEffect(()=>(jd.push(r),()=>{const i=jd.indexOf(r);i>-1&&jd.splice(i,1)}),[t]),{...t,toast:a8,dismiss:i=>zu({type:"DISMISS_TOAST",toastId:i})}}var Uc=jb();const Ew=Dp(Uc);function Je(t,r,{checkForDefaultPrevented:i=!0}={}){return function(h){if(t==null||t(h),i===!1||!h.defaultPrevented)return r==null?void 0:r(h)}}function m2(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function oo(...t){return r=>{let i=!1;const c=t.map(h=>{const y=m2(h,r);return!i&&typeof y=="function"&&(i=!0),y});if(i)return()=>{for(let h=0;h<c.length;h++){const y=c[h];typeof y=="function"?y():m2(t[h],null)}}}}function un(...t){return R.useCallback(oo(...t),t)}function i8(t,r){const i=R.createContext(r),c=y=>{const{children:v,...b}=y,A=R.useMemo(()=>b,Object.values(b));return O.jsx(i.Provider,{value:A,children:v})};c.displayName=t+"Provider";function h(y){const v=R.useContext(i);if(v)return v;if(r!==void 0)return r;throw new Error(`\`${y}\` must be used within \`${t}\``)}return[c,h]}function Fi(t,r=[]){let i=[];function c(y,v){const b=R.createContext(v),A=i.length;i=[...i,v];const E=N=>{var X;const{scope:k,children:M,...U}=N,P=((X=k==null?void 0:k[t])==null?void 0:X[A])||b,j=R.useMemo(()=>U,Object.values(U));return O.jsx(P.Provider,{value:j,children:M})};E.displayName=y+"Provider";function I(N,k){var P;const M=((P=k==null?void 0:k[t])==null?void 0:P[A])||b,U=R.useContext(M);if(U)return U;if(v!==void 0)return v;throw new Error(`\`${N}\` must be used within \`${y}\``)}return[E,I]}const h=()=>{const y=i.map(v=>R.createContext(v));return function(b){const A=(b==null?void 0:b[t])||y;return R.useMemo(()=>({[`__scope${t}`]:{...b,[t]:A}}),[b,A])}};return h.scopeName=t,[c,o8(h,...r)]}function o8(...t){const r=t[0];if(t.length===1)return r;const i=()=>{const c=t.map(h=>({useScope:h(),scopeName:h.scopeName}));return function(y){const v=c.reduce((b,{useScope:A,scopeName:E})=>{const N=A(y)[`__scope${E}`];return{...b,...N}},{});return R.useMemo(()=>({[`__scope${r.scopeName}`]:v}),[v])}};return i.scopeName=r.scopeName,i}function p2(t){const r=s8(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(c8);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function s8(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=f8(h),b=u8(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var l8=Symbol("radix.slottable");function c8(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===l8}function u8(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function f8(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function Ih(t){const r=t+"CollectionProvider",[i,c]=Fi(r),[h,y]=i(r,{collectionRef:{current:null},itemMap:new Map}),v=P=>{const{scope:j,children:X}=P,G=ze.useRef(null),H=ze.useRef(new Map).current;return O.jsx(h,{scope:j,itemMap:H,collectionRef:G,children:X})};v.displayName=r;const b=t+"CollectionSlot",A=p2(b),E=ze.forwardRef((P,j)=>{const{scope:X,children:G}=P,H=y(b,X),q=un(j,H.collectionRef);return O.jsx(A,{ref:q,children:G})});E.displayName=b;const I=t+"CollectionItemSlot",N="data-radix-collection-item",k=p2(I),M=ze.forwardRef((P,j)=>{const{scope:X,children:G,...H}=P,q=ze.useRef(null),ae=un(j,q),re=y(I,X);return ze.useEffect(()=>(re.itemMap.set(q,{ref:q,...H}),()=>void re.itemMap.delete(q))),O.jsx(k,{[N]:"",ref:ae,children:G})});M.displayName=I;function U(P){const j=y(t+"CollectionConsumer",P);return ze.useCallback(()=>{const G=j.collectionRef.current;if(!G)return[];const H=Array.from(G.querySelectorAll(`[${N}]`));return Array.from(j.itemMap.values()).sort((re,V)=>H.indexOf(re.ref.current)-H.indexOf(V.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:v,Slot:E,ItemSlot:M},U,c]}function d8(t){const r=h8(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(p8);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function h8(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=y8(h),b=g8(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var m8=Symbol("radix.slottable");function p8(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===m8}function g8(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function y8(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var x8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=x8.reduce((t,r)=>{const i=d8(`Primitive.${r}`),c=R.forwardRef((h,y)=>{const{asChild:v,...b}=h,A=v?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(A,{...b,ref:y})});return c.displayName=`Primitive.${r}`,{...t,[r]:c}},{});function Gp(t,r){t&&Uc.flushSync(()=>t.dispatchEvent(r))}function ka(t){const r=R.useRef(t);return R.useEffect(()=>{r.current=t}),R.useMemo(()=>(...i)=>{var c;return(c=r.current)==null?void 0:c.call(r,...i)},[])}function v8(t,r=globalThis==null?void 0:globalThis.document){const i=ka(t);R.useEffect(()=>{const c=h=>{h.key==="Escape"&&i(h)};return r.addEventListener("keydown",c,{capture:!0}),()=>r.removeEventListener("keydown",c,{capture:!0})},[i,r])}var b8="DismissableLayer",Zm="dismissableLayer.update",w8="dismissableLayer.pointerDownOutside",E8="dismissableLayer.focusOutside",g2,Cw=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=R.forwardRef((t,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:y,onInteractOutside:v,onDismiss:b,...A}=t,E=R.useContext(Cw),[I,N]=R.useState(null),k=(I==null?void 0:I.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,M]=R.useState({}),U=un(r,V=>N(V)),P=Array.from(E.layers),[j]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),X=P.indexOf(j),G=I?P.indexOf(I):-1,H=E.layersWithOutsidePointerEventsDisabled.size>0,q=G>=X,ae=S8(V=>{const Z=V.target,te=[...E.branches].some(fe=>fe.contains(Z));!q||te||(h==null||h(V),v==null||v(V),V.defaultPrevented||b==null||b())},k),re=A8(V=>{const Z=V.target;[...E.branches].some(fe=>fe.contains(Z))||(y==null||y(V),v==null||v(V),V.defaultPrevented||b==null||b())},k);return v8(V=>{G===E.layers.size-1&&(c==null||c(V),!V.defaultPrevented&&b&&(V.preventDefault(),b()))},k),R.useEffect(()=>{if(I)return i&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(g2=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(I)),E.layers.add(I),y2(),()=>{i&&E.layersWithOutsidePointerEventsDisabled.size===1&&(k.body.style.pointerEvents=g2)}},[I,k,i,E]),R.useEffect(()=>()=>{I&&(E.layers.delete(I),E.layersWithOutsidePointerEventsDisabled.delete(I),y2())},[I,E]),R.useEffect(()=>{const V=()=>M({});return document.addEventListener(Zm,V),()=>document.removeEventListener(Zm,V)},[]),O.jsx(Dt.div,{...A,ref:U,style:{pointerEvents:H?q?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,re.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,ae.onPointerDownCapture)})});Pl.displayName=b8;var C8="DismissableLayerBranch",Sw=R.forwardRef((t,r)=>{const i=R.useContext(Cw),c=R.useRef(null),h=un(r,c);return R.useEffect(()=>{const y=c.current;if(y)return i.branches.add(y),()=>{i.branches.delete(y)}},[i.branches]),O.jsx(Dt.div,{...t,ref:h})});Sw.displayName=C8;function S8(t,r=globalThis==null?void 0:globalThis.document){const i=ka(t),c=R.useRef(!1),h=R.useRef(()=>{});return R.useEffect(()=>{const y=b=>{if(b.target&&!c.current){let A=function(){Aw(w8,i,E,{discrete:!0})};const E={originalEvent:b};b.pointerType==="touch"?(r.removeEventListener("click",h.current),h.current=A,r.addEventListener("click",h.current,{once:!0})):A()}else r.removeEventListener("click",h.current);c.current=!1},v=window.setTimeout(()=>{r.addEventListener("pointerdown",y)},0);return()=>{window.clearTimeout(v),r.removeEventListener("pointerdown",y),r.removeEventListener("click",h.current)}},[r,i]),{onPointerDownCapture:()=>c.current=!0}}function A8(t,r=globalThis==null?void 0:globalThis.document){const i=ka(t),c=R.useRef(!1);return R.useEffect(()=>{const h=y=>{y.target&&!c.current&&Aw(E8,i,{originalEvent:y},{discrete:!1})};return r.addEventListener("focusin",h),()=>r.removeEventListener("focusin",h)},[r,i]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function y2(){const t=new CustomEvent(Zm);document.dispatchEvent(t)}function Aw(t,r,i,{discrete:c}){const h=i.originalEvent.target,y=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});r&&h.addEventListener(t,r,{once:!0}),c?Gp(h,y):h.dispatchEvent(y)}var _8=Pl,T8=Sw,Zr=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},N8="Portal",zc=R.forwardRef((t,r)=>{var b;const{container:i,...c}=t,[h,y]=R.useState(!1);Zr(()=>y(!0),[]);const v=i||h&&((b=globalThis==null?void 0:globalThis.document)==null?void 0:b.body);return v?Ew.createPortal(O.jsx(Dt.div,{...c,ref:r}),v):null});zc.displayName=N8;function R8(t,r){return R.useReducer((i,c)=>r[i][c]??i,t)}var xi=t=>{const{present:r,children:i}=t,c=O8(r),h=typeof i=="function"?i({present:c.isPresent}):R.Children.only(i),y=un(c.ref,I8(h));return typeof i=="function"||c.isPresent?R.cloneElement(h,{ref:y}):null};xi.displayName="Presence";function O8(t){const[r,i]=R.useState(),c=R.useRef(null),h=R.useRef(t),y=R.useRef("none"),v=t?"mounted":"unmounted",[b,A]=R8(v,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const E=Ed(c.current);y.current=b==="mounted"?E:"none"},[b]),Zr(()=>{const E=c.current,I=h.current;if(I!==t){const k=y.current,M=Ed(E);t?A("MOUNT"):M==="none"||(E==null?void 0:E.display)==="none"?A("UNMOUNT"):A(I&&k!==M?"ANIMATION_OUT":"UNMOUNT"),h.current=t}},[t,A]),Zr(()=>{if(r){let E;const I=r.ownerDocument.defaultView??window,N=M=>{const P=Ed(c.current).includes(CSS.escape(M.animationName));if(M.target===r&&P&&(A("ANIMATION_END"),!h.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",E=I.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},k=M=>{M.target===r&&(y.current=Ed(c.current))};return r.addEventListener("animationstart",k),r.addEventListener("animationcancel",N),r.addEventListener("animationend",N),()=>{I.clearTimeout(E),r.removeEventListener("animationstart",k),r.removeEventListener("animationcancel",N),r.removeEventListener("animationend",N)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:R.useCallback(E=>{c.current=E?getComputedStyle(E):null,i(E)},[])}}function Ed(t){return(t==null?void 0:t.animationName)||"none"}function I8(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var M8=Ch[" useInsertionEffect ".trim().toString()]||Zr;function Fo({prop:t,defaultProp:r,onChange:i=()=>{},caller:c}){const[h,y,v]=D8({defaultProp:r,onChange:i}),b=t!==void 0,A=b?t:h;{const I=R.useRef(t!==void 0);R.useEffect(()=>{const N=I.current;N!==b&&console.warn(`${c} is changing from ${N?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),I.current=b},[b,c])}const E=R.useCallback(I=>{var N;if(b){const k=P8(I)?I(t):I;k!==t&&((N=v.current)==null||N.call(v,k))}else y(I)},[b,t,y,v]);return[A,E]}function D8({defaultProp:t,onChange:r}){const[i,c]=R.useState(t),h=R.useRef(i),y=R.useRef(r);return M8(()=>{y.current=r},[r]),R.useEffect(()=>{var v;h.current!==i&&((v=y.current)==null||v.call(y,i),h.current=i)},[i,h]),[i,c,y]}function P8(t){return typeof t=="function"}var _w=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k8="VisuallyHidden",Mh=R.forwardRef((t,r)=>O.jsx(Dt.span,{...t,ref:r,style:{..._w,...t.style}}));Mh.displayName=k8;var B8=Mh,qp="ToastProvider",[Xp,L8,j8]=Ih("Toast"),[Tw]=Fi("Toast",[j8]),[F8,Dh]=Tw(qp),Nw=t=>{const{__scopeToast:r,label:i="Notification",duration:c=5e3,swipeDirection:h="right",swipeThreshold:y=50,children:v}=t,[b,A]=R.useState(null),[E,I]=R.useState(0),N=R.useRef(!1),k=R.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${qp}\`. Expected non-empty \`string\`.`),O.jsx(Xp.Provider,{scope:r,children:O.jsx(F8,{scope:r,label:i,duration:c,swipeDirection:h,swipeThreshold:y,toastCount:E,viewport:b,onViewportChange:A,onToastAdd:R.useCallback(()=>I(M=>M+1),[]),onToastRemove:R.useCallback(()=>I(M=>M-1),[]),isFocusedToastEscapeKeyDownRef:N,isClosePausedRef:k,children:v})})};Nw.displayName=qp;var Rw="ToastViewport",U8=["F8"],Qm="toast.viewportPause",$m="toast.viewportResume",Ow=R.forwardRef((t,r)=>{const{__scopeToast:i,hotkey:c=U8,label:h="Notifications ({hotkey})",...y}=t,v=Dh(Rw,i),b=L8(i),A=R.useRef(null),E=R.useRef(null),I=R.useRef(null),N=R.useRef(null),k=un(r,N,v.onViewportChange),M=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=v.toastCount>0;R.useEffect(()=>{const j=X=>{var H;c.length!==0&&c.every(q=>X[q]||X.code===q)&&((H=N.current)==null||H.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[c]),R.useEffect(()=>{const j=A.current,X=N.current;if(U&&j&&X){const G=()=>{if(!v.isClosePausedRef.current){const re=new CustomEvent(Qm);X.dispatchEvent(re),v.isClosePausedRef.current=!0}},H=()=>{if(v.isClosePausedRef.current){const re=new CustomEvent($m);X.dispatchEvent(re),v.isClosePausedRef.current=!1}},q=re=>{!j.contains(re.relatedTarget)&&H()},ae=()=>{j.contains(document.activeElement)||H()};return j.addEventListener("focusin",G),j.addEventListener("focusout",q),j.addEventListener("pointermove",G),j.addEventListener("pointerleave",ae),window.addEventListener("blur",G),window.addEventListener("focus",H),()=>{j.removeEventListener("focusin",G),j.removeEventListener("focusout",q),j.removeEventListener("pointermove",G),j.removeEventListener("pointerleave",ae),window.removeEventListener("blur",G),window.removeEventListener("focus",H)}}},[U,v.isClosePausedRef]);const P=R.useCallback(({tabbingDirection:j})=>{const G=b().map(H=>{const q=H.ref.current,ae=[q,...J8(q)];return j==="forwards"?ae:ae.reverse()});return(j==="forwards"?G.reverse():G).flat()},[b]);return R.useEffect(()=>{const j=N.current;if(j){const X=G=>{var ae,re,V;const H=G.altKey||G.ctrlKey||G.metaKey;if(G.key==="Tab"&&!H){const Z=document.activeElement,te=G.shiftKey;if(G.target===j&&te){(ae=E.current)==null||ae.focus();return}const xe=P({tabbingDirection:te?"backwards":"forwards"}),Ue=xe.findIndex(me=>me===Z);ym(xe.slice(Ue+1))?G.preventDefault():te?(re=E.current)==null||re.focus():(V=I.current)==null||V.focus()}};return j.addEventListener("keydown",X),()=>j.removeEventListener("keydown",X)}},[b,P]),O.jsxs(T8,{ref:A,role:"region","aria-label":h.replace("{hotkey}",M),tabIndex:-1,style:{pointerEvents:U?void 0:"none"},children:[U&&O.jsx(Jm,{ref:E,onFocusFromOutsideViewport:()=>{const j=P({tabbingDirection:"forwards"});ym(j)}}),O.jsx(Xp.Slot,{scope:i,children:O.jsx(Dt.ol,{tabIndex:-1,...y,ref:k})}),U&&O.jsx(Jm,{ref:I,onFocusFromOutsideViewport:()=>{const j=P({tabbingDirection:"backwards"});ym(j)}})]})});Ow.displayName=Rw;var Iw="ToastFocusProxy",Jm=R.forwardRef((t,r)=>{const{__scopeToast:i,onFocusFromOutsideViewport:c,...h}=t,y=Dh(Iw,i);return O.jsx(Mh,{tabIndex:0,...h,ref:r,style:{position:"fixed"},onFocus:v=>{var E;const b=v.relatedTarget;!((E=y.viewport)!=null&&E.contains(b))&&c()}})});Jm.displayName=Iw;var ff="Toast",z8="toast.swipeStart",V8="toast.swipeMove",H8="toast.swipeCancel",G8="toast.swipeEnd",Mw=R.forwardRef((t,r)=>{const{forceMount:i,open:c,defaultOpen:h,onOpenChange:y,...v}=t,[b,A]=Fo({prop:c,defaultProp:h??!0,onChange:y,caller:ff});return O.jsx(xi,{present:i||b,children:O.jsx(K8,{open:b,...v,ref:r,onClose:()=>A(!1),onPause:ka(t.onPause),onResume:ka(t.onResume),onSwipeStart:Je(t.onSwipeStart,E=>{E.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(t.onSwipeMove,E=>{const{x:I,y:N}=E.detail.delta;E.currentTarget.setAttribute("data-swipe","move"),E.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${I}px`),E.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${N}px`)}),onSwipeCancel:Je(t.onSwipeCancel,E=>{E.currentTarget.setAttribute("data-swipe","cancel"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),E.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(t.onSwipeEnd,E=>{const{x:I,y:N}=E.detail.delta;E.currentTarget.setAttribute("data-swipe","end"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),E.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${I}px`),E.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${N}px`),A(!1)})})})});Mw.displayName=ff;var[q8,X8]=Tw(ff,{onClose(){}}),K8=R.forwardRef((t,r)=>{const{__scopeToast:i,type:c="foreground",duration:h,open:y,onClose:v,onEscapeKeyDown:b,onPause:A,onResume:E,onSwipeStart:I,onSwipeMove:N,onSwipeCancel:k,onSwipeEnd:M,...U}=t,P=Dh(ff,i),[j,X]=R.useState(null),G=un(r,me=>X(me)),H=R.useRef(null),q=R.useRef(null),ae=h||P.duration,re=R.useRef(0),V=R.useRef(ae),Z=R.useRef(0),{onToastAdd:te,onToastRemove:fe}=P,Re=ka(()=>{var ce;(j==null?void 0:j.contains(document.activeElement))&&((ce=P.viewport)==null||ce.focus()),v()}),xe=R.useCallback(me=>{!me||me===1/0||(window.clearTimeout(Z.current),re.current=new Date().getTime(),Z.current=window.setTimeout(Re,me))},[Re]);R.useEffect(()=>{const me=P.viewport;if(me){const ce=()=>{xe(V.current),E==null||E()},ie=()=>{const ge=new Date().getTime()-re.current;V.current=V.current-ge,window.clearTimeout(Z.current),A==null||A()};return me.addEventListener(Qm,ie),me.addEventListener($m,ce),()=>{me.removeEventListener(Qm,ie),me.removeEventListener($m,ce)}}},[P.viewport,ae,A,E,xe]),R.useEffect(()=>{y&&!P.isClosePausedRef.current&&xe(ae)},[y,ae,P.isClosePausedRef,xe]),R.useEffect(()=>(te(),()=>fe()),[te,fe]);const Ue=R.useMemo(()=>j?Fw(j):null,[j]);return P.viewport?O.jsxs(O.Fragment,{children:[Ue&&O.jsx(Y8,{__scopeToast:i,role:"status","aria-live":c==="foreground"?"assertive":"polite",children:Ue}),O.jsx(q8,{scope:i,onClose:Re,children:Uc.createPortal(O.jsx(Xp.ItemSlot,{scope:i,children:O.jsx(_8,{asChild:!0,onEscapeKeyDown:Je(b,()=>{P.isFocusedToastEscapeKeyDownRef.current||Re(),P.isFocusedToastEscapeKeyDownRef.current=!1}),children:O.jsx(Dt.li,{tabIndex:0,"data-state":y?"open":"closed","data-swipe-direction":P.swipeDirection,...U,ref:G,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Je(t.onKeyDown,me=>{me.key==="Escape"&&(b==null||b(me.nativeEvent),me.nativeEvent.defaultPrevented||(P.isFocusedToastEscapeKeyDownRef.current=!0,Re()))}),onPointerDown:Je(t.onPointerDown,me=>{me.button===0&&(H.current={x:me.clientX,y:me.clientY})}),onPointerMove:Je(t.onPointerMove,me=>{if(!H.current)return;const ce=me.clientX-H.current.x,ie=me.clientY-H.current.y,ge=!!q.current,Ne=["left","right"].includes(P.swipeDirection),we=["left","up"].includes(P.swipeDirection)?Math.min:Math.max,Xe=Ne?we(0,ce):0,ne=Ne?0:we(0,ie),de=me.pointerType==="touch"?10:2,Ie={x:Xe,y:ne},Oe={originalEvent:me,delta:Ie};ge?(q.current=Ie,Cd(V8,N,Oe,{discrete:!1})):x2(Ie,P.swipeDirection,de)?(q.current=Ie,Cd(z8,I,Oe,{discrete:!1}),me.target.setPointerCapture(me.pointerId)):(Math.abs(ce)>de||Math.abs(ie)>de)&&(H.current=null)}),onPointerUp:Je(t.onPointerUp,me=>{const ce=q.current,ie=me.target;if(ie.hasPointerCapture(me.pointerId)&&ie.releasePointerCapture(me.pointerId),q.current=null,H.current=null,ce){const ge=me.currentTarget,Ne={originalEvent:me,delta:ce};x2(ce,P.swipeDirection,P.swipeThreshold)?Cd(G8,M,Ne,{discrete:!0}):Cd(H8,k,Ne,{discrete:!0}),ge.addEventListener("click",we=>we.preventDefault(),{once:!0})}})})})}),P.viewport)})]}):null}),Y8=t=>{const{__scopeToast:r,children:i,...c}=t,h=Dh(ff,r),[y,v]=R.useState(!1),[b,A]=R.useState(!1);return Q8(()=>v(!0)),R.useEffect(()=>{const E=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(E)},[]),b?null:O.jsx(zc,{asChild:!0,children:O.jsx(Mh,{...c,children:y&&O.jsxs(O.Fragment,{children:[h.label," ",i]})})})},W8="ToastTitle",Dw=R.forwardRef((t,r)=>{const{__scopeToast:i,...c}=t;return O.jsx(Dt.div,{...c,ref:r})});Dw.displayName=W8;var Z8="ToastDescription",Pw=R.forwardRef((t,r)=>{const{__scopeToast:i,...c}=t;return O.jsx(Dt.div,{...c,ref:r})});Pw.displayName=Z8;var kw="ToastAction",Bw=R.forwardRef((t,r)=>{const{altText:i,...c}=t;return i.trim()?O.jsx(jw,{altText:i,asChild:!0,children:O.jsx(Kp,{...c,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${kw}\`. Expected non-empty \`string\`.`),null)});Bw.displayName=kw;var Lw="ToastClose",Kp=R.forwardRef((t,r)=>{const{__scopeToast:i,...c}=t,h=X8(Lw,i);return O.jsx(jw,{asChild:!0,children:O.jsx(Dt.button,{type:"button",...c,ref:r,onClick:Je(t.onClick,h.onClose)})})});Kp.displayName=Lw;var jw=R.forwardRef((t,r)=>{const{__scopeToast:i,altText:c,...h}=t;return O.jsx(Dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":c||void 0,...h,ref:r})});function Fw(t){const r=[];return Array.from(t.childNodes).forEach(c=>{if(c.nodeType===c.TEXT_NODE&&c.textContent&&r.push(c.textContent),$8(c)){const h=c.ariaHidden||c.hidden||c.style.display==="none",y=c.dataset.radixToastAnnounceExclude==="";if(!h)if(y){const v=c.dataset.radixToastAnnounceAlt;v&&r.push(v)}else r.push(...Fw(c))}}),r}function Cd(t,r,i,{discrete:c}){const h=i.originalEvent.currentTarget,y=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:i});r&&h.addEventListener(t,r,{once:!0}),c?Gp(h,y):h.dispatchEvent(y)}var x2=(t,r,i=0)=>{const c=Math.abs(t.x),h=Math.abs(t.y),y=c>h;return r==="left"||r==="right"?y&&c>i:!y&&h>i};function Q8(t=()=>{}){const r=ka(t);Zr(()=>{let i=0,c=0;return i=window.requestAnimationFrame(()=>c=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(c)}},[r])}function $8(t){return t.nodeType===t.ELEMENT_NODE}function J8(t){const r=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const h=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||h?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function ym(t){const r=document.activeElement;return t.some(i=>i===r?!0:(i.focus(),document.activeElement!==r))}var eN=Nw,Uw=Ow,zw=Mw,Vw=Dw,Hw=Pw,Gw=Bw,qw=Kp;const v2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,b2=mw,Ph=(t,r)=>i=>{var c;if((r==null?void 0:r.variants)==null)return b2(t,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:h,defaultVariants:y}=r,v=Object.keys(h).map(E=>{const I=i==null?void 0:i[E],N=y==null?void 0:y[E];if(I===null)return null;const k=v2(I)||v2(N);return h[E][k]}),b=i&&Object.entries(i).reduce((E,I)=>{let[N,k]=I;return k===void 0||(E[N]=k),E},{}),A=r==null||(c=r.compoundVariants)===null||c===void 0?void 0:c.reduce((E,I)=>{let{class:N,className:k,...M}=I;return Object.entries(M).every(U=>{let[P,j]=U;return Array.isArray(j)?j.includes({...y,...b}[P]):{...y,...b}[P]===j})?[...E,N,k]:E},[]);return b2(t,v,A,i==null?void 0:i.class,i==null?void 0:i.className)};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xw=(...t)=>t.filter((r,i,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=R.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:h="",children:y,iconNode:v,...b},A)=>R.createElement("svg",{ref:A,...nN,width:r,height:r,stroke:t,strokeWidth:c?Number(i)*24/Number(r):i,className:Xw("lucide",h),...b},[...v.map(([E,I])=>R.createElement(E,I)),...Array.isArray(y)?y:[y]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,r)=>{const i=R.forwardRef(({className:c,...h},y)=>R.createElement(rN,{ref:y,iconNode:r,className:Xw(`lucide-${tN(t)}`,c),...h}));return i.displayName=`${t}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kw=xt("ArrowRight",aN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oN=xt("Bell",iN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],lN=xt("Box",sN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yw=xt("Briefcase",cN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ww=xt("Building2",uN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zw=xt("Camera",fN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hN=xt("ChartColumn",dN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],w2=xt("ChartPie",mN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qw=xt("Check",pN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yp=xt("ChevronDown",gN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xN=xt("ChevronRight",yN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bN=xt("ChevronUp",vN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EN=xt("CircleCheckBig",wN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$w=xt("CircleCheck",CN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],AN=xt("CircleX",SN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TN=xt("Circle",_N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nh=xt("ClipboardList",NN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ep=xt("Clock",RN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],Jw=xt("CloudOff",ON);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],MN=xt("Cloud",IN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],eE=xt("Coins",DN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tE=xt("Database",PN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],BN=xt("FileSpreadsheet",kN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wp=xt("FileText",LN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],FN=xt("Filter",jN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],rh=xt("HardHat",UN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],E2=xt("History",zN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],HN=xt("House",VN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qN=xt("Key",GN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],KN=xt("Laptop",XN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WN=xt("Layers",YN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QN=xt("LayoutDashboard",ZN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ku=xt("LoaderCircle",$N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],e6=xt("LogOut",JN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],n6=xt("Mail",t6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nE=xt("MapPin",r6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],i6=xt("Map",a6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],s6=xt("Menu",o6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],c6=xt("MessageSquare",l6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],f6=xt("Mic",u6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],h6=xt("Palette",d6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rE=xt("QrCode",m6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tp=xt("RefreshCw",p6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],y6=xt("Rocket",g6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aE=xt("Settings",x6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],b6=xt("ShieldAlert",v6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nl=xt("ShieldCheck",w6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],np=xt("Shield",E6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],S6=xt("Ticket",C6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],_6=xt("Truck",A6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N6=xt("User",T6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],O6=xt("UsersRound",R6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ud=xt("Users",I6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iE=xt("WifiOff",M6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],oE=xt("Wifi",D6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kh=xt("X",P6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],B6=xt("Zap",k6),L6=eN,sE=R.forwardRef(({className:t,...r},i)=>O.jsx(Uw,{ref:i,className:At("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));sE.displayName=Uw.displayName;const j6=Ph("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lE=R.forwardRef(({className:t,variant:r,...i},c)=>O.jsx(zw,{ref:c,className:At(j6({variant:r}),t),...i}));lE.displayName=zw.displayName;const F6=R.forwardRef(({className:t,...r},i)=>O.jsx(Gw,{ref:i,className:At("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...r}));F6.displayName=Gw.displayName;const cE=R.forwardRef(({className:t,...r},i)=>O.jsx(qw,{ref:i,className:At("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:O.jsx(kh,{className:"h-4 w-4"})}));cE.displayName=qw.displayName;const uE=R.forwardRef(({className:t,...r},i)=>O.jsx(Vw,{ref:i,className:At("text-sm font-semibold",t),...r}));uE.displayName=Vw.displayName;const fE=R.forwardRef(({className:t,...r},i)=>O.jsx(Hw,{ref:i,className:At("text-sm opacity-90",t),...r}));fE.displayName=Hw.displayName;function U6(){const{toasts:t}=Ho();return O.jsxs(L6,{children:[t.map(function({id:r,title:i,description:c,action:h,...y}){return O.jsxs(lE,{...y,children:[O.jsxs("div",{className:"grid gap-1",children:[i&&O.jsx(uE,{children:i}),c&&O.jsx(fE,{children:c})]}),h,O.jsx(cE,{})]},r)}),O.jsx(sE,{})]})}var C2=["light","dark"],z6="(prefers-color-scheme: dark)",V6=R.createContext(void 0),H6={setTheme:t=>{},themes:[]},G6=()=>{var t;return(t=R.useContext(V6))!=null?t:H6};R.memo(({forcedTheme:t,storageKey:r,attribute:i,enableSystem:c,enableColorScheme:h,defaultTheme:y,value:v,attrs:b,nonce:A})=>{let E=y==="system",I=i==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${b.map(U=>`'${U}'`).join(",")})`};`:`var d=document.documentElement,n='${i}',s='setAttribute';`,N=h?C2.includes(y)&&y?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${y}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",k=(U,P=!1,j=!0)=>{let X=v?v[U]:U,G=P?U+"|| ''":`'${X}'`,H="";return h&&j&&!P&&C2.includes(U)&&(H+=`d.style.colorScheme = '${U}';`),i==="class"?P||X?H+=`c.add(${G})`:H+="null":X&&(H+=`d[s](n,${G})`),H},M=t?`!function(){${I}${k(t)}}()`:c?`!function(){try{${I}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${E})){var t='${z6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${k("dark")}}else{${k("light")}}}else if(e){${v?`var x=${JSON.stringify(v)};`:""}${k(v?"x[e]":"e",!0)}}${E?"":"else{"+k(y,!1,!1)+"}"}${N}}catch(e){}}()`:`!function(){try{${I}var e=localStorage.getItem('${r}');if(e){${v?`var x=${JSON.stringify(v)};`:""}${k(v?"x[e]":"e",!0)}}else{${k(y,!1,!1)};}${N}}catch(t){}}();`;return R.createElement("script",{nonce:A,dangerouslySetInnerHTML:{__html:M}})});var q6=t=>{switch(t){case"success":return Y6;case"info":return Z6;case"warning":return W6;case"error":return Q6;default:return null}},X6=Array(12).fill(0),K6=({visible:t,className:r})=>ze.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},ze.createElement("div",{className:"sonner-spinner"},X6.map((i,c)=>ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${c}`})))),Y6=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W6=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Z6=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q6=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$6=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J6=()=>{let[t,r]=ze.useState(document.hidden);return ze.useEffect(()=>{let i=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),t},rp=1,eR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:i,...c}=t,h=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:rp++,y=this.toasts.find(b=>b.id===h),v=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),y?this.toasts=this.toasts.map(b=>b.id===h?(this.publish({...b,...t,id:h,title:i}),{...b,...t,id:h,dismissible:v,title:i}):b):this.addToast({title:i,...c,dismissible:v,id:h}),h},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let c=t instanceof Promise?t:t(),h=i!==void 0,y,v=c.then(async A=>{if(y=["resolve",A],ze.isValidElement(A))h=!1,this.create({id:i,type:"default",message:A});else if(nR(A)&&!A.ok){h=!1;let E=typeof r.error=="function"?await r.error(`HTTP error! status: ${A.status}`):r.error,I=typeof r.description=="function"?await r.description(`HTTP error! status: ${A.status}`):r.description;this.create({id:i,type:"error",message:E,description:I})}else if(r.success!==void 0){h=!1;let E=typeof r.success=="function"?await r.success(A):r.success,I=typeof r.description=="function"?await r.description(A):r.description;this.create({id:i,type:"success",message:E,description:I})}}).catch(async A=>{if(y=["reject",A],r.error!==void 0){h=!1;let E=typeof r.error=="function"?await r.error(A):r.error,I=typeof r.description=="function"?await r.description(A):r.description;this.create({id:i,type:"error",message:E,description:I})}}).finally(()=>{var A;h&&(this.dismiss(i),i=void 0),(A=r.finally)==null||A.call(r)}),b=()=>new Promise((A,E)=>v.then(()=>y[0]==="reject"?E(y[1]):A(y[1])).catch(E));return typeof i!="string"&&typeof i!="number"?{unwrap:b}:Object.assign(i,{unwrap:b})},this.custom=(t,r)=>{let i=(r==null?void 0:r.id)||rp++;return this.create({jsx:t(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Pa=new eR,tR=(t,r)=>{let i=(r==null?void 0:r.id)||rp++;return Pa.addToast({title:t,...r,id:i}),i},nR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",rR=tR,aR=()=>Pa.toasts,iR=()=>Pa.getActiveToasts(),gB=Object.assign(rR,{success:Pa.success,info:Pa.info,warning:Pa.warning,error:Pa.error,custom:Pa.custom,message:Pa.message,promise:Pa.promise,dismiss:Pa.dismiss,loading:Pa.loading},{getHistory:aR,getToasts:iR});function oR(t,{insertAt:r}={}){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",r==="top"&&i.firstChild?i.insertBefore(c,i.firstChild):i.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t))}oR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sd(t){return t.label!==void 0}var sR=3,lR="32px",cR="16px",S2=4e3,uR=356,fR=14,dR=20,hR=200;function Ni(...t){return t.filter(Boolean).join(" ")}function mR(t){let[r,i]=t.split("-"),c=[];return r&&c.push(r),i&&c.push(i),c}var pR=t=>{var r,i,c,h,y,v,b,A,E,I,N;let{invert:k,toast:M,unstyled:U,interacting:P,setHeights:j,visibleToasts:X,heights:G,index:H,toasts:q,expanded:ae,removeToast:re,defaultRichColors:V,closeButton:Z,style:te,cancelButtonStyle:fe,actionButtonStyle:Re,className:xe="",descriptionClassName:Ue="",duration:me,position:ce,gap:ie,loadingIcon:ge,expandByDefault:Ne,classNames:we,icons:Xe,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:de}=t,[Ie,Oe]=ze.useState(null),[tt,Le]=ze.useState(null),[Be,et]=ze.useState(!1),[ft,Ve]=ze.useState(!1),[ht,rt]=ze.useState(!1),[mt,An]=ze.useState(!1),[wn,vr]=ze.useState(!1),[_n,Yt]=ze.useState(0),[Rt,ca]=ze.useState(0),Qe=ze.useRef(M.duration||me||S2),ai=ze.useRef(null),Dr=ze.useRef(null),Dn=H===0,Ba=H+1<=X,zt=M.type,br=M.dismissible!==!1,Rr=M.className||"",Kn=M.descriptionClassName||"",ba=ze.useMemo(()=>G.findIndex(lt=>lt.toastId===M.id)||0,[G,M.id]),La=ze.useMemo(()=>{var lt;return(lt=M.closeButton)!=null?lt:Z},[M.closeButton,Z]),wa=ze.useMemo(()=>M.duration||me||S2,[M.duration,me]),an=ze.useRef(0),qe=ze.useRef(0),Gt=ze.useRef(0),He=ze.useRef(null),[pn,Lr]=ce.split("-"),ja=ze.useMemo(()=>G.reduce((lt,$t,Ot)=>Ot>=ba?lt:lt+$t.height,0),[G,ba]),Ze=J6(),Ft=M.invert||k,Or=zt==="loading";qe.current=ze.useMemo(()=>ba*ie+ja,[ba,ja]),ze.useEffect(()=>{Qe.current=wa},[wa]),ze.useEffect(()=>{et(!0)},[]),ze.useEffect(()=>{let lt=Dr.current;if(lt){let $t=lt.getBoundingClientRect().height;return ca($t),j(Ot=>[{toastId:M.id,height:$t,position:M.position},...Ot]),()=>j(Ot=>Ot.filter(Tn=>Tn.toastId!==M.id))}},[j,M.id]),ze.useLayoutEffect(()=>{if(!Be)return;let lt=Dr.current,$t=lt.style.height;lt.style.height="auto";let Ot=lt.getBoundingClientRect().height;lt.style.height=$t,ca(Ot),j(Tn=>Tn.find(Nn=>Nn.toastId===M.id)?Tn.map(Nn=>Nn.toastId===M.id?{...Nn,height:Ot}:Nn):[{toastId:M.id,height:Ot,position:M.position},...Tn])},[Be,M.title,M.description,j,M.id]);let rr=ze.useCallback(()=>{Ve(!0),Yt(qe.current),j(lt=>lt.filter($t=>$t.toastId!==M.id)),setTimeout(()=>{re(M)},hR)},[M,re,j,qe]);ze.useEffect(()=>{if(M.promise&&zt==="loading"||M.duration===1/0||M.type==="loading")return;let lt;return ae||P||de&&Ze?(()=>{if(Gt.current<an.current){let $t=new Date().getTime()-an.current;Qe.current=Qe.current-$t}Gt.current=new Date().getTime()})():Qe.current!==1/0&&(an.current=new Date().getTime(),lt=setTimeout(()=>{var $t;($t=M.onAutoClose)==null||$t.call(M,M),rr()},Qe.current)),()=>clearTimeout(lt)},[ae,P,M,zt,de,Ze,rr]),ze.useEffect(()=>{M.delete&&rr()},[rr,M.delete]);function ii(){var lt,$t,Ot;return Xe!=null&&Xe.loading?ze.createElement("div",{className:Ni(we==null?void 0:we.loader,(lt=M==null?void 0:M.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":zt==="loading"},Xe.loading):ge?ze.createElement("div",{className:Ni(we==null?void 0:we.loader,($t=M==null?void 0:M.classNames)==null?void 0:$t.loader,"sonner-loader"),"data-visible":zt==="loading"},ge):ze.createElement(K6,{className:Ni(we==null?void 0:we.loader,(Ot=M==null?void 0:M.classNames)==null?void 0:Ot.loader),visible:zt==="loading"})}return ze.createElement("li",{tabIndex:0,ref:Dr,className:Ni(xe,Rr,we==null?void 0:we.toast,(r=M==null?void 0:M.classNames)==null?void 0:r.toast,we==null?void 0:we.default,we==null?void 0:we[zt],(i=M==null?void 0:M.classNames)==null?void 0:i[zt]),"data-sonner-toast":"","data-rich-colors":(c=M.richColors)!=null?c:V,"data-styled":!(M.jsx||M.unstyled||U),"data-mounted":Be,"data-promise":!!M.promise,"data-swiped":wn,"data-removed":ft,"data-visible":Ba,"data-y-position":pn,"data-x-position":Lr,"data-index":H,"data-front":Dn,"data-swiping":ht,"data-dismissible":br,"data-type":zt,"data-invert":Ft,"data-swipe-out":mt,"data-swipe-direction":tt,"data-expanded":!!(ae||Ne&&Be),style:{"--index":H,"--toasts-before":H,"--z-index":q.length-H,"--offset":`${ft?_n:qe.current}px`,"--initial-height":Ne?"auto":`${Rt}px`,...te,...M.style},onDragEnd:()=>{rt(!1),Oe(null),He.current=null},onPointerDown:lt=>{Or||!br||(ai.current=new Date,Yt(qe.current),lt.target.setPointerCapture(lt.pointerId),lt.target.tagName!=="BUTTON"&&(rt(!0),He.current={x:lt.clientX,y:lt.clientY}))},onPointerUp:()=>{var lt,$t,Ot,Tn;if(mt||!br)return;He.current=null;let Nn=Number(((lt=Dr.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number((($t=Dr.current)==null?void 0:$t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jr=new Date().getTime()-((Ot=ai.current)==null?void 0:Ot.getTime()),Tt=Ie==="x"?Nn:Yn,fn=Math.abs(Tt)/jr;if(Math.abs(Tt)>=dR||fn>.11){Yt(qe.current),(Tn=M.onDismiss)==null||Tn.call(M,M),Le(Ie==="x"?Nn>0?"right":"left":Yn>0?"down":"up"),rr(),An(!0),vr(!1);return}rt(!1),Oe(null)},onPointerMove:lt=>{var $t,Ot,Tn,Nn;if(!He.current||!br||(($t=window.getSelection())==null?void 0:$t.toString().length)>0)return;let Yn=lt.clientY-He.current.y,jr=lt.clientX-He.current.x,Tt=(Ot=t.swipeDirections)!=null?Ot:mR(ce);!Ie&&(Math.abs(jr)>1||Math.abs(Yn)>1)&&Oe(Math.abs(jr)>Math.abs(Yn)?"x":"y");let fn={x:0,y:0};Ie==="y"?(Tt.includes("top")||Tt.includes("bottom"))&&(Tt.includes("top")&&Yn<0||Tt.includes("bottom")&&Yn>0)&&(fn.y=Yn):Ie==="x"&&(Tt.includes("left")||Tt.includes("right"))&&(Tt.includes("left")&&jr<0||Tt.includes("right")&&jr>0)&&(fn.x=jr),(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&vr(!0),(Tn=Dr.current)==null||Tn.style.setProperty("--swipe-amount-x",`${fn.x}px`),(Nn=Dr.current)==null||Nn.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},La&&!M.jsx?ze.createElement("button",{"aria-label":ne,"data-disabled":Or,"data-close-button":!0,onClick:Or||!br?()=>{}:()=>{var lt;rr(),(lt=M.onDismiss)==null||lt.call(M,M)},className:Ni(we==null?void 0:we.closeButton,(h=M==null?void 0:M.classNames)==null?void 0:h.closeButton)},(y=Xe==null?void 0:Xe.close)!=null?y:$6):null,M.jsx||R.isValidElement(M.title)?M.jsx?M.jsx:typeof M.title=="function"?M.title():M.title:ze.createElement(ze.Fragment,null,zt||M.icon||M.promise?ze.createElement("div",{"data-icon":"",className:Ni(we==null?void 0:we.icon,(v=M==null?void 0:M.classNames)==null?void 0:v.icon)},M.promise||M.type==="loading"&&!M.icon?M.icon||ii():null,M.type!=="loading"?M.icon||(Xe==null?void 0:Xe[zt])||q6(zt):null):null,ze.createElement("div",{"data-content":"",className:Ni(we==null?void 0:we.content,(b=M==null?void 0:M.classNames)==null?void 0:b.content)},ze.createElement("div",{"data-title":"",className:Ni(we==null?void 0:we.title,(A=M==null?void 0:M.classNames)==null?void 0:A.title)},typeof M.title=="function"?M.title():M.title),M.description?ze.createElement("div",{"data-description":"",className:Ni(Ue,Kn,we==null?void 0:we.description,(E=M==null?void 0:M.classNames)==null?void 0:E.description)},typeof M.description=="function"?M.description():M.description):null),R.isValidElement(M.cancel)?M.cancel:M.cancel&&Sd(M.cancel)?ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:M.cancelButtonStyle||fe,onClick:lt=>{var $t,Ot;Sd(M.cancel)&&br&&((Ot=($t=M.cancel).onClick)==null||Ot.call($t,lt),rr())},className:Ni(we==null?void 0:we.cancelButton,(I=M==null?void 0:M.classNames)==null?void 0:I.cancelButton)},M.cancel.label):null,R.isValidElement(M.action)?M.action:M.action&&Sd(M.action)?ze.createElement("button",{"data-button":!0,"data-action":!0,style:M.actionButtonStyle||Re,onClick:lt=>{var $t,Ot;Sd(M.action)&&((Ot=($t=M.action).onClick)==null||Ot.call($t,lt),!lt.defaultPrevented&&rr())},className:Ni(we==null?void 0:we.actionButton,(N=M==null?void 0:M.classNames)==null?void 0:N.actionButton)},M.action.label):null))};function A2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gR(t,r){let i={};return[t,r].forEach((c,h)=>{let y=h===1,v=y?"--mobile-offset":"--offset",b=y?cR:lR;function A(E){["top","right","bottom","left"].forEach(I=>{i[`${v}-${I}`]=typeof E=="number"?`${E}px`:E})}typeof c=="number"||typeof c=="string"?A(c):typeof c=="object"?["top","right","bottom","left"].forEach(E=>{c[E]===void 0?i[`${v}-${E}`]=b:i[`${v}-${E}`]=typeof c[E]=="number"?`${c[E]}px`:c[E]}):A(b)}),i}var yR=R.forwardRef(function(t,r){let{invert:i,position:c="bottom-right",hotkey:h=["altKey","KeyT"],expand:y,closeButton:v,className:b,offset:A,mobileOffset:E,theme:I="light",richColors:N,duration:k,style:M,visibleToasts:U=sR,toastOptions:P,dir:j=A2(),gap:X=fR,loadingIcon:G,icons:H,containerAriaLabel:q="Notifications",pauseWhenPageIsHidden:ae}=t,[re,V]=ze.useState([]),Z=ze.useMemo(()=>Array.from(new Set([c].concat(re.filter(de=>de.position).map(de=>de.position)))),[re,c]),[te,fe]=ze.useState([]),[Re,xe]=ze.useState(!1),[Ue,me]=ze.useState(!1),[ce,ie]=ze.useState(I!=="system"?I:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ge=ze.useRef(null),Ne=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=ze.useRef(null),Xe=ze.useRef(!1),ne=ze.useCallback(de=>{V(Ie=>{var Oe;return(Oe=Ie.find(tt=>tt.id===de.id))!=null&&Oe.delete||Pa.dismiss(de.id),Ie.filter(({id:tt})=>tt!==de.id)})},[]);return ze.useEffect(()=>Pa.subscribe(de=>{if(de.dismiss){V(Ie=>Ie.map(Oe=>Oe.id===de.id?{...Oe,delete:!0}:Oe));return}setTimeout(()=>{Ew.flushSync(()=>{V(Ie=>{let Oe=Ie.findIndex(tt=>tt.id===de.id);return Oe!==-1?[...Ie.slice(0,Oe),{...Ie[Oe],...de},...Ie.slice(Oe+1)]:[de,...Ie]})})})}),[]),ze.useEffect(()=>{if(I!=="system"){ie(I);return}if(I==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:Ie})=>{ie(Ie?"dark":"light")})}catch{de.addListener(({matches:Oe})=>{try{ie(Oe?"dark":"light")}catch(tt){console.error(tt)}})}},[I]),ze.useEffect(()=>{re.length<=1&&xe(!1)},[re]),ze.useEffect(()=>{let de=Ie=>{var Oe,tt;h.every(Le=>Ie[Le]||Ie.code===Le)&&(xe(!0),(Oe=ge.current)==null||Oe.focus()),Ie.code==="Escape"&&(document.activeElement===ge.current||(tt=ge.current)!=null&&tt.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[h]),ze.useEffect(()=>{if(ge.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,Xe.current=!1)}},[ge.current]),ze.createElement("section",{ref:r,"aria-label":`${q} ${Ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Z.map((de,Ie)=>{var Oe;let[tt,Le]=de.split("-");return re.length?ze.createElement("ol",{key:de,dir:j==="auto"?A2():j,tabIndex:-1,ref:ge,className:b,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":tt,"data-lifted":Re&&re.length>1&&!y,"data-x-position":Le,style:{"--front-toast-height":`${((Oe=te[0])==null?void 0:Oe.height)||0}px`,"--width":`${uR}px`,"--gap":`${X}px`,...M,...gR(A,E)},onBlur:Be=>{Xe.current&&!Be.currentTarget.contains(Be.relatedTarget)&&(Xe.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||Xe.current||(Xe.current=!0,we.current=Be.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{Ue||xe(!1)},onDragEnd:()=>xe(!1),onPointerDown:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},re.filter(Be=>!Be.position&&Ie===0||Be.position===de).map((Be,et)=>{var ft,Ve;return ze.createElement(pR,{key:Be.id,icons:H,index:et,toast:Be,defaultRichColors:N,duration:(ft=P==null?void 0:P.duration)!=null?ft:k,className:P==null?void 0:P.className,descriptionClassName:P==null?void 0:P.descriptionClassName,invert:i,visibleToasts:U,closeButton:(Ve=P==null?void 0:P.closeButton)!=null?Ve:v,interacting:Ue,position:de,style:P==null?void 0:P.style,unstyled:P==null?void 0:P.unstyled,classNames:P==null?void 0:P.classNames,cancelButtonStyle:P==null?void 0:P.cancelButtonStyle,actionButtonStyle:P==null?void 0:P.actionButtonStyle,removeToast:ne,toasts:re.filter(ht=>ht.position==Be.position),heights:te.filter(ht=>ht.position==Be.position),setHeights:fe,expandByDefault:y,gap:X,loadingIcon:G,expanded:Re,pauseWhenPageIsHidden:ae,swipeDirections:t.swipeDirections})})):null}))});const xR=({...t})=>{const{theme:r="system"}=G6();return O.jsx(yR,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var vR=Ch[" useId ".trim().toString()]||(()=>{}),bR=0;function ki(t){const[r,i]=R.useState(vR());return Zr(()=>{i(c=>c??String(bR++))},[t]),t||(r?`radix-${r}`:"")}const wR=["top","right","bottom","left"],Vs=Math.min,ti=Math.max,ah=Math.round,Ad=Math.floor,ao=t=>({x:t,y:t}),ER={left:"right",right:"left",bottom:"top",top:"bottom"},CR={start:"end",end:"start"};function ap(t,r,i){return ti(t,Vs(r,i))}function Uo(t,r){return typeof t=="function"?t(r):t}function zo(t){return t.split("-")[0]}function Vc(t){return t.split("-")[1]}function Zp(t){return t==="x"?"y":"x"}function Qp(t){return t==="y"?"height":"width"}const SR=new Set(["top","bottom"]);function ro(t){return SR.has(zo(t))?"y":"x"}function $p(t){return Zp(ro(t))}function AR(t,r,i){i===void 0&&(i=!1);const c=Vc(t),h=$p(t),y=Qp(h);let v=h==="x"?c===(i?"end":"start")?"right":"left":c==="start"?"bottom":"top";return r.reference[y]>r.floating[y]&&(v=ih(v)),[v,ih(v)]}function _R(t){const r=ih(t);return[ip(t),r,ip(r)]}function ip(t){return t.replace(/start|end/g,r=>CR[r])}const _2=["left","right"],T2=["right","left"],TR=["top","bottom"],NR=["bottom","top"];function RR(t,r,i){switch(t){case"top":case"bottom":return i?r?T2:_2:r?_2:T2;case"left":case"right":return r?TR:NR;default:return[]}}function OR(t,r,i,c){const h=Vc(t);let y=RR(zo(t),i==="start",c);return h&&(y=y.map(v=>v+"-"+h),r&&(y=y.concat(y.map(ip)))),y}function ih(t){return t.replace(/left|right|bottom|top/g,r=>ER[r])}function IR(t){return{top:0,right:0,bottom:0,left:0,...t}}function dE(t){return typeof t!="number"?IR(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:r,y:i,width:c,height:h}=t;return{width:c,height:h,top:i,left:r,right:r+c,bottom:i+h,x:r,y:i}}function N2(t,r,i){let{reference:c,floating:h}=t;const y=ro(r),v=$p(r),b=Qp(v),A=zo(r),E=y==="y",I=c.x+c.width/2-h.width/2,N=c.y+c.height/2-h.height/2,k=c[b]/2-h[b]/2;let M;switch(A){case"top":M={x:I,y:c.y-h.height};break;case"bottom":M={x:I,y:c.y+c.height};break;case"right":M={x:c.x+c.width,y:N};break;case"left":M={x:c.x-h.width,y:N};break;default:M={x:c.x,y:c.y}}switch(Vc(r)){case"start":M[v]-=k*(i&&E?-1:1);break;case"end":M[v]+=k*(i&&E?-1:1);break}return M}async function MR(t,r){var i;r===void 0&&(r={});const{x:c,y:h,platform:y,rects:v,elements:b,strategy:A}=t,{boundary:E="clippingAncestors",rootBoundary:I="viewport",elementContext:N="floating",altBoundary:k=!1,padding:M=0}=Uo(r,t),U=dE(M),j=b[k?N==="floating"?"reference":"floating":N],X=oh(await y.getClippingRect({element:(i=await(y.isElement==null?void 0:y.isElement(j)))==null||i?j:j.contextElement||await(y.getDocumentElement==null?void 0:y.getDocumentElement(b.floating)),boundary:E,rootBoundary:I,strategy:A})),G=N==="floating"?{x:c,y:h,width:v.floating.width,height:v.floating.height}:v.reference,H=await(y.getOffsetParent==null?void 0:y.getOffsetParent(b.floating)),q=await(y.isElement==null?void 0:y.isElement(H))?await(y.getScale==null?void 0:y.getScale(H))||{x:1,y:1}:{x:1,y:1},ae=oh(y.convertOffsetParentRelativeRectToViewportRelativeRect?await y.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:G,offsetParent:H,strategy:A}):G);return{top:(X.top-ae.top+U.top)/q.y,bottom:(ae.bottom-X.bottom+U.bottom)/q.y,left:(X.left-ae.left+U.left)/q.x,right:(ae.right-X.right+U.right)/q.x}}const DR=async(t,r,i)=>{const{placement:c="bottom",strategy:h="absolute",middleware:y=[],platform:v}=i,b=y.filter(Boolean),A=await(v.isRTL==null?void 0:v.isRTL(r));let E=await v.getElementRects({reference:t,floating:r,strategy:h}),{x:I,y:N}=N2(E,c,A),k=c,M={},U=0;for(let j=0;j<b.length;j++){var P;const{name:X,fn:G}=b[j],{x:H,y:q,data:ae,reset:re}=await G({x:I,y:N,initialPlacement:c,placement:k,strategy:h,middlewareData:M,rects:E,platform:{...v,detectOverflow:(P=v.detectOverflow)!=null?P:MR},elements:{reference:t,floating:r}});I=H??I,N=q??N,M={...M,[X]:{...M[X],...ae}},re&&U<=50&&(U++,typeof re=="object"&&(re.placement&&(k=re.placement),re.rects&&(E=re.rects===!0?await v.getElementRects({reference:t,floating:r,strategy:h}):re.rects),{x:I,y:N}=N2(E,k,A)),j=-1)}return{x:I,y:N,placement:k,strategy:h,middlewareData:M}},PR=t=>({name:"arrow",options:t,async fn(r){const{x:i,y:c,placement:h,rects:y,platform:v,elements:b,middlewareData:A}=r,{element:E,padding:I=0}=Uo(t,r)||{};if(E==null)return{};const N=dE(I),k={x:i,y:c},M=$p(h),U=Qp(M),P=await v.getDimensions(E),j=M==="y",X=j?"top":"left",G=j?"bottom":"right",H=j?"clientHeight":"clientWidth",q=y.reference[U]+y.reference[M]-k[M]-y.floating[U],ae=k[M]-y.reference[M],re=await(v.getOffsetParent==null?void 0:v.getOffsetParent(E));let V=re?re[H]:0;(!V||!await(v.isElement==null?void 0:v.isElement(re)))&&(V=b.floating[H]||y.floating[U]);const Z=q/2-ae/2,te=V/2-P[U]/2-1,fe=Vs(N[X],te),Re=Vs(N[G],te),xe=fe,Ue=V-P[U]-Re,me=V/2-P[U]/2+Z,ce=ap(xe,me,Ue),ie=!A.arrow&&Vc(h)!=null&&me!==ce&&y.reference[U]/2-(me<xe?fe:Re)-P[U]/2<0,ge=ie?me<xe?me-xe:me-Ue:0;return{[M]:k[M]+ge,data:{[M]:ce,centerOffset:me-ce-ge,...ie&&{alignmentOffset:ge}},reset:ie}}}),kR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var i,c;const{placement:h,middlewareData:y,rects:v,initialPlacement:b,platform:A,elements:E}=r,{mainAxis:I=!0,crossAxis:N=!0,fallbackPlacements:k,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:P=!0,...j}=Uo(t,r);if((i=y.arrow)!=null&&i.alignmentOffset)return{};const X=zo(h),G=ro(b),H=zo(b)===b,q=await(A.isRTL==null?void 0:A.isRTL(E.floating)),ae=k||(H||!P?[ih(b)]:_R(b)),re=U!=="none";!k&&re&&ae.push(...OR(b,P,U,q));const V=[b,...ae],Z=await A.detectOverflow(r,j),te=[];let fe=((c=y.flip)==null?void 0:c.overflows)||[];if(I&&te.push(Z[X]),N){const me=AR(h,v,q);te.push(Z[me[0]],Z[me[1]])}if(fe=[...fe,{placement:h,overflows:te}],!te.every(me=>me<=0)){var Re,xe;const me=(((Re=y.flip)==null?void 0:Re.index)||0)+1,ce=V[me];if(ce&&(!(N==="alignment"?G!==ro(ce):!1)||fe.every(Ne=>ro(Ne.placement)===G?Ne.overflows[0]>0:!0)))return{data:{index:me,overflows:fe},reset:{placement:ce}};let ie=(xe=fe.filter(ge=>ge.overflows[0]<=0).sort((ge,Ne)=>ge.overflows[1]-Ne.overflows[1])[0])==null?void 0:xe.placement;if(!ie)switch(M){case"bestFit":{var Ue;const ge=(Ue=fe.filter(Ne=>{if(re){const we=ro(Ne.placement);return we===G||we==="y"}return!0}).map(Ne=>[Ne.placement,Ne.overflows.filter(we=>we>0).reduce((we,Xe)=>we+Xe,0)]).sort((Ne,we)=>Ne[1]-we[1])[0])==null?void 0:Ue[0];ge&&(ie=ge);break}case"initialPlacement":ie=b;break}if(h!==ie)return{reset:{placement:ie}}}return{}}}};function R2(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function O2(t){return wR.some(r=>t[r]>=0)}const BR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:i,platform:c}=r,{strategy:h="referenceHidden",...y}=Uo(t,r);switch(h){case"referenceHidden":{const v=await c.detectOverflow(r,{...y,elementContext:"reference"}),b=R2(v,i.reference);return{data:{referenceHiddenOffsets:b,referenceHidden:O2(b)}}}case"escaped":{const v=await c.detectOverflow(r,{...y,altBoundary:!0}),b=R2(v,i.floating);return{data:{escapedOffsets:b,escaped:O2(b)}}}default:return{}}}}},hE=new Set(["left","top"]);async function LR(t,r){const{placement:i,platform:c,elements:h}=t,y=await(c.isRTL==null?void 0:c.isRTL(h.floating)),v=zo(i),b=Vc(i),A=ro(i)==="y",E=hE.has(v)?-1:1,I=y&&A?-1:1,N=Uo(r,t);let{mainAxis:k,crossAxis:M,alignmentAxis:U}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return b&&typeof U=="number"&&(M=b==="end"?U*-1:U),A?{x:M*I,y:k*E}:{x:k*E,y:M*I}}const jR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var i,c;const{x:h,y,placement:v,middlewareData:b}=r,A=await LR(r,t);return v===((i=b.offset)==null?void 0:i.placement)&&(c=b.arrow)!=null&&c.alignmentOffset?{}:{x:h+A.x,y:y+A.y,data:{...A,placement:v}}}}},FR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:i,y:c,placement:h,platform:y}=r,{mainAxis:v=!0,crossAxis:b=!1,limiter:A={fn:X=>{let{x:G,y:H}=X;return{x:G,y:H}}},...E}=Uo(t,r),I={x:i,y:c},N=await y.detectOverflow(r,E),k=ro(zo(h)),M=Zp(k);let U=I[M],P=I[k];if(v){const X=M==="y"?"top":"left",G=M==="y"?"bottom":"right",H=U+N[X],q=U-N[G];U=ap(H,U,q)}if(b){const X=k==="y"?"top":"left",G=k==="y"?"bottom":"right",H=P+N[X],q=P-N[G];P=ap(H,P,q)}const j=A.fn({...r,[M]:U,[k]:P});return{...j,data:{x:j.x-i,y:j.y-c,enabled:{[M]:v,[k]:b}}}}}},UR=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:i,y:c,placement:h,rects:y,middlewareData:v}=r,{offset:b=0,mainAxis:A=!0,crossAxis:E=!0}=Uo(t,r),I={x:i,y:c},N=ro(h),k=Zp(N);let M=I[k],U=I[N];const P=Uo(b,r),j=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(A){const H=k==="y"?"height":"width",q=y.reference[k]-y.floating[H]+j.mainAxis,ae=y.reference[k]+y.reference[H]-j.mainAxis;M<q?M=q:M>ae&&(M=ae)}if(E){var X,G;const H=k==="y"?"width":"height",q=hE.has(zo(h)),ae=y.reference[N]-y.floating[H]+(q&&((X=v.offset)==null?void 0:X[N])||0)+(q?0:j.crossAxis),re=y.reference[N]+y.reference[H]+(q?0:((G=v.offset)==null?void 0:G[N])||0)-(q?j.crossAxis:0);U<ae?U=ae:U>re&&(U=re)}return{[k]:M,[N]:U}}}},zR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var i,c;const{placement:h,rects:y,platform:v,elements:b}=r,{apply:A=()=>{},...E}=Uo(t,r),I=await v.detectOverflow(r,E),N=zo(h),k=Vc(h),M=ro(h)==="y",{width:U,height:P}=y.floating;let j,X;N==="top"||N==="bottom"?(j=N,X=k===(await(v.isRTL==null?void 0:v.isRTL(b.floating))?"start":"end")?"left":"right"):(X=N,j=k==="end"?"top":"bottom");const G=P-I.top-I.bottom,H=U-I.left-I.right,q=Vs(P-I[j],G),ae=Vs(U-I[X],H),re=!r.middlewareData.shift;let V=q,Z=ae;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(Z=H),(c=r.middlewareData.shift)!=null&&c.enabled.y&&(V=G),re&&!k){const fe=ti(I.left,0),Re=ti(I.right,0),xe=ti(I.top,0),Ue=ti(I.bottom,0);M?Z=U-2*(fe!==0||Re!==0?fe+Re:ti(I.left,I.right)):V=P-2*(xe!==0||Ue!==0?xe+Ue:ti(I.top,I.bottom))}await A({...r,availableWidth:Z,availableHeight:V});const te=await v.getDimensions(b.floating);return U!==te.width||P!==te.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function Hc(t){return mE(t)?(t.nodeName||"").toLowerCase():"#document"}function ri(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function so(t){var r;return(r=(mE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function mE(t){return Bh()?t instanceof Node||t instanceof ri(t).Node:!1}function Li(t){return Bh()?t instanceof Element||t instanceof ri(t).Element:!1}function io(t){return Bh()?t instanceof HTMLElement||t instanceof ri(t).HTMLElement:!1}function I2(t){return!Bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ri(t).ShadowRoot}const VR=new Set(["inline","contents"]);function df(t){const{overflow:r,overflowX:i,overflowY:c,display:h}=ji(t);return/auto|scroll|overlay|hidden|clip/.test(r+c+i)&&!VR.has(h)}const HR=new Set(["table","td","th"]);function GR(t){return HR.has(Hc(t))}const qR=[":popover-open",":modal"];function Lh(t){return qR.some(r=>{try{return t.matches(r)}catch{return!1}})}const XR=["transform","translate","scale","rotate","perspective"],KR=["transform","translate","scale","rotate","perspective","filter"],YR=["paint","layout","strict","content"];function Jp(t){const r=eg(),i=Li(t)?ji(t):t;return XR.some(c=>i[c]?i[c]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||KR.some(c=>(i.willChange||"").includes(c))||YR.some(c=>(i.contain||"").includes(c))}function WR(t){let r=Hs(t);for(;io(r)&&!Dc(r);){if(Jp(r))return r;if(Lh(r))return null;r=Hs(r)}return null}function eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZR=new Set(["html","body","#document"]);function Dc(t){return ZR.has(Hc(t))}function ji(t){return ri(t).getComputedStyle(t)}function jh(t){return Li(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(Hc(t)==="html")return t;const r=t.assignedSlot||t.parentNode||I2(t)&&t.host||so(t);return I2(r)?r.host:r}function pE(t){const r=Hs(t);return Dc(r)?t.ownerDocument?t.ownerDocument.body:t.body:io(r)&&df(r)?r:pE(r)}function Yu(t,r,i){var c;r===void 0&&(r=[]),i===void 0&&(i=!0);const h=pE(t),y=h===((c=t.ownerDocument)==null?void 0:c.body),v=ri(h);if(y){const b=op(v);return r.concat(v,v.visualViewport||[],df(h)?h:[],b&&i?Yu(b):[])}return r.concat(h,Yu(h,[],i))}function op(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gE(t){const r=ji(t);let i=parseFloat(r.width)||0,c=parseFloat(r.height)||0;const h=io(t),y=h?t.offsetWidth:i,v=h?t.offsetHeight:c,b=ah(i)!==y||ah(c)!==v;return b&&(i=y,c=v),{width:i,height:c,$:b}}function tg(t){return Li(t)?t:t.contextElement}function vc(t){const r=tg(t);if(!io(r))return ao(1);const i=r.getBoundingClientRect(),{width:c,height:h,$:y}=gE(r);let v=(y?ah(i.width):i.width)/c,b=(y?ah(i.height):i.height)/h;return(!v||!Number.isFinite(v))&&(v=1),(!b||!Number.isFinite(b))&&(b=1),{x:v,y:b}}const QR=ao(0);function yE(t){const r=ri(t);return!eg()||!r.visualViewport?QR:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function $R(t,r,i){return r===void 0&&(r=!1),!i||r&&i!==ri(t)?!1:r}function Rl(t,r,i,c){r===void 0&&(r=!1),i===void 0&&(i=!1);const h=t.getBoundingClientRect(),y=tg(t);let v=ao(1);r&&(c?Li(c)&&(v=vc(c)):v=vc(t));const b=$R(y,i,c)?yE(y):ao(0);let A=(h.left+b.x)/v.x,E=(h.top+b.y)/v.y,I=h.width/v.x,N=h.height/v.y;if(y){const k=ri(y),M=c&&Li(c)?ri(c):c;let U=k,P=op(U);for(;P&&c&&M!==U;){const j=vc(P),X=P.getBoundingClientRect(),G=ji(P),H=X.left+(P.clientLeft+parseFloat(G.paddingLeft))*j.x,q=X.top+(P.clientTop+parseFloat(G.paddingTop))*j.y;A*=j.x,E*=j.y,I*=j.x,N*=j.y,A+=H,E+=q,U=ri(P),P=op(U)}}return oh({width:I,height:N,x:A,y:E})}function Fh(t,r){const i=jh(t).scrollLeft;return r?r.left+i:Rl(so(t)).left+i}function xE(t,r){const i=t.getBoundingClientRect(),c=i.left+r.scrollLeft-Fh(t,i),h=i.top+r.scrollTop;return{x:c,y:h}}function JR(t){let{elements:r,rect:i,offsetParent:c,strategy:h}=t;const y=h==="fixed",v=so(c),b=r?Lh(r.floating):!1;if(c===v||b&&y)return i;let A={scrollLeft:0,scrollTop:0},E=ao(1);const I=ao(0),N=io(c);if((N||!N&&!y)&&((Hc(c)!=="body"||df(v))&&(A=jh(c)),io(c))){const M=Rl(c);E=vc(c),I.x=M.x+c.clientLeft,I.y=M.y+c.clientTop}const k=v&&!N&&!y?xE(v,A):ao(0);return{width:i.width*E.x,height:i.height*E.y,x:i.x*E.x-A.scrollLeft*E.x+I.x+k.x,y:i.y*E.y-A.scrollTop*E.y+I.y+k.y}}function eO(t){return Array.from(t.getClientRects())}function tO(t){const r=so(t),i=jh(t),c=t.ownerDocument.body,h=ti(r.scrollWidth,r.clientWidth,c.scrollWidth,c.clientWidth),y=ti(r.scrollHeight,r.clientHeight,c.scrollHeight,c.clientHeight);let v=-i.scrollLeft+Fh(t);const b=-i.scrollTop;return ji(c).direction==="rtl"&&(v+=ti(r.clientWidth,c.clientWidth)-h),{width:h,height:y,x:v,y:b}}const M2=25;function nO(t,r){const i=ri(t),c=so(t),h=i.visualViewport;let y=c.clientWidth,v=c.clientHeight,b=0,A=0;if(h){y=h.width,v=h.height;const I=eg();(!I||I&&r==="fixed")&&(b=h.offsetLeft,A=h.offsetTop)}const E=Fh(c);if(E<=0){const I=c.ownerDocument,N=I.body,k=getComputedStyle(N),M=I.compatMode==="CSS1Compat"&&parseFloat(k.marginLeft)+parseFloat(k.marginRight)||0,U=Math.abs(c.clientWidth-N.clientWidth-M);U<=M2&&(y-=U)}else E<=M2&&(y+=E);return{width:y,height:v,x:b,y:A}}const rO=new Set(["absolute","fixed"]);function aO(t,r){const i=Rl(t,!0,r==="fixed"),c=i.top+t.clientTop,h=i.left+t.clientLeft,y=io(t)?vc(t):ao(1),v=t.clientWidth*y.x,b=t.clientHeight*y.y,A=h*y.x,E=c*y.y;return{width:v,height:b,x:A,y:E}}function D2(t,r,i){let c;if(r==="viewport")c=nO(t,i);else if(r==="document")c=tO(so(t));else if(Li(r))c=aO(r,i);else{const h=yE(t);c={x:r.x-h.x,y:r.y-h.y,width:r.width,height:r.height}}return oh(c)}function vE(t,r){const i=Hs(t);return i===r||!Li(i)||Dc(i)?!1:ji(i).position==="fixed"||vE(i,r)}function iO(t,r){const i=r.get(t);if(i)return i;let c=Yu(t,[],!1).filter(b=>Li(b)&&Hc(b)!=="body"),h=null;const y=ji(t).position==="fixed";let v=y?Hs(t):t;for(;Li(v)&&!Dc(v);){const b=ji(v),A=Jp(v);!A&&b.position==="fixed"&&(h=null),(y?!A&&!h:!A&&b.position==="static"&&!!h&&rO.has(h.position)||df(v)&&!A&&vE(t,v))?c=c.filter(I=>I!==v):h=b,v=Hs(v)}return r.set(t,c),c}function oO(t){let{element:r,boundary:i,rootBoundary:c,strategy:h}=t;const v=[...i==="clippingAncestors"?Lh(r)?[]:iO(r,this._c):[].concat(i),c],b=v[0],A=v.reduce((E,I)=>{const N=D2(r,I,h);return E.top=ti(N.top,E.top),E.right=Vs(N.right,E.right),E.bottom=Vs(N.bottom,E.bottom),E.left=ti(N.left,E.left),E},D2(r,b,h));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function sO(t){const{width:r,height:i}=gE(t);return{width:r,height:i}}function lO(t,r,i){const c=io(r),h=so(r),y=i==="fixed",v=Rl(t,!0,y,r);let b={scrollLeft:0,scrollTop:0};const A=ao(0);function E(){A.x=Fh(h)}if(c||!c&&!y)if((Hc(r)!=="body"||df(h))&&(b=jh(r)),c){const M=Rl(r,!0,y,r);A.x=M.x+r.clientLeft,A.y=M.y+r.clientTop}else h&&E();y&&!c&&h&&E();const I=h&&!c&&!y?xE(h,b):ao(0),N=v.left+b.scrollLeft-A.x-I.x,k=v.top+b.scrollTop-A.y-I.y;return{x:N,y:k,width:v.width,height:v.height}}function xm(t){return ji(t).position==="static"}function P2(t,r){if(!io(t)||ji(t).position==="fixed")return null;if(r)return r(t);let i=t.offsetParent;return so(t)===i&&(i=i.ownerDocument.body),i}function bE(t,r){const i=ri(t);if(Lh(t))return i;if(!io(t)){let h=Hs(t);for(;h&&!Dc(h);){if(Li(h)&&!xm(h))return h;h=Hs(h)}return i}let c=P2(t,r);for(;c&&GR(c)&&xm(c);)c=P2(c,r);return c&&Dc(c)&&xm(c)&&!Jp(c)?i:c||WR(t)||i}const cO=async function(t){const r=this.getOffsetParent||bE,i=this.getDimensions,c=await i(t.floating);return{reference:lO(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function uO(t){return ji(t).direction==="rtl"}const fO={convertOffsetParentRelativeRectToViewportRelativeRect:JR,getDocumentElement:so,getClippingRect:oO,getOffsetParent:bE,getElementRects:cO,getClientRects:eO,getDimensions:sO,getScale:vc,isElement:Li,isRTL:uO};function wE(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function dO(t,r){let i=null,c;const h=so(t);function y(){var b;clearTimeout(c),(b=i)==null||b.disconnect(),i=null}function v(b,A){b===void 0&&(b=!1),A===void 0&&(A=1),y();const E=t.getBoundingClientRect(),{left:I,top:N,width:k,height:M}=E;if(b||r(),!k||!M)return;const U=Ad(N),P=Ad(h.clientWidth-(I+k)),j=Ad(h.clientHeight-(N+M)),X=Ad(I),H={rootMargin:-U+"px "+-P+"px "+-j+"px "+-X+"px",threshold:ti(0,Vs(1,A))||1};let q=!0;function ae(re){const V=re[0].intersectionRatio;if(V!==A){if(!q)return v();V?v(!1,V):c=setTimeout(()=>{v(!1,1e-7)},1e3)}V===1&&!wE(E,t.getBoundingClientRect())&&v(),q=!1}try{i=new IntersectionObserver(ae,{...H,root:h.ownerDocument})}catch{i=new IntersectionObserver(ae,H)}i.observe(t)}return v(!0),y}function hO(t,r,i,c){c===void 0&&(c={});const{ancestorScroll:h=!0,ancestorResize:y=!0,elementResize:v=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:A=!1}=c,E=tg(t),I=h||y?[...E?Yu(E):[],...Yu(r)]:[];I.forEach(X=>{h&&X.addEventListener("scroll",i,{passive:!0}),y&&X.addEventListener("resize",i)});const N=E&&b?dO(E,i):null;let k=-1,M=null;v&&(M=new ResizeObserver(X=>{let[G]=X;G&&G.target===E&&M&&(M.unobserve(r),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{var H;(H=M)==null||H.observe(r)})),i()}),E&&!A&&M.observe(E),M.observe(r));let U,P=A?Rl(t):null;A&&j();function j(){const X=Rl(t);P&&!wE(P,X)&&i(),P=X,U=requestAnimationFrame(j)}return i(),()=>{var X;I.forEach(G=>{h&&G.removeEventListener("scroll",i),y&&G.removeEventListener("resize",i)}),N==null||N(),(X=M)==null||X.disconnect(),M=null,A&&cancelAnimationFrame(U)}}const mO=jR,pO=FR,gO=kR,yO=zR,xO=BR,k2=PR,vO=UR,bO=(t,r,i)=>{const c=new Map,h={platform:fO,...i},y={...h.platform,_c:c};return DR(t,r,{...h,platform:y})};var wO=typeof document<"u",EO=function(){},zd=wO?R.useLayoutEffect:EO;function sh(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let i,c,h;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(i=t.length,i!==r.length)return!1;for(c=i;c--!==0;)if(!sh(t[c],r[c]))return!1;return!0}if(h=Object.keys(t),i=h.length,i!==Object.keys(r).length)return!1;for(c=i;c--!==0;)if(!{}.hasOwnProperty.call(r,h[c]))return!1;for(c=i;c--!==0;){const y=h[c];if(!(y==="_owner"&&t.$$typeof)&&!sh(t[y],r[y]))return!1}return!0}return t!==t&&r!==r}function EE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B2(t,r){const i=EE(t);return Math.round(r*i)/i}function vm(t){const r=R.useRef(t);return zd(()=>{r.current=t}),r}function CO(t){t===void 0&&(t={});const{placement:r="bottom",strategy:i="absolute",middleware:c=[],platform:h,elements:{reference:y,floating:v}={},transform:b=!0,whileElementsMounted:A,open:E}=t,[I,N]=R.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[k,M]=R.useState(c);sh(k,c)||M(c);const[U,P]=R.useState(null),[j,X]=R.useState(null),G=R.useCallback(Ne=>{Ne!==re.current&&(re.current=Ne,P(Ne))},[]),H=R.useCallback(Ne=>{Ne!==V.current&&(V.current=Ne,X(Ne))},[]),q=y||U,ae=v||j,re=R.useRef(null),V=R.useRef(null),Z=R.useRef(I),te=A!=null,fe=vm(A),Re=vm(h),xe=vm(E),Ue=R.useCallback(()=>{if(!re.current||!V.current)return;const Ne={placement:r,strategy:i,middleware:k};Re.current&&(Ne.platform=Re.current),bO(re.current,V.current,Ne).then(we=>{const Xe={...we,isPositioned:xe.current!==!1};me.current&&!sh(Z.current,Xe)&&(Z.current=Xe,Uc.flushSync(()=>{N(Xe)}))})},[k,r,i,Re,xe]);zd(()=>{E===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,N(Ne=>({...Ne,isPositioned:!1})))},[E]);const me=R.useRef(!1);zd(()=>(me.current=!0,()=>{me.current=!1}),[]),zd(()=>{if(q&&(re.current=q),ae&&(V.current=ae),q&&ae){if(fe.current)return fe.current(q,ae,Ue);Ue()}},[q,ae,Ue,fe,te]);const ce=R.useMemo(()=>({reference:re,floating:V,setReference:G,setFloating:H}),[G,H]),ie=R.useMemo(()=>({reference:q,floating:ae}),[q,ae]),ge=R.useMemo(()=>{const Ne={position:i,left:0,top:0};if(!ie.floating)return Ne;const we=B2(ie.floating,I.x),Xe=B2(ie.floating,I.y);return b?{...Ne,transform:"translate("+we+"px, "+Xe+"px)",...EE(ie.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:we,top:Xe}},[i,b,ie.floating,I.x,I.y]);return R.useMemo(()=>({...I,update:Ue,refs:ce,elements:ie,floatingStyles:ge}),[I,Ue,ce,ie,ge])}const SO=t=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){const{element:c,padding:h}=typeof t=="function"?t(i):t;return c&&r(c)?c.current!=null?k2({element:c.current,padding:h}).fn(i):{}:c?k2({element:c,padding:h}).fn(i):{}}}},AO=(t,r)=>({...mO(t),options:[t,r]}),_O=(t,r)=>({...pO(t),options:[t,r]}),TO=(t,r)=>({...vO(t),options:[t,r]}),NO=(t,r)=>({...gO(t),options:[t,r]}),RO=(t,r)=>({...yO(t),options:[t,r]}),OO=(t,r)=>({...xO(t),options:[t,r]}),IO=(t,r)=>({...SO(t),options:[t,r]});var MO="Arrow",CE=R.forwardRef((t,r)=>{const{children:i,width:c=10,height:h=5,...y}=t;return O.jsx(Dt.svg,{...y,ref:r,width:c,height:h,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?i:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});CE.displayName=MO;var DO=CE;function SE(t){const[r,i]=R.useState(void 0);return Zr(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});const c=new ResizeObserver(h=>{if(!Array.isArray(h)||!h.length)return;const y=h[0];let v,b;if("borderBoxSize"in y){const A=y.borderBoxSize,E=Array.isArray(A)?A[0]:A;v=E.inlineSize,b=E.blockSize}else v=t.offsetWidth,b=t.offsetHeight;i({width:v,height:b})});return c.observe(t,{box:"border-box"}),()=>c.unobserve(t)}else i(void 0)},[t]),r}var ng="Popper",[AE,Gs]=Fi(ng),[PO,_E]=AE(ng),TE=t=>{const{__scopePopper:r,children:i}=t,[c,h]=R.useState(null);return O.jsx(PO,{scope:r,anchor:c,onAnchorChange:h,children:i})};TE.displayName=ng;var NE="PopperAnchor",RE=R.forwardRef((t,r)=>{const{__scopePopper:i,virtualRef:c,...h}=t,y=_E(NE,i),v=R.useRef(null),b=un(r,v),A=R.useRef(null);return R.useEffect(()=>{const E=A.current;A.current=(c==null?void 0:c.current)||v.current,E!==A.current&&y.onAnchorChange(A.current)}),c?null:O.jsx(Dt.div,{...h,ref:b})});RE.displayName=NE;var rg="PopperContent",[kO,BO]=AE(rg),OE=R.forwardRef((t,r)=>{var Be,et,ft,Ve,ht,rt;const{__scopePopper:i,side:c="bottom",sideOffset:h=0,align:y="center",alignOffset:v=0,arrowPadding:b=0,avoidCollisions:A=!0,collisionBoundary:E=[],collisionPadding:I=0,sticky:N="partial",hideWhenDetached:k=!1,updatePositionStrategy:M="optimized",onPlaced:U,...P}=t,j=_E(rg,i),[X,G]=R.useState(null),H=un(r,mt=>G(mt)),[q,ae]=R.useState(null),re=SE(q),V=(re==null?void 0:re.width)??0,Z=(re==null?void 0:re.height)??0,te=c+(y!=="center"?"-"+y:""),fe=typeof I=="number"?I:{top:0,right:0,bottom:0,left:0,...I},Re=Array.isArray(E)?E:[E],xe=Re.length>0,Ue={padding:fe,boundary:Re.filter(jO),altBoundary:xe},{refs:me,floatingStyles:ce,placement:ie,isPositioned:ge,middlewareData:Ne}=CO({strategy:"fixed",placement:te,whileElementsMounted:(...mt)=>hO(...mt,{animationFrame:M==="always"}),elements:{reference:j.anchor},middleware:[AO({mainAxis:h+Z,alignmentAxis:v}),A&&_O({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?TO():void 0,...Ue}),A&&NO({...Ue}),RO({...Ue,apply:({elements:mt,rects:An,availableWidth:wn,availableHeight:vr})=>{const{width:_n,height:Yt}=An.reference,Rt=mt.floating.style;Rt.setProperty("--radix-popper-available-width",`${wn}px`),Rt.setProperty("--radix-popper-available-height",`${vr}px`),Rt.setProperty("--radix-popper-anchor-width",`${_n}px`),Rt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),q&&IO({element:q,padding:b}),FO({arrowWidth:V,arrowHeight:Z}),k&&OO({strategy:"referenceHidden",...Ue})]}),[we,Xe]=DE(ie),ne=ka(U);Zr(()=>{ge&&(ne==null||ne())},[ge,ne]);const de=(Be=Ne.arrow)==null?void 0:Be.x,Ie=(et=Ne.arrow)==null?void 0:et.y,Oe=((ft=Ne.arrow)==null?void 0:ft.centerOffset)!==0,[tt,Le]=R.useState();return Zr(()=>{X&&Le(window.getComputedStyle(X).zIndex)},[X]),O.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ge?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(Ve=Ne.transformOrigin)==null?void 0:Ve.x,(ht=Ne.transformOrigin)==null?void 0:ht.y].join(" "),...((rt=Ne.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:O.jsx(kO,{scope:i,placedSide:we,onArrowChange:ae,arrowX:de,arrowY:Ie,shouldHideArrow:Oe,children:O.jsx(Dt.div,{"data-side":we,"data-align":Xe,...P,ref:H,style:{...P.style,animation:ge?void 0:"none"}})})})});OE.displayName=rg;var IE="PopperArrow",LO={top:"bottom",right:"left",bottom:"top",left:"right"},ME=R.forwardRef(function(r,i){const{__scopePopper:c,...h}=r,y=BO(IE,c),v=LO[y.placedSide];return O.jsx("span",{ref:y.onArrowChange,style:{position:"absolute",left:y.arrowX,top:y.arrowY,[v]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[y.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[y.placedSide],visibility:y.shouldHideArrow?"hidden":void 0},children:O.jsx(DO,{...h,ref:i,style:{...h.style,display:"block"}})})});ME.displayName=IE;function jO(t){return t!==null}var FO=t=>({name:"transformOrigin",options:t,fn(r){var j,X,G;const{placement:i,rects:c,middlewareData:h}=r,v=((j=h.arrow)==null?void 0:j.centerOffset)!==0,b=v?0:t.arrowWidth,A=v?0:t.arrowHeight,[E,I]=DE(i),N={start:"0%",center:"50%",end:"100%"}[I],k=(((X=h.arrow)==null?void 0:X.x)??0)+b/2,M=(((G=h.arrow)==null?void 0:G.y)??0)+A/2;let U="",P="";return E==="bottom"?(U=v?N:`${k}px`,P=`${-A}px`):E==="top"?(U=v?N:`${k}px`,P=`${c.floating.height+A}px`):E==="right"?(U=`${-A}px`,P=v?N:`${M}px`):E==="left"&&(U=`${c.floating.width+A}px`,P=v?N:`${M}px`),{data:{x:U,y:P}}}});function DE(t){const[r,i="center"]=t.split("-");return[r,i]}var Uh=TE,hf=RE,zh=OE,Vh=ME,UO=Symbol("radix.slottable");function zO(t){const r=({children:i})=>O.jsx(O.Fragment,{children:i});return r.displayName=`${t}.Slottable`,r.__radixId=UO,r}var[Hh]=Fi("Tooltip",[Gs]),Gh=Gs(),PE="TooltipProvider",VO=700,sp="tooltip.open",[HO,ag]=Hh(PE),kE=t=>{const{__scopeTooltip:r,delayDuration:i=VO,skipDelayDuration:c=300,disableHoverableContent:h=!1,children:y}=t,v=R.useRef(!0),b=R.useRef(!1),A=R.useRef(0);return R.useEffect(()=>{const E=A.current;return()=>window.clearTimeout(E)},[]),O.jsx(HO,{scope:r,isOpenDelayedRef:v,delayDuration:i,onOpen:R.useCallback(()=>{window.clearTimeout(A.current),v.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>v.current=!0,c)},[c]),isPointerInTransitRef:b,onPointerInTransitChange:R.useCallback(E=>{b.current=E},[]),disableHoverableContent:h,children:y})};kE.displayName=PE;var Wu="Tooltip",[GO,qh]=Hh(Wu),BE=t=>{const{__scopeTooltip:r,children:i,open:c,defaultOpen:h,onOpenChange:y,disableHoverableContent:v,delayDuration:b}=t,A=ag(Wu,t.__scopeTooltip),E=Gh(r),[I,N]=R.useState(null),k=ki(),M=R.useRef(0),U=v??A.disableHoverableContent,P=b??A.delayDuration,j=R.useRef(!1),[X,G]=Fo({prop:c,defaultProp:h??!1,onChange:V=>{V?(A.onOpen(),document.dispatchEvent(new CustomEvent(sp))):A.onClose(),y==null||y(V)},caller:Wu}),H=R.useMemo(()=>X?j.current?"delayed-open":"instant-open":"closed",[X]),q=R.useCallback(()=>{window.clearTimeout(M.current),M.current=0,j.current=!1,G(!0)},[G]),ae=R.useCallback(()=>{window.clearTimeout(M.current),M.current=0,G(!1)},[G]),re=R.useCallback(()=>{window.clearTimeout(M.current),M.current=window.setTimeout(()=>{j.current=!0,G(!0),M.current=0},P)},[P,G]);return R.useEffect(()=>()=>{M.current&&(window.clearTimeout(M.current),M.current=0)},[]),O.jsx(Uh,{...E,children:O.jsx(GO,{scope:r,contentId:k,open:X,stateAttribute:H,trigger:I,onTriggerChange:N,onTriggerEnter:R.useCallback(()=>{A.isOpenDelayedRef.current?re():q()},[A.isOpenDelayedRef,re,q]),onTriggerLeave:R.useCallback(()=>{U?ae():(window.clearTimeout(M.current),M.current=0)},[ae,U]),onOpen:q,onClose:ae,disableHoverableContent:U,children:i})})};BE.displayName=Wu;var lp="TooltipTrigger",LE=R.forwardRef((t,r)=>{const{__scopeTooltip:i,...c}=t,h=qh(lp,i),y=ag(lp,i),v=Gh(i),b=R.useRef(null),A=un(r,b,h.onTriggerChange),E=R.useRef(!1),I=R.useRef(!1),N=R.useCallback(()=>E.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",N),[N]),O.jsx(hf,{asChild:!0,...v,children:O.jsx(Dt.button,{"aria-describedby":h.open?h.contentId:void 0,"data-state":h.stateAttribute,...c,ref:A,onPointerMove:Je(t.onPointerMove,k=>{k.pointerType!=="touch"&&!I.current&&!y.isPointerInTransitRef.current&&(h.onTriggerEnter(),I.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{h.onTriggerLeave(),I.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{h.open&&h.onClose(),E.current=!0,document.addEventListener("pointerup",N,{once:!0})}),onFocus:Je(t.onFocus,()=>{E.current||h.onOpen()}),onBlur:Je(t.onBlur,h.onClose),onClick:Je(t.onClick,h.onClose)})})});LE.displayName=lp;var qO="TooltipPortal",[yB,XO]=Hh(qO,{forceMount:void 0}),Pc="TooltipContent",jE=R.forwardRef((t,r)=>{const i=XO(Pc,t.__scopeTooltip),{forceMount:c=i.forceMount,side:h="top",...y}=t,v=qh(Pc,t.__scopeTooltip);return O.jsx(xi,{present:c||v.open,children:v.disableHoverableContent?O.jsx(FE,{side:h,...y,ref:r}):O.jsx(KO,{side:h,...y,ref:r})})}),KO=R.forwardRef((t,r)=>{const i=qh(Pc,t.__scopeTooltip),c=ag(Pc,t.__scopeTooltip),h=R.useRef(null),y=un(r,h),[v,b]=R.useState(null),{trigger:A,onClose:E}=i,I=h.current,{onPointerInTransitChange:N}=c,k=R.useCallback(()=>{b(null),N(!1)},[N]),M=R.useCallback((U,P)=>{const j=U.currentTarget,X={x:U.clientX,y:U.clientY},G=$O(X,j.getBoundingClientRect()),H=JO(X,G),q=eI(P.getBoundingClientRect()),ae=nI([...H,...q]);b(ae),N(!0)},[N]);return R.useEffect(()=>()=>k(),[k]),R.useEffect(()=>{if(A&&I){const U=j=>M(j,I),P=j=>M(j,A);return A.addEventListener("pointerleave",U),I.addEventListener("pointerleave",P),()=>{A.removeEventListener("pointerleave",U),I.removeEventListener("pointerleave",P)}}},[A,I,M,k]),R.useEffect(()=>{if(v){const U=P=>{const j=P.target,X={x:P.clientX,y:P.clientY},G=(A==null?void 0:A.contains(j))||(I==null?void 0:I.contains(j)),H=!tI(X,v);G?k():H&&(k(),E())};return document.addEventListener("pointermove",U),()=>document.removeEventListener("pointermove",U)}},[A,I,v,E,k]),O.jsx(FE,{...t,ref:y})}),[YO,WO]=Hh(Wu,{isInside:!1}),ZO=zO("TooltipContent"),FE=R.forwardRef((t,r)=>{const{__scopeTooltip:i,children:c,"aria-label":h,onEscapeKeyDown:y,onPointerDownOutside:v,...b}=t,A=qh(Pc,i),E=Gh(i),{onClose:I}=A;return R.useEffect(()=>(document.addEventListener(sp,I),()=>document.removeEventListener(sp,I)),[I]),R.useEffect(()=>{if(A.trigger){const N=k=>{const M=k.target;M!=null&&M.contains(A.trigger)&&I()};return window.addEventListener("scroll",N,{capture:!0}),()=>window.removeEventListener("scroll",N,{capture:!0})}},[A.trigger,I]),O.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:N=>N.preventDefault(),onDismiss:I,children:O.jsxs(zh,{"data-state":A.stateAttribute,...E,...b,ref:r,style:{...b.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(ZO,{children:c}),O.jsx(YO,{scope:i,isInside:!0,children:O.jsx(B8,{id:A.contentId,role:"tooltip",children:h||c})})]})})});jE.displayName=Pc;var UE="TooltipArrow",QO=R.forwardRef((t,r)=>{const{__scopeTooltip:i,...c}=t,h=Gh(i);return WO(UE,i).isInside?null:O.jsx(Vh,{...h,...c,ref:r})});QO.displayName=UE;function $O(t,r){const i=Math.abs(r.top-t.y),c=Math.abs(r.bottom-t.y),h=Math.abs(r.right-t.x),y=Math.abs(r.left-t.x);switch(Math.min(i,c,h,y)){case y:return"left";case h:return"right";case i:return"top";case c:return"bottom";default:throw new Error("unreachable")}}function JO(t,r,i=5){const c=[];switch(r){case"top":c.push({x:t.x-i,y:t.y+i},{x:t.x+i,y:t.y+i});break;case"bottom":c.push({x:t.x-i,y:t.y-i},{x:t.x+i,y:t.y-i});break;case"left":c.push({x:t.x+i,y:t.y-i},{x:t.x+i,y:t.y+i});break;case"right":c.push({x:t.x-i,y:t.y-i},{x:t.x-i,y:t.y+i});break}return c}function eI(t){const{top:r,right:i,bottom:c,left:h}=t;return[{x:h,y:r},{x:i,y:r},{x:i,y:c},{x:h,y:c}]}function tI(t,r){const{x:i,y:c}=t;let h=!1;for(let y=0,v=r.length-1;y<r.length;v=y++){const b=r[y],A=r[v],E=b.x,I=b.y,N=A.x,k=A.y;I>c!=k>c&&i<(N-E)*(c-I)/(k-I)+E&&(h=!h)}return h}function nI(t){const r=t.slice();return r.sort((i,c)=>i.x<c.x?-1:i.x>c.x?1:i.y<c.y?-1:i.y>c.y?1:0),rI(r)}function rI(t){if(t.length<=1)return t.slice();const r=[];for(let c=0;c<t.length;c++){const h=t[c];for(;r.length>=2;){const y=r[r.length-1],v=r[r.length-2];if((y.x-v.x)*(h.y-v.y)>=(y.y-v.y)*(h.x-v.x))r.pop();else break}r.push(h)}r.pop();const i=[];for(let c=t.length-1;c>=0;c--){const h=t[c];for(;i.length>=2;){const y=i[i.length-1],v=i[i.length-2];if((y.x-v.x)*(h.y-v.y)>=(y.y-v.y)*(h.x-v.x))i.pop();else break}i.push(h)}return i.pop(),r.length===1&&i.length===1&&r[0].x===i[0].x&&r[0].y===i[0].y?r:r.concat(i)}var aI=kE,iI=BE,oI=LE,zE=jE;const sI=aI,xB=iI,vB=oI,lI=R.forwardRef(({className:t,sideOffset:r=4,...i},c)=>O.jsx(zE,{ref:c,sideOffset:r,className:At("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i}));lI.displayName=zE.displayName;var Xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cI={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},Ms,Mp,Rb,uI=(Rb=class{constructor(){cn(this,Ms,cI);cn(this,Mp,!1)}setTimeoutProvider(t){It(this,Ms,t)}setTimeout(t,r){return De(this,Ms).setTimeout(t,r)}clearTimeout(t){De(this,Ms).clearTimeout(t)}setInterval(t,r){return De(this,Ms).setInterval(t,r)}clearInterval(t){De(this,Ms).clearInterval(t)}},Ms=new WeakMap,Mp=new WeakMap,Rb),cp=new uI;function fI(t){setTimeout(t,0)}var Kh=typeof window>"u"||"Deno"in globalThis;function Oi(){}function dI(t,r){return typeof t=="function"?t(r):t}function hI(t){return typeof t=="number"&&t>=0&&t!==1/0}function mI(t,r){return Math.max(t+(r||0)-Date.now(),0)}function up(t,r){return typeof t=="function"?t(r):t}function pI(t,r){return typeof t=="function"?t(r):t}function L2(t,r){const{type:i="all",exact:c,fetchStatus:h,predicate:y,queryKey:v,stale:b}=t;if(v){if(c){if(r.queryHash!==ig(v,r.options))return!1}else if(!Qu(r.queryKey,v))return!1}if(i!=="all"){const A=r.isActive();if(i==="active"&&!A||i==="inactive"&&A)return!1}return!(typeof b=="boolean"&&r.isStale()!==b||h&&h!==r.state.fetchStatus||y&&!y(r))}function j2(t,r){const{exact:i,status:c,predicate:h,mutationKey:y}=t;if(y){if(!r.options.mutationKey)return!1;if(i){if(Zu(r.options.mutationKey)!==Zu(y))return!1}else if(!Qu(r.options.mutationKey,y))return!1}return!(c&&r.state.status!==c||h&&!h(r))}function ig(t,r){return((r==null?void 0:r.queryKeyHashFn)||Zu)(t)}function Zu(t){return JSON.stringify(t,(r,i)=>fp(i)?Object.keys(i).sort().reduce((c,h)=>(c[h]=i[h],c),{}):i)}function Qu(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(i=>Qu(t[i],r[i])):!1}var gI=Object.prototype.hasOwnProperty;function VE(t,r,i=0){if(t===r)return t;if(i>500)return r;const c=F2(t)&&F2(r);if(!c&&!(fp(t)&&fp(r)))return r;const y=(c?t:Object.keys(t)).length,v=c?r:Object.keys(r),b=v.length,A=c?new Array(b):{};let E=0;for(let I=0;I<b;I++){const N=c?I:v[I],k=t[N],M=r[N];if(k===M){A[N]=k,(c?I<y:gI.call(t,N))&&E++;continue}if(k===null||M===null||typeof k!="object"||typeof M!="object"){A[N]=M;continue}const U=VE(k,M,i+1);A[N]=U,U===k&&E++}return y===b&&E===y?t:A}function bB(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}function F2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fp(t){if(!U2(t))return!1;const r=t.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!U2(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function U2(t){return Object.prototype.toString.call(t)==="[object Object]"}function yI(t){return new Promise(r=>{cp.setTimeout(r,t)})}function xI(t,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(t,r):i.structuralSharing!==!1?VE(t,r):r}function vI(t,r,i=0){const c=[...t,r];return i&&c.length>i?c.slice(1):c}function bI(t,r,i=0){const c=[r,...t];return i&&c.length>i?c.slice(0,-1):c}var og=Symbol();function HE(t,r){return!t.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!t.queryFn||t.queryFn===og?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wB(t,r){return typeof t=="function"?t(...r):!!t}function wI(t,r,i){let c=!1,h;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(h??(h=r()),c||(c=!0,h.aborted?i():h.addEventListener("abort",i,{once:!0})),h)}),t}var bl,Ds,wc,Ob,EI=(Ob=class extends Xh{constructor(){super();cn(this,bl);cn(this,Ds);cn(this,wc);It(this,wc,r=>{if(!Kh&&window.addEventListener){const i=()=>r();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){De(this,Ds)||this.setEventListener(De(this,wc))}onUnsubscribe(){var r;this.hasListeners()||((r=De(this,Ds))==null||r.call(this),It(this,Ds,void 0))}setEventListener(r){var i;It(this,wc,r),(i=De(this,Ds))==null||i.call(this),It(this,Ds,r(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(r){De(this,bl)!==r&&(It(this,bl,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(i=>{i(r)})}isFocused(){var r;return typeof De(this,bl)=="boolean"?De(this,bl):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},bl=new WeakMap,Ds=new WeakMap,wc=new WeakMap,Ob),GE=new EI;function CI(){let t,r;const i=new Promise((h,y)=>{t=h,r=y});i.status="pending",i.catch(()=>{});function c(h){Object.assign(i,h),delete i.resolve,delete i.reject}return i.resolve=h=>{c({status:"fulfilled",value:h}),t(h)},i.reject=h=>{c({status:"rejected",reason:h}),r(h)},i}var SI=fI;function AI(){let t=[],r=0,i=b=>{b()},c=b=>{b()},h=SI;const y=b=>{r?t.push(b):h(()=>{i(b)})},v=()=>{const b=t;t=[],b.length&&h(()=>{c(()=>{b.forEach(A=>{i(A)})})})};return{batch:b=>{let A;r++;try{A=b()}finally{r--,r||v()}return A},batchCalls:b=>(...A)=>{y(()=>{b(...A)})},schedule:y,setNotifyFunction:b=>{i=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{h=b}}}var ya=AI(),Ec,Ps,Cc,Ib,_I=(Ib=class extends Xh{constructor(){super();cn(this,Ec,!0);cn(this,Ps);cn(this,Cc);It(this,Cc,r=>{if(!Kh&&window.addEventListener){const i=()=>r(!0),c=()=>r(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",c)}}})}onSubscribe(){De(this,Ps)||this.setEventListener(De(this,Cc))}onUnsubscribe(){var r;this.hasListeners()||((r=De(this,Ps))==null||r.call(this),It(this,Ps,void 0))}setEventListener(r){var i;It(this,Cc,r),(i=De(this,Ps))==null||i.call(this),It(this,Ps,r(this.setOnline.bind(this)))}setOnline(r){De(this,Ec)!==r&&(It(this,Ec,r),this.listeners.forEach(c=>{c(r)}))}isOnline(){return De(this,Ec)}},Ec=new WeakMap,Ps=new WeakMap,Cc=new WeakMap,Ib),lh=new _I;function TI(t){return Math.min(1e3*2**t,3e4)}function qE(t){return(t??"online")==="online"?lh.isOnline():!0}var dp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function XE(t){let r=!1,i=0,c;const h=CI(),y=()=>h.status!=="pending",v=P=>{var j;if(!y()){const X=new dp(P);k(X),(j=t.onCancel)==null||j.call(t,X)}},b=()=>{r=!0},A=()=>{r=!1},E=()=>GE.isFocused()&&(t.networkMode==="always"||lh.isOnline())&&t.canRun(),I=()=>qE(t.networkMode)&&t.canRun(),N=P=>{y()||(c==null||c(),h.resolve(P))},k=P=>{y()||(c==null||c(),h.reject(P))},M=()=>new Promise(P=>{var j;c=X=>{(y()||E())&&P(X)},(j=t.onPause)==null||j.call(t)}).then(()=>{var P;c=void 0,y()||(P=t.onContinue)==null||P.call(t)}),U=()=>{if(y())return;let P;const j=i===0?t.initialPromise:void 0;try{P=j??t.fn()}catch(X){P=Promise.reject(X)}Promise.resolve(P).then(N).catch(X=>{var re;if(y())return;const G=t.retry??(Kh?0:3),H=t.retryDelay??TI,q=typeof H=="function"?H(i,X):H,ae=G===!0||typeof G=="number"&&i<G||typeof G=="function"&&G(i,X);if(r||!ae){k(X);return}i++,(re=t.onFail)==null||re.call(t,i,X),yI(q).then(()=>E()?void 0:M()).then(()=>{r?k(X):U()})})};return{promise:h,status:()=>h.status,cancel:v,continue:()=>(c==null||c(),h),cancelRetry:b,continueRetry:A,canStart:I,start:()=>(I()?U():M().then(U),h)}}var wl,Mb,KE=(Mb=class{constructor(){cn(this,wl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hI(this.gcTime)&&It(this,wl,cp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kh?1/0:300*1e3))}clearGcTimeout(){De(this,wl)&&(cp.clearTimeout(De(this,wl)),It(this,wl,void 0))}},wl=new WeakMap,Mb),El,Sc,gi,Cl,Br,af,Sl,Ii,Do,Db,NI=(Db=class extends KE{constructor(r){super();cn(this,Ii);cn(this,El);cn(this,Sc);cn(this,gi);cn(this,Cl);cn(this,Br);cn(this,af);cn(this,Sl);It(this,Sl,!1),It(this,af,r.defaultOptions),this.setOptions(r.options),this.observers=[],It(this,Cl,r.client),It(this,gi,De(this,Cl).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,It(this,El,V2(this.options)),this.state=r.state??De(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=De(this,Br))==null?void 0:r.promise}setOptions(r){if(this.options={...De(this,af),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=V2(this.options);i.data!==void 0&&(this.setState(z2(i.data,i.dataUpdatedAt)),It(this,El,i))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&De(this,gi).remove(this)}setData(r,i){const c=xI(this.state.data,r,this.options);return aa(this,Ii,Do).call(this,{data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),c}setState(r,i){aa(this,Ii,Do).call(this,{type:"setState",state:r,setStateOptions:i})}cancel(r){var c,h;const i=(c=De(this,Br))==null?void 0:c.promise;return(h=De(this,Br))==null||h.cancel(r),i?i.then(Oi).catch(Oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(De(this,El))}isActive(){return this.observers.some(r=>pI(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===og||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>up(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!mI(this.state.dataUpdatedAt,r)}onFocus(){var i;const r=this.observers.find(c=>c.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(i=De(this,Br))==null||i.continue()}onOnline(){var i;const r=this.observers.find(c=>c.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(i=De(this,Br))==null||i.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),De(this,gi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(i=>i!==r),this.observers.length||(De(this,Br)&&(De(this,Sl)?De(this,Br).cancel({revert:!0}):De(this,Br).cancelRetry()),this.scheduleGc()),De(this,gi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||aa(this,Ii,Do).call(this,{type:"invalidate"})}async fetch(r,i){var A,E,I,N,k,M,U,P,j,X,G,H;if(this.state.fetchStatus!=="idle"&&((A=De(this,Br))==null?void 0:A.status())!=="rejected"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(De(this,Br))return De(this,Br).continueRetry(),De(this,Br).promise}if(r&&this.setOptions(r),!this.options.queryFn){const q=this.observers.find(ae=>ae.options.queryFn);q&&this.setOptions(q.options)}const c=new AbortController,h=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(It(this,Sl,!0),c.signal)})},y=()=>{const q=HE(this.options,i),re=(()=>{const V={client:De(this,Cl),queryKey:this.queryKey,meta:this.meta};return h(V),V})();return It(this,Sl,!1),this.options.persister?this.options.persister(q,re,this):q(re)},b=(()=>{const q={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:De(this,Cl),state:this.state,fetchFn:y};return h(q),q})();(E=this.options.behavior)==null||E.onFetch(b,this),It(this,Sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((I=b.fetchOptions)==null?void 0:I.meta))&&aa(this,Ii,Do).call(this,{type:"fetch",meta:(N=b.fetchOptions)==null?void 0:N.meta}),It(this,Br,XE({initialPromise:i==null?void 0:i.initialPromise,fn:b.fetchFn,onCancel:q=>{q instanceof dp&&q.revert&&this.setState({...De(this,Sc),fetchStatus:"idle"}),c.abort()},onFail:(q,ae)=>{aa(this,Ii,Do).call(this,{type:"failed",failureCount:q,error:ae})},onPause:()=>{aa(this,Ii,Do).call(this,{type:"pause"})},onContinue:()=>{aa(this,Ii,Do).call(this,{type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay,networkMode:b.options.networkMode,canRun:()=>!0}));try{const q=await De(this,Br).start();if(q===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(q),(M=(k=De(this,gi).config).onSuccess)==null||M.call(k,q,this),(P=(U=De(this,gi).config).onSettled)==null||P.call(U,q,this.state.error,this),q}catch(q){if(q instanceof dp){if(q.silent)return De(this,Br).promise;if(q.revert){if(this.state.data===void 0)throw q;return this.state.data}}throw aa(this,Ii,Do).call(this,{type:"error",error:q}),(X=(j=De(this,gi).config).onError)==null||X.call(j,q,this),(H=(G=De(this,gi).config).onSettled)==null||H.call(G,this.state.data,q,this),q}finally{this.scheduleGc()}}},El=new WeakMap,Sc=new WeakMap,gi=new WeakMap,Cl=new WeakMap,Br=new WeakMap,af=new WeakMap,Sl=new WeakMap,Ii=new WeakSet,Do=function(r){const i=c=>{switch(r.type){case"failed":return{...c,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...RI(c.data,this.options),fetchMeta:r.meta??null};case"success":const h={...c,...z2(r.data,r.dataUpdatedAt),dataUpdateCount:c.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return It(this,Sc,r.manual?h:void 0),h;case"error":const y=r.error;return{...c,error:y,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:y,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...r.state}}};this.state=i(this.state),ya.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),De(this,gi).notify({query:this,type:"updated",action:r})})},Db);function RI(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qE(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function z2(t,r){return{data:t,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function V2(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,i=r!==void 0,c=i?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}function H2(t){return{onFetch:(r,i)=>{var I,N,k,M,U;const c=r.options,h=(k=(N=(I=r.fetchOptions)==null?void 0:I.meta)==null?void 0:N.fetchMore)==null?void 0:k.direction,y=((M=r.state.data)==null?void 0:M.pages)||[],v=((U=r.state.data)==null?void 0:U.pageParams)||[];let b={pages:[],pageParams:[]},A=0;const E=async()=>{let P=!1;const j=H=>{wI(H,()=>r.signal,()=>P=!0)},X=HE(r.options,r.fetchOptions),G=async(H,q,ae)=>{if(P)return Promise.reject();if(q==null&&H.pages.length)return Promise.resolve(H);const V=(()=>{const Re={client:r.client,queryKey:r.queryKey,pageParam:q,direction:ae?"backward":"forward",meta:r.options.meta};return j(Re),Re})(),Z=await X(V),{maxPages:te}=r.options,fe=ae?bI:vI;return{pages:fe(H.pages,Z,te),pageParams:fe(H.pageParams,q,te)}};if(h&&y.length){const H=h==="backward",q=H?OI:G2,ae={pages:y,pageParams:v},re=q(c,ae);b=await G(ae,re,H)}else{const H=t??y.length;do{const q=A===0?v[0]??c.initialPageParam:G2(c,b);if(A>0&&q==null)break;b=await G(b,q),A++}while(A<H)}return b};r.options.persister?r.fetchFn=()=>{var P,j;return(j=(P=r.options).persister)==null?void 0:j.call(P,E,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i)}:r.fetchFn=E}}}function G2(t,{pages:r,pageParams:i}){const c=r.length-1;return r.length>0?t.getNextPageParam(r[c],r,i[c],i):void 0}function OI(t,{pages:r,pageParams:i}){var c;return r.length>0?(c=t.getPreviousPageParam)==null?void 0:c.call(t,r[0],r,i[0],i):void 0}var of,$i,oa,Al,Ji,Rs,Pb,II=(Pb=class extends KE{constructor(r){super();cn(this,Ji);cn(this,of);cn(this,$i);cn(this,oa);cn(this,Al);It(this,of,r.client),this.mutationId=r.mutationId,It(this,oa,r.mutationCache),It(this,$i,[]),this.state=r.state||MI(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){De(this,$i).includes(r)||(De(this,$i).push(r),this.clearGcTimeout(),De(this,oa).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){It(this,$i,De(this,$i).filter(i=>i!==r)),this.scheduleGc(),De(this,oa).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){De(this,$i).length||(this.state.status==="pending"?this.scheduleGc():De(this,oa).remove(this))}continue(){var r;return((r=De(this,Al))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var v,b,A,E,I,N,k,M,U,P,j,X,G,H,q,ae,re,V;const i=()=>{aa(this,Ji,Rs).call(this,{type:"continue"})},c={client:De(this,of),meta:this.options.meta,mutationKey:this.options.mutationKey};It(this,Al,XE({fn:()=>this.options.mutationFn?this.options.mutationFn(r,c):Promise.reject(new Error("No mutationFn found")),onFail:(Z,te)=>{aa(this,Ji,Rs).call(this,{type:"failed",failureCount:Z,error:te})},onPause:()=>{aa(this,Ji,Rs).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>De(this,oa).canRun(this)}));const h=this.state.status==="pending",y=!De(this,Al).canStart();try{if(h)i();else{aa(this,Ji,Rs).call(this,{type:"pending",variables:r,isPaused:y}),De(this,oa).config.onMutate&&await De(this,oa).config.onMutate(r,this,c);const te=await((b=(v=this.options).onMutate)==null?void 0:b.call(v,r,c));te!==this.state.context&&aa(this,Ji,Rs).call(this,{type:"pending",context:te,variables:r,isPaused:y})}const Z=await De(this,Al).start();return await((E=(A=De(this,oa).config).onSuccess)==null?void 0:E.call(A,Z,r,this.state.context,this,c)),await((N=(I=this.options).onSuccess)==null?void 0:N.call(I,Z,r,this.state.context,c)),await((M=(k=De(this,oa).config).onSettled)==null?void 0:M.call(k,Z,null,this.state.variables,this.state.context,this,c)),await((P=(U=this.options).onSettled)==null?void 0:P.call(U,Z,null,r,this.state.context,c)),aa(this,Ji,Rs).call(this,{type:"success",data:Z}),Z}catch(Z){try{await((X=(j=De(this,oa).config).onError)==null?void 0:X.call(j,Z,r,this.state.context,this,c))}catch(te){Promise.reject(te)}try{await((H=(G=this.options).onError)==null?void 0:H.call(G,Z,r,this.state.context,c))}catch(te){Promise.reject(te)}try{await((ae=(q=De(this,oa).config).onSettled)==null?void 0:ae.call(q,void 0,Z,this.state.variables,this.state.context,this,c))}catch(te){Promise.reject(te)}try{await((V=(re=this.options).onSettled)==null?void 0:V.call(re,void 0,Z,r,this.state.context,c))}catch(te){Promise.reject(te)}throw aa(this,Ji,Rs).call(this,{type:"error",error:Z}),Z}finally{De(this,oa).runNext(this)}}},of=new WeakMap,$i=new WeakMap,oa=new WeakMap,Al=new WeakMap,Ji=new WeakSet,Rs=function(r){const i=c=>{switch(r.type){case"failed":return{...c,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...c,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:r.error,failureCount:c.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=i(this.state),ya.batch(()=>{De(this,$i).forEach(c=>{c.onMutationUpdate(r)}),De(this,oa).notify({mutation:this,type:"updated",action:r})})},Pb);function MI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bo,Mi,sf,kb,DI=(kb=class extends Xh{constructor(r={}){super();cn(this,Bo);cn(this,Mi);cn(this,sf);this.config=r,It(this,Bo,new Set),It(this,Mi,new Map),It(this,sf,0)}build(r,i,c){const h=new II({client:r,mutationCache:this,mutationId:++xd(this,sf)._,options:r.defaultMutationOptions(i),state:c});return this.add(h),h}add(r){De(this,Bo).add(r);const i=_d(r);if(typeof i=="string"){const c=De(this,Mi).get(i);c?c.push(r):De(this,Mi).set(i,[r])}this.notify({type:"added",mutation:r})}remove(r){if(De(this,Bo).delete(r)){const i=_d(r);if(typeof i=="string"){const c=De(this,Mi).get(i);if(c)if(c.length>1){const h=c.indexOf(r);h!==-1&&c.splice(h,1)}else c[0]===r&&De(this,Mi).delete(i)}}this.notify({type:"removed",mutation:r})}canRun(r){const i=_d(r);if(typeof i=="string"){const c=De(this,Mi).get(i),h=c==null?void 0:c.find(y=>y.state.status==="pending");return!h||h===r}else return!0}runNext(r){var c;const i=_d(r);if(typeof i=="string"){const h=(c=De(this,Mi).get(i))==null?void 0:c.find(y=>y!==r&&y.state.isPaused);return(h==null?void 0:h.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ya.batch(()=>{De(this,Bo).forEach(r=>{this.notify({type:"removed",mutation:r})}),De(this,Bo).clear(),De(this,Mi).clear()})}getAll(){return Array.from(De(this,Bo))}find(r){const i={exact:!0,...r};return this.getAll().find(c=>j2(i,c))}findAll(r={}){return this.getAll().filter(i=>j2(r,i))}notify(r){ya.batch(()=>{this.listeners.forEach(i=>{i(r)})})}resumePausedMutations(){const r=this.getAll().filter(i=>i.state.isPaused);return ya.batch(()=>Promise.all(r.map(i=>i.continue().catch(Oi))))}},Bo=new WeakMap,Mi=new WeakMap,sf=new WeakMap,kb);function _d(t){var r;return(r=t.options.scope)==null?void 0:r.id}var eo,Bb,PI=(Bb=class extends Xh{constructor(r={}){super();cn(this,eo);this.config=r,It(this,eo,new Map)}build(r,i,c){const h=i.queryKey,y=i.queryHash??ig(h,i);let v=this.get(y);return v||(v=new NI({client:r,queryKey:h,queryHash:y,options:r.defaultQueryOptions(i),state:c,defaultOptions:r.getQueryDefaults(h)}),this.add(v)),v}add(r){De(this,eo).has(r.queryHash)||(De(this,eo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const i=De(this,eo).get(r.queryHash);i&&(r.destroy(),i===r&&De(this,eo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){ya.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return De(this,eo).get(r)}getAll(){return[...De(this,eo).values()]}find(r){const i={exact:!0,...r};return this.getAll().find(c=>L2(i,c))}findAll(r={}){const i=this.getAll();return Object.keys(r).length>0?i.filter(c=>L2(r,c)):i}notify(r){ya.batch(()=>{this.listeners.forEach(i=>{i(r)})})}onFocus(){ya.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){ya.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},eo=new WeakMap,Bb),dr,ks,Bs,Ac,_c,Ls,Tc,Nc,Lb,kI=(Lb=class{constructor(t={}){cn(this,dr);cn(this,ks);cn(this,Bs);cn(this,Ac);cn(this,_c);cn(this,Ls);cn(this,Tc);cn(this,Nc);It(this,dr,t.queryCache||new PI),It(this,ks,t.mutationCache||new DI),It(this,Bs,t.defaultOptions||{}),It(this,Ac,new Map),It(this,_c,new Map),It(this,Ls,0)}mount(){xd(this,Ls)._++,De(this,Ls)===1&&(It(this,Tc,GE.subscribe(async t=>{t&&(await this.resumePausedMutations(),De(this,dr).onFocus())})),It(this,Nc,lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),De(this,dr).onOnline())})))}unmount(){var t,r;xd(this,Ls)._--,De(this,Ls)===0&&((t=De(this,Tc))==null||t.call(this),It(this,Tc,void 0),(r=De(this,Nc))==null||r.call(this),It(this,Nc,void 0))}isFetching(t){return De(this,dr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return De(this,ks).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const r=this.defaultQueryOptions({queryKey:t});return(i=De(this,dr).get(r.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),i=De(this,dr).build(this,r),c=i.state.data;return c===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(up(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(c))}getQueriesData(t){return De(this,dr).findAll(t).map(({queryKey:r,state:i})=>{const c=i.data;return[r,c]})}setQueryData(t,r,i){const c=this.defaultQueryOptions({queryKey:t}),h=De(this,dr).get(c.queryHash),y=h==null?void 0:h.state.data,v=dI(r,y);if(v!==void 0)return De(this,dr).build(this,c).setData(v,{...i,manual:!0})}setQueriesData(t,r,i){return ya.batch(()=>De(this,dr).findAll(t).map(({queryKey:c})=>[c,this.setQueryData(c,r,i)]))}getQueryState(t){var i;const r=this.defaultQueryOptions({queryKey:t});return(i=De(this,dr).get(r.queryHash))==null?void 0:i.state}removeQueries(t){const r=De(this,dr);ya.batch(()=>{r.findAll(t).forEach(i=>{r.remove(i)})})}resetQueries(t,r){const i=De(this,dr);return ya.batch(()=>(i.findAll(t).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const i={revert:!0,...r},c=ya.batch(()=>De(this,dr).findAll(t).map(h=>h.cancel(i)));return Promise.all(c).then(Oi).catch(Oi)}invalidateQueries(t,r={}){return ya.batch(()=>(De(this,dr).findAll(t).forEach(i=>{i.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},r)))}refetchQueries(t,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},c=ya.batch(()=>De(this,dr).findAll(t).filter(h=>!h.isDisabled()&&!h.isStatic()).map(h=>{let y=h.fetch(void 0,i);return i.throwOnError||(y=y.catch(Oi)),h.state.fetchStatus==="paused"?Promise.resolve():y}));return Promise.all(c).then(Oi)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const i=De(this,dr).build(this,r);return i.isStaleByTime(up(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oi).catch(Oi)}fetchInfiniteQuery(t){return t.behavior=H2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oi).catch(Oi)}ensureInfiniteQueryData(t){return t.behavior=H2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lh.isOnline()?De(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return De(this,dr)}getMutationCache(){return De(this,ks)}getDefaultOptions(){return De(this,Bs)}setDefaultOptions(t){It(this,Bs,t)}setQueryDefaults(t,r){De(this,Ac).set(Zu(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...De(this,Ac).values()],i={};return r.forEach(c=>{Qu(t,c.queryKey)&&Object.assign(i,c.defaultOptions)}),i}setMutationDefaults(t,r){De(this,_c).set(Zu(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...De(this,_c).values()],i={};return r.forEach(c=>{Qu(t,c.mutationKey)&&Object.assign(i,c.defaultOptions)}),i}defaultQueryOptions(t){if(t._defaulted)return t;const r={...De(this,Bs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=ig(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===og&&(r.enabled=!1),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...De(this,Bs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){De(this,dr).clear(),De(this,ks).clear()}},dr=new WeakMap,ks=new WeakMap,Bs=new WeakMap,Ac=new WeakMap,_c=new WeakMap,Ls=new WeakMap,Tc=new WeakMap,Nc=new WeakMap,Lb),YE=R.createContext(void 0),EB=t=>{const r=R.useContext(YE);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},BI=({client:t,children:r})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),O.jsx(YE.Provider,{value:t,children:r}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},$u.apply(this,arguments)}var js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(js||(js={}));const q2="popstate";function LI(t){t===void 0&&(t={});function r(c,h){let{pathname:y,search:v,hash:b}=c.location;return hp("",{pathname:y,search:v,hash:b},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(c,h){return typeof h=="string"?h:ch(h)}return FI(r,i,null,t)}function ir(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function sg(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function jI(){return Math.random().toString(36).substr(2,8)}function X2(t,r){return{usr:t.state,key:t.key,idx:r}}function hp(t,r,i,c){return i===void 0&&(i=null),$u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Gc(r):r,{state:i,key:r&&r.key||c||jI()})}function ch(t){let{pathname:r="/",search:i="",hash:c=""}=t;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),c&&c!=="#"&&(r+=c.charAt(0)==="#"?c:"#"+c),r}function Gc(t){let r={};if(t){let i=t.indexOf("#");i>=0&&(r.hash=t.substr(i),t=t.substr(0,i));let c=t.indexOf("?");c>=0&&(r.search=t.substr(c),t=t.substr(0,c)),t&&(r.pathname=t)}return r}function FI(t,r,i,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:y=!1}=c,v=h.history,b=js.Pop,A=null,E=I();E==null&&(E=0,v.replaceState($u({},v.state,{idx:E}),""));function I(){return(v.state||{idx:null}).idx}function N(){b=js.Pop;let j=I(),X=j==null?null:j-E;E=j,A&&A({action:b,location:P.location,delta:X})}function k(j,X){b=js.Push;let G=hp(P.location,j,X);E=I()+1;let H=X2(G,E),q=P.createHref(G);try{v.pushState(H,"",q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;h.location.assign(q)}y&&A&&A({action:b,location:P.location,delta:1})}function M(j,X){b=js.Replace;let G=hp(P.location,j,X);E=I();let H=X2(G,E),q=P.createHref(G);v.replaceState(H,"",q),y&&A&&A({action:b,location:P.location,delta:0})}function U(j){let X=h.location.origin!=="null"?h.location.origin:h.location.href,G=typeof j=="string"?j:ch(j);return G=G.replace(/ $/,"%20"),ir(X,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,X)}let P={get action(){return b},get location(){return t(h,v)},listen(j){if(A)throw new Error("A history only accepts one active listener");return h.addEventListener(q2,N),A=j,()=>{h.removeEventListener(q2,N),A=null}},createHref(j){return r(h,j)},createURL:U,encodeLocation(j){let X=U(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:k,replace:M,go(j){return v.go(j)}};return P}var K2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K2||(K2={}));function UI(t,r,i){return i===void 0&&(i="/"),zI(t,r,i)}function zI(t,r,i,c){let h=typeof r=="string"?Gc(r):r,y=kc(h.pathname||"/",i);if(y==null)return null;let v=WE(t);VI(v);let b=null;for(let A=0;b==null&&A<v.length;++A){let E=JI(y);b=QI(v[A],E)}return b}function WE(t,r,i,c){r===void 0&&(r=[]),i===void 0&&(i=[]),c===void 0&&(c="");let h=(y,v,b)=>{let A={relativePath:b===void 0?y.path||"":b,caseSensitive:y.caseSensitive===!0,childrenIndex:v,route:y};A.relativePath.startsWith("/")&&(ir(A.relativePath.startsWith(c),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(c.length));let E=Us([c,A.relativePath]),I=i.concat(A);y.children&&y.children.length>0&&(ir(y.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),WE(y.children,r,I,E)),!(y.path==null&&!y.index)&&r.push({path:E,score:WI(E,y.index),routesMeta:I})};return t.forEach((y,v)=>{var b;if(y.path===""||!((b=y.path)!=null&&b.includes("?")))h(y,v);else for(let A of ZE(y.path))h(y,v,A)}),r}function ZE(t){let r=t.split("/");if(r.length===0)return[];let[i,...c]=r,h=i.endsWith("?"),y=i.replace(/\?$/,"");if(c.length===0)return h?[y,""]:[y];let v=ZE(c.join("/")),b=[];return b.push(...v.map(A=>A===""?y:[y,A].join("/"))),h&&b.push(...v),b.map(A=>t.startsWith("/")&&A===""?"/":A)}function VI(t){t.sort((r,i)=>r.score!==i.score?i.score-r.score:ZI(r.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}const HI=/^:[\w-]+$/,GI=3,qI=2,XI=1,KI=10,YI=-2,Y2=t=>t==="*";function WI(t,r){let i=t.split("/"),c=i.length;return i.some(Y2)&&(c+=YI),r&&(c+=qI),i.filter(h=>!Y2(h)).reduce((h,y)=>h+(HI.test(y)?GI:y===""?XI:KI),c)}function ZI(t,r){return t.length===r.length&&t.slice(0,-1).every((c,h)=>c===r[h])?t[t.length-1]-r[r.length-1]:0}function QI(t,r,i){let{routesMeta:c}=t,h={},y="/",v=[];for(let b=0;b<c.length;++b){let A=c[b],E=b===c.length-1,I=y==="/"?r:r.slice(y.length)||"/",N=mp({path:A.relativePath,caseSensitive:A.caseSensitive,end:E},I),k=A.route;if(!N)return null;Object.assign(h,N.params),v.push({params:h,pathname:Us([y,N.pathname]),pathnameBase:a5(Us([y,N.pathnameBase])),route:k}),N.pathnameBase!=="/"&&(y=Us([y,N.pathnameBase]))}return v}function mp(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,c]=$I(t.path,t.caseSensitive,t.end),h=r.match(i);if(!h)return null;let y=h[0],v=y.replace(/(.)\/+$/,"$1"),b=h.slice(1);return{params:c.reduce((E,I,N)=>{let{paramName:k,isOptional:M}=I;if(k==="*"){let P=b[N]||"";v=y.slice(0,y.length-P.length).replace(/(.)\/+$/,"$1")}const U=b[N];return M&&!U?E[k]=void 0:E[k]=(U||"").replace(/%2F/g,"/"),E},{}),pathname:y,pathnameBase:v,pattern:t}}function $I(t,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),sg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let c=[],h="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(v,b,A)=>(c.push({paramName:b,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(c.push({paramName:"*"}),h+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?h+="\\/*$":t!==""&&t!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,r?void 0:"i"),c]}function JI(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return sg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function kc(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,c=t.charAt(i);return c&&c!=="/"?null:t.slice(i)||"/"}const e5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t5=t=>e5.test(t);function n5(t,r){r===void 0&&(r="/");let{pathname:i,search:c="",hash:h=""}=typeof t=="string"?Gc(t):t,y;if(i)if(t5(i))y=i;else{if(i.includes("//")){let v=i;i=i.replace(/\/\/+/g,"/"),sg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(v+" -> "+i))}i.startsWith("/")?y=W2(i.substring(1),"/"):y=W2(i,r)}else y=r;return{pathname:y,search:i5(c),hash:o5(h)}}function W2(t,r){let i=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(h=>{h===".."?i.length>1&&i.pop():h!=="."&&i.push(h)}),i.length>1?i.join("/"):"/"}function bm(t,r,i,c){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r5(t){return t.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function lg(t,r){let i=r5(t);return r?i.map((c,h)=>h===i.length-1?c.pathname:c.pathnameBase):i.map(c=>c.pathnameBase)}function cg(t,r,i,c){c===void 0&&(c=!1);let h;typeof t=="string"?h=Gc(t):(h=$u({},t),ir(!h.pathname||!h.pathname.includes("?"),bm("?","pathname","search",h)),ir(!h.pathname||!h.pathname.includes("#"),bm("#","pathname","hash",h)),ir(!h.search||!h.search.includes("#"),bm("#","search","hash",h)));let y=t===""||h.pathname==="",v=y?"/":h.pathname,b;if(v==null)b=i;else{let N=r.length-1;if(!c&&v.startsWith("..")){let k=v.split("/");for(;k[0]==="..";)k.shift(),N-=1;h.pathname=k.join("/")}b=N>=0?r[N]:"/"}let A=n5(h,b),E=v&&v!=="/"&&v.endsWith("/"),I=(y||v===".")&&i.endsWith("/");return!A.pathname.endsWith("/")&&(E||I)&&(A.pathname+="/"),A}const Us=t=>t.join("/").replace(/\/\/+/g,"/"),a5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QE=["post","put","patch","delete"];new Set(QE);const l5=["get",...QE];new Set(l5);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},Ju.apply(this,arguments)}const Yh=R.createContext(null),$E=R.createContext(null),Go=R.createContext(null),Wh=R.createContext(null),qo=R.createContext({outlet:null,matches:[],isDataRoute:!1}),JE=R.createContext(null);function c5(t,r){let{relative:i}=r===void 0?{}:r;qc()||ir(!1);let{basename:c,navigator:h}=R.useContext(Go),{hash:y,pathname:v,search:b}=Zh(t,{relative:i}),A=v;return c!=="/"&&(A=v==="/"?c:Us([c,v])),h.createHref({pathname:A,search:b,hash:y})}function qc(){return R.useContext(Wh)!=null}function lo(){return qc()||ir(!1),R.useContext(Wh).location}function eC(t){R.useContext(Go).static||R.useLayoutEffect(t)}function Xc(){let{isDataRoute:t}=R.useContext(qo);return t?S5():u5()}function u5(){qc()||ir(!1);let t=R.useContext(Yh),{basename:r,future:i,navigator:c}=R.useContext(Go),{matches:h}=R.useContext(qo),{pathname:y}=lo(),v=JSON.stringify(lg(h,i.v7_relativeSplatPath)),b=R.useRef(!1);return eC(()=>{b.current=!0}),R.useCallback(function(E,I){if(I===void 0&&(I={}),!b.current)return;if(typeof E=="number"){c.go(E);return}let N=cg(E,JSON.parse(v),y,I.relative==="path");t==null&&r!=="/"&&(N.pathname=N.pathname==="/"?r:Us([r,N.pathname])),(I.replace?c.replace:c.push)(N,I.state,I)},[r,c,v,y,t])}const f5=R.createContext(null);function d5(t){let r=R.useContext(qo).outlet;return r&&R.createElement(f5.Provider,{value:t},r)}function Zh(t,r){let{relative:i}=r===void 0?{}:r,{future:c}=R.useContext(Go),{matches:h}=R.useContext(qo),{pathname:y}=lo(),v=JSON.stringify(lg(h,c.v7_relativeSplatPath));return R.useMemo(()=>cg(t,JSON.parse(v),y,i==="path"),[t,v,y,i])}function h5(t,r){return m5(t,r)}function m5(t,r,i,c){qc()||ir(!1);let{navigator:h}=R.useContext(Go),{matches:y}=R.useContext(qo),v=y[y.length-1],b=v?v.params:{};v&&v.pathname;let A=v?v.pathnameBase:"/";v&&v.route;let E=lo(),I;if(r){var N;let j=typeof r=="string"?Gc(r):r;A==="/"||(N=j.pathname)!=null&&N.startsWith(A)||ir(!1),I=j}else I=E;let k=I.pathname||"/",M=k;if(A!=="/"){let j=A.replace(/^\//,"").split("/");M="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let U=UI(t,{pathname:M}),P=v5(U&&U.map(j=>Object.assign({},j,{params:Object.assign({},b,j.params),pathname:Us([A,h.encodeLocation?h.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?A:Us([A,h.encodeLocation?h.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),y,i,c);return r&&P?R.createElement(Wh.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},I),navigationType:js.Pop}},P):P}function p5(){let t=C5(),r=s5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),i?R.createElement("pre",{style:h},i):null,null)}const g5=R.createElement(p5,null);class y5 extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?R.createElement(qo.Provider,{value:this.props.routeContext},R.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x5(t){let{routeContext:r,match:i,children:c}=t,h=R.useContext(Yh);return h&&h.static&&h.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=i.route.id),R.createElement(qo.Provider,{value:r},c)}function v5(t,r,i,c){var h;if(r===void 0&&(r=[]),i===void 0&&(i=null),c===void 0&&(c=null),t==null){var y;if(!i)return null;if(i.errors)t=i.matches;else if((y=c)!=null&&y.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let v=t,b=(h=i)==null?void 0:h.errors;if(b!=null){let I=v.findIndex(N=>N.route.id&&(b==null?void 0:b[N.route.id])!==void 0);I>=0||ir(!1),v=v.slice(0,Math.min(v.length,I+1))}let A=!1,E=-1;if(i&&c&&c.v7_partialHydration)for(let I=0;I<v.length;I++){let N=v[I];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(E=I),N.route.id){let{loaderData:k,errors:M}=i,U=N.route.loader&&k[N.route.id]===void 0&&(!M||M[N.route.id]===void 0);if(N.route.lazy||U){A=!0,E>=0?v=v.slice(0,E+1):v=[v[0]];break}}}return v.reduceRight((I,N,k)=>{let M,U=!1,P=null,j=null;i&&(M=b&&N.route.id?b[N.route.id]:void 0,P=N.route.errorElement||g5,A&&(E<0&&k===0?(A5("route-fallback"),U=!0,j=null):E===k&&(U=!0,j=N.route.hydrateFallbackElement||null)));let X=r.concat(v.slice(0,k+1)),G=()=>{let H;return M?H=P:U?H=j:N.route.Component?H=R.createElement(N.route.Component,null):N.route.element?H=N.route.element:H=I,R.createElement(x5,{match:N,routeContext:{outlet:I,matches:X,isDataRoute:i!=null},children:H})};return i&&(N.route.ErrorBoundary||N.route.errorElement||k===0)?R.createElement(y5,{location:i.location,revalidation:i.revalidation,component:P,error:M,children:G(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):G()},null)}var tC=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(tC||{}),nC=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(nC||{});function b5(t){let r=R.useContext(Yh);return r||ir(!1),r}function w5(t){let r=R.useContext($E);return r||ir(!1),r}function E5(t){let r=R.useContext(qo);return r||ir(!1),r}function rC(t){let r=E5(),i=r.matches[r.matches.length-1];return i.route.id||ir(!1),i.route.id}function C5(){var t;let r=R.useContext(JE),i=w5(),c=rC();return r!==void 0?r:(t=i.errors)==null?void 0:t[c]}function S5(){let{router:t}=b5(tC.UseNavigateStable),r=rC(nC.UseNavigateStable),i=R.useRef(!1);return eC(()=>{i.current=!0}),R.useCallback(function(h,y){y===void 0&&(y={}),i.current&&(typeof h=="number"?t.navigate(h):t.navigate(h,Ju({fromRouteId:r},y)))},[t,r])}const Z2={};function A5(t,r,i){Z2[t]||(Z2[t]=!0)}function _5(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pp(t){let{to:r,replace:i,state:c,relative:h}=t;qc()||ir(!1);let{future:y,static:v}=R.useContext(Go),{matches:b}=R.useContext(qo),{pathname:A}=lo(),E=Xc(),I=cg(r,lg(b,y.v7_relativeSplatPath),A,h==="path"),N=JSON.stringify(I);return R.useEffect(()=>E(JSON.parse(N),{replace:i,state:c,relative:h}),[E,N,h,i,c]),null}function T5(t){return d5(t.context)}function pl(t){ir(!1)}function N5(t){let{basename:r="/",children:i=null,location:c,navigationType:h=js.Pop,navigator:y,static:v=!1,future:b}=t;qc()&&ir(!1);let A=r.replace(/^\/*/,"/"),E=R.useMemo(()=>({basename:A,navigator:y,static:v,future:Ju({v7_relativeSplatPath:!1},b)}),[A,b,y,v]);typeof c=="string"&&(c=Gc(c));let{pathname:I="/",search:N="",hash:k="",state:M=null,key:U="default"}=c,P=R.useMemo(()=>{let j=kc(I,A);return j==null?null:{location:{pathname:j,search:N,hash:k,state:M,key:U},navigationType:h}},[A,I,N,k,M,U,h]);return P==null?null:R.createElement(Go.Provider,{value:E},R.createElement(Wh.Provider,{children:i,value:P}))}function R5(t){let{children:r,location:i}=t;return h5(gp(r),i)}new Promise(()=>{});function gp(t,r){r===void 0&&(r=[]);let i=[];return R.Children.forEach(t,(c,h)=>{if(!R.isValidElement(c))return;let y=[...r,h];if(c.type===R.Fragment){i.push.apply(i,gp(c.props.children,y));return}c.type!==pl&&ir(!1),!c.props.index||!c.props.children||ir(!1);let v={id:c.props.id||y.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(v.children=gp(c.props.children,y)),i.push(v)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},uh.apply(this,arguments)}function aC(t,r){if(t==null)return{};var i={},c=Object.keys(t),h,y;for(y=0;y<c.length;y++)h=c[y],!(r.indexOf(h)>=0)&&(i[h]=t[h]);return i}function O5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I5(t,r){return t.button===0&&(!r||r==="_self")&&!O5(t)}function yp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,i)=>{let c=t[i];return r.concat(Array.isArray(c)?c.map(h=>[i,h]):[[i,c]])},[]))}function M5(t,r){let i=yp(t);return r&&r.forEach((c,h)=>{i.has(h)||r.getAll(h).forEach(y=>{i.append(h,y)})}),i}const D5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],k5="6";try{window.__reactRouterVersion=k5}catch{}const B5=R.createContext({isTransitioning:!1}),L5="startTransition",Q2=Ch[L5];function j5(t){let{basename:r,children:i,future:c,window:h}=t,y=R.useRef();y.current==null&&(y.current=LI({window:h,v5Compat:!0}));let v=y.current,[b,A]=R.useState({action:v.action,location:v.location}),{v7_startTransition:E}=c||{},I=R.useCallback(N=>{E&&Q2?Q2(()=>A(N)):A(N)},[A,E]);return R.useLayoutEffect(()=>v.listen(I),[v,I]),R.useEffect(()=>_5(c),[c]),R.createElement(N5,{basename:r,children:i,location:b.location,navigationType:b.action,navigator:v,future:c})}const F5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z5=R.forwardRef(function(r,i){let{onClick:c,relative:h,reloadDocument:y,replace:v,state:b,target:A,to:E,preventScrollReset:I,viewTransition:N}=r,k=aC(r,D5),{basename:M}=R.useContext(Go),U,P=!1;if(typeof E=="string"&&U5.test(E)&&(U=E,F5))try{let H=new URL(window.location.href),q=E.startsWith("//")?new URL(H.protocol+E):new URL(E),ae=kc(q.pathname,M);q.origin===H.origin&&ae!=null?E=ae+q.search+q.hash:P=!0}catch{}let j=c5(E,{relative:h}),X=G5(E,{replace:v,state:b,target:A,preventScrollReset:I,relative:h,viewTransition:N});function G(H){c&&c(H),H.defaultPrevented||X(H)}return R.createElement("a",uh({},k,{href:U||j,onClick:P||y?c:G,ref:i,target:A}))}),V5=R.forwardRef(function(r,i){let{"aria-current":c="page",caseSensitive:h=!1,className:y="",end:v=!1,style:b,to:A,viewTransition:E,children:I}=r,N=aC(r,P5),k=Zh(A,{relative:N.relative}),M=lo(),U=R.useContext($E),{navigator:P,basename:j}=R.useContext(Go),X=U!=null&&q5(k)&&E===!0,G=P.encodeLocation?P.encodeLocation(k).pathname:k.pathname,H=M.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;h||(H=H.toLowerCase(),q=q?q.toLowerCase():null,G=G.toLowerCase()),q&&j&&(q=kc(q,j)||q);const ae=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let re=H===G||!v&&H.startsWith(G)&&H.charAt(ae)==="/",V=q!=null&&(q===G||!v&&q.startsWith(G)&&q.charAt(G.length)==="/"),Z={isActive:re,isPending:V,isTransitioning:X},te=re?c:void 0,fe;typeof y=="function"?fe=y(Z):fe=[y,re?"active":null,V?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let Re=typeof b=="function"?b(Z):b;return R.createElement(z5,uh({},N,{"aria-current":te,className:fe,ref:i,style:Re,to:A,viewTransition:E}),typeof I=="function"?I(Z):I)});var xp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xp||(xp={}));var $2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($2||($2={}));function H5(t){let r=R.useContext(Yh);return r||ir(!1),r}function G5(t,r){let{target:i,replace:c,state:h,preventScrollReset:y,relative:v,viewTransition:b}=r===void 0?{}:r,A=Xc(),E=lo(),I=Zh(t,{relative:v});return R.useCallback(N=>{if(I5(N,i)){N.preventDefault();let k=c!==void 0?c:ch(E)===ch(I);A(t,{replace:k,state:h,preventScrollReset:y,relative:v,viewTransition:b})}},[E,A,I,c,h,i,t,y,v,b])}function CB(t){let r=R.useRef(yp(t)),i=R.useRef(!1),c=lo(),h=R.useMemo(()=>M5(c.search,i.current?null:r.current),[c.search]),y=Xc(),v=R.useCallback((b,A)=>{const E=yp(typeof b=="function"?b(h):b);i.current=!0,y("?"+E,A)},[y,h]);return[h,v]}function q5(t,r){r===void 0&&(r={});let i=R.useContext(B5);i==null&&ir(!1);let{basename:c}=H5(xp.useViewTransitionState),h=Zh(t,{relative:r.relative});if(!i.isTransitioning)return!1;let y=kc(i.currentLocation.pathname,c)||i.currentLocation.pathname,v=kc(i.nextLocation.pathname,c)||i.nextLocation.pathname;return mp(h.pathname,v)!=null||mp(h.pathname,y)!=null}const Fs=t=>{var i;const r=((i=t==null?void 0:t.message)==null?void 0:i.toLowerCase())||"";return r.includes("row-level security")||r.includes("permission denied")||r.includes("rls")?"Voc no tem permisso para realizar esta ao.":r.includes("duplicate key")||r.includes("unique constraint")||r.includes("already exists")?r.includes("email")?"Este email j est cadastrado.":r.includes("registration_number")?"Este nmero de registro j existe.":r.includes("name")?"J existe um registro com este nome.":"J existe um registro com estas informaes.":r.includes("null value")||r.includes("not-null")||r.includes("violates not-null")?"Preencha todos os campos obrigatrios.":r.includes("foreign key")||r.includes("fkey")||r.includes("references")?"No  possvel realizar esta operao devido a dependncias existentes.":r.includes("check constraint")||r.includes("violates check")?"Os dados fornecidos no atendem aos requisitos.":r.includes("invalid input syntax")||r.includes("type")?"Formato de dados invlido.":r.includes("fetch")||r.includes("network")||r.includes("connection")?"Erro de conexo. Verifique sua internet e tente novamente.":r.includes("postgresql")||r.includes("pgrst")||r.includes("db")?"Erro ao processar sua solicitao. Tente novamente.":"Ocorreu um erro inesperado. Entre em contato com o suporte se persistir."},iC=R.createContext(void 0);function X5({children:t}){const[r,i]=R.useState(null),[c,h]=R.useState(null),[y,v]=R.useState(null),[b,A]=R.useState(!0),[E,I]=R.useState(()=>sessionStorage.getItem("mfa_verified")==="true"),N=V=>{I(V),sessionStorage.setItem("mfa_verified",V?"true":"false")},k=ze.useCallback(async V=>{var Z,te;if(!V||V==="undefined"){console.warn("[AuthContext] fetchProfile called with invalid userId:",V);return}try{let fe={},Re={},xe={};try{const ce=await pi.get("/users/profile");if(ce.data)console.log("[AuthContext] Fetched profile with permissions from /users/me:",ce.data),fe=ce.data;else{console.warn("[AuthContext] /users/me returned empty. Trying fallback DB fetch.");const{data:ie}=await pi.from("users").eq("id",V).single();ie&&(fe=ie)}}catch(ce){console.error("[AuthContext] Failed to fetch profile from API:",ce);const{data:ie}=await pi.from("users").eq("id",V).single();fe=ie}if(!fe){console.warn("[AuthContext] No profile data found for userId:",V);return}fe.permissions&&(Re=fe.permissions),fe.ui&&(xe=fe.ui);const Ue={id:fe.id||V,username:fe.username||((Z=fe.email)==null?void 0:Z.split("@")[0]),fullName:fe.name||fe.fullName||"Usurio",email:fe.email,avatarUrl:fe.image||fe.avatarUrl||fe.avatar_url,image:fe.image||fe.avatarUrl||fe.avatar_url,role:((te=fe.role)==null?void 0:te.toUpperCase())||"WORKER",registrationNumber:fe.registrationNumber||fe.registration_number,employeeId:fe.id,companyId:fe.companyId||fe.company_id,projectId:fe.projectId||fe.project_id,siteId:fe.siteId||fe.site_id,isSystemAdmin:(()=>{const ce=["SUPER_ADMIN_GOD","SUPERADMINGOD","SUPER_ADMIN","SUPERADMIN","SOCIO_DIRETOR","SOCIODIRETOR","TI_SOFTWARE","TISOFTWARE","HELPER_SYSTEM","ADMIN"];return!!fe.isSystemAdmin||ce.includes((fe.role||"").toUpperCase())})(),mfaEnabled:!!fe.mfaEnabled,mfaSecret:fe==null?void 0:fe.mfaSecret,permissionsMap:Re,ui:xe};v(Ue),no.value=Re,xl.value=xe,Di.value=Ue;const me=`profile_cache_${Ue.id}`;return await ut.setItem(me,Ue),Ue}catch(fe){console.error("Error fetching profile:",fe);return}},[]);R.useEffect(()=>{const{data:{subscription:V}}=pi.auth.onAuthStateChange((te,fe)=>{h(fe),i((fe==null?void 0:fe.user)??null),Di.value=(fe==null?void 0:fe.user)??null,fe!=null&&fe.user?setTimeout(()=>k(fe.user.id),0):(v(null),no.value={},xl.value={},Di.value=null)});return(async()=>{th.value=!0,sessionStorage.getItem("mfa_verified")==="true"&&I(!0);const{data:{session:fe}}=await pi.auth.getSession();if(fe!=null&&fe.user){h(fe),i(fe.user),Di.value=fe.user;const Re=`profile_cache_${fe.user.id}`,xe=await ut.getItem(Re);xe&&xe.id===fe.user.id&&(v(xe),no.value=xe.permissionsMap||{},xl.value=xe.ui||{}),await k(fe.user.id)}else console.log("[AuthContext] No active session found."),i(null),v(null),no.value={},xl.value={},Di.value=null;A(!1),th.value=!1})(),()=>V.unsubscribe()},[k]);const M=ze.useCallback(async(V,Z)=>{try{const{data:te,error:fe}=await pi.auth.signInWithPassword({email:V,password:Z});if(fe)return{success:!1,error:fe.message||"Erro ao realizar login"};if(te!=null&&te.user&&(te!=null&&te.session)){const Re=await k(te.user.id);return I(!1),sessionStorage.removeItem("mfa_verified"),Re!=null&&Re.mfaEnabled?{success:!0,mfaRequired:!0,profile:Re}:{success:!0,profile:Re}}return{success:!1,error:"Erro inesperado durante o login"}}catch(te){return{success:!1,error:te.message||"Erro ao realizar login"}}},[k]),U=ze.useCallback(async()=>{try{const V=await ut.getItem("last_offline_account");if(!V)return null;const Z=720*60*60*1e3;return Date.now()-V.cachedAt>Z?(await ut.removeItem("last_offline_account"),null):{identifier:V.identifier,fullName:V.profile.fullName,avatarUrl:V.profile.avatarUrl,role:V.profile.role,cachedAt:V.cachedAt}}catch{return null}},[]),P=ze.useCallback(async()=>{try{const V=await ut.getItem("last_offline_account");if(!V)return{success:!1,error:"Nenhuma conta disponvel para login offline"};const Z=720*60*60*1e3;if(Date.now()-V.cachedAt>Z)return await ut.removeItem("last_offline_account"),{success:!1,error:"Credenciais offline expiradas. Conecte-se online."};const te=V.profile;return await ut.setItem("manual_worker_session",{id:te.id,profile:te}),v(te),i({id:te.id}),Di.value={id:te.id,...te},A(!1),{success:!0}}catch{return{success:!1,error:"Erro ao realizar login offline"}}},[]),j=ze.useCallback(async(V,Z,te,fe)=>{try{const{error:Re}=await pi.auth.signUp({email:V,password:Z,options:{data:{name:te,phone:fe}}});return Re?{success:!1,error:Re.message}:{success:!0}}catch{return{success:!1,error:"Erro ao criar conta"}}},[]),X=ze.useCallback(async()=>{if(y)try{await ut.setItem("last_offline_account",{identifier:y.email||y.registrationNumber||y.username,profile:y,passwordHash:"",cachedAt:Date.now()})}catch(V){console.warn("[Auth] Failed to cache last account:",V)}await pi.auth.signOut(),await ut.removeItem("manual_worker_session"),sessionStorage.removeItem("mfa_verified"),i(null),h(null),v(null),I(!1)},[y]),G=ze.useCallback(async V=>{try{const{error:Z}=await pi.auth.resetPasswordForEmail(V);return Z?{success:!1,error:Z.message}:{success:!0}}catch{return{success:!1,error:"Erro ao recuperar senha"}}},[]),H=ze.useCallback(async V=>{try{const{error:Z}=await pi.auth.updateUser({password:V});if(Z)throw Z;return{success:!0}}catch(Z){return console.error("Change Password Error:",Z),{success:!1,error:Z.message||"Erro ao alterar senha"}}},[]),q=ze.useCallback(async()=>{try{if(!r)throw new Error("Usurio no autenticado");const{error:V}=await pi.from("users").update({mfaEnabled:!1,mfaSecret:null}).eq("id",r.id);if(V)throw V;return N(!1),await k(r.id),{success:!0}}catch(V){return console.error("Disable MFA Error:",V),{success:!1,error:V.message||"Erro ao desativar MFA"}}},[r,k]),ae=ze.useCallback(async V=>{try{if(!r)throw new Error("Usurio no autenticado");const{error:Z}=await pi.from("users").update({mfaEnabled:!0,mfaSecret:V}).eq("id",r.id);if(Z)throw Z;return N(!0),await k(r.id),{success:!0}}catch(Z){return console.error("Enable MFA Error:",Z),{success:!1,error:Z.message||"Erro ao ativar MFA"}}},[r,k]),re=ze.useMemo(()=>({user:r,session:c,profile:y,isLoading:b,login:M,loginOffline:P,getLastOfflineAccount:U,logout:X,register:j,resetPassword:G,changePassword:H,disableMfa:q,enableMfa:ae,isMfaVerified:E,setMfaVerified:N,refreshProfile:async()=>{r!=null&&r.id&&await k(r.id)}}),[r,c,y,b,M,P,U,X,j,G,H,q,ae,E,k]);return O.jsx(iC.Provider,{value:re,children:t})}function Xo(){const t=R.useContext(iC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const oC=R.createContext(void 0);function K5({children:t}){const[r,i]=R.useState(navigator.onLine),[c,h]=R.useState(navigator.onLine),[y,v]=R.useState(!1),[b,A]=R.useState(0),[E,I]=R.useState(null),{toast:N}=Ho(),k=R.useCallback(async()=>{const j=await ut.getSyncQueue();A(j.length)},[]),M=R.useCallback(async()=>{if(!navigator.onLine)return i(!1),h(!1),!1;try{let j="";if(Ru){const H="/api/v1";j=H.includes("/api/v1")?`${H}/health`:`${H}/api/v1/health`}const X={};return j?((await fetch(j,{method:"GET",headers:X,cache:"no-store"})).ok,i(!0),h(!0),!0):Ru}catch{return h(Ru),Ru}},[]),U=ze.useRef(!1),P=R.useCallback(async()=>{if(!(U.current||!await M())){U.current=!0,v(!0);try{const G=[...await ut.getSyncQueue()];if(G.length===0){I(new Date);return}console.log(`Iniciando sincronizao de ${G.length} itens...`);let H=0;const q=(ae,re,V,Z)=>{for(let te=Z;te<ae.length;te++){const fe=ae[te];fe.data&&Object.keys(fe.data).forEach(Re=>{fe.data[Re]===re&&(fe.data[Re]=V)})}};for(const ae of G){const re=ae;try{if(re.operation==="insert"){const V={...re.data},Z=V.localId||re.itemId;["time_records","daily_reports"].includes(re.table)||delete V.localId,Object.keys(V).forEach(Ue=>{V[Ue]==="none"&&(V[Ue]=null)});const fe=J2(re.table,V);let{data:Re,error:xe}=await wt.from(re.table).insert(fe).select().single();if(xe&&xe.code==="23505"&&re.table==="daily_reports"&&fe.user_id&&fe.report_date){const{data:Ue,error:me}=await wt.from("daily_reports").select("id").eq("user_id",fe.user_id).eq("report_date",fe.report_date).maybeSingle();if(!me&&Ue){const{data:ce,error:ie}=await wt.from("daily_reports").update(fe).eq("id",Ue.id).select().single();Re=ce,xe=ie}}if(xe)throw xe;Re&&Re.id&&Z&&q(G,Z,Re.id,G.indexOf(ae)+1)}else if(re.operation==="update"&&re.itemId){const V=J2(re.table,re.data||{}),{error:Z}=await wt.from(re.table).update(V).eq("id",re.itemId);if(Z)throw Z}else if(re.operation==="delete"&&re.itemId){const{error:V}=await wt.from(re.table).delete().eq("id",re.itemId);if(V)throw V}await ut.removeFromSyncQueue(re.id),H++}catch(V){console.error(`Falha ao sincronizar item ${re.id} da tabela ${re.table}:`,V)}}H>0&&N({title:"Sincronizao concluda",description:`${H} ${H===1?"item sincronizado":"itens sincronizados"}`})}catch(X){console.error("Erro geral no motor de sincronizao:",X)}finally{U.current=!1,v(!1),I(new Date),k()}}},[M,N,k]);return R.useEffect(()=>{const j=async()=>{i(!0),await M()&&(await ut.getSyncQueue()).length>0&&P()},X=()=>{i(!1),h(!1),N({title:"Sem conexo",description:"Suas alteraes sero salvas localmente",variant:"destructive"})};window.addEventListener("online",j),window.addEventListener("offline",X),k(),M().then(async H=>{H&&(await ut.getSyncQueue()).length>0&&P()});const G=setInterval(async()=>{await M()&&!U.current&&((await ut.getSyncQueue()).length>0?P():k())},3e4);return()=>{window.removeEventListener("online",j),window.removeEventListener("offline",X),clearInterval(G)}},[M,P,N,k]),O.jsx(oC.Provider,{value:{isOnline:r,isConnected:c,isSyncing:y,pendingChanges:b,lastSyncTime:E,syncNow:P},children:t})}function J2(t,r){const c={job_functions:{name:"name",description:"description",canLeadTeam:"can_lead_team"},employees:{fullName:"full_name",registrationNumber:"registration_number",functionId:"function_id",phone:"phone",email:"email",isActive:"is_active"},teams:{name:"name",supervisorId:"supervisor_id",isActive:"is_active"},time_records:{employeeId:"user_id",teamId:"team_id",recordType:"record_type",photoUrl:"photo_url",latitude:"latitude",longitude:"longitude",recordedAt:"recorded_at",localId:"local_id",createdBy:"created_by",companyId:"company_id"},daily_reports:{teamId:"team_id",employeeId:"user_id",reportDate:"report_date",activities:"activities",observations:"observations",localId:"local_id",createdBy:"created_by",companyId:"company_id"}}[t]||{},h={};for(const[y,v]of Object.entries(r)){const b=c[y]||y;h[b]=v}return h}function ug(){const t=R.useContext(oC);if(t===void 0)throw new Error("useSync must be used within a SyncProvider");return t}class Y5{constructor(){ga(this,"cacheVersion",1)}getCacheKey(r){return`cache:${r}`}async set(r,i,c){const h=this.getCacheKey(r),y=Date.now(),v=c??g4[r];try{await ut.setItem(h,i);const b={key:h,tableName:r,createdAt:y,expiresAt:y+v,recordCount:Array.isArray(i)?i.length:1,version:this.cacheVersion};await nr.cacheKeys.put(b)}catch(b){console.error(`[CacheService] Error caching ${r}:`,b)}}async get(r){const i=this.getCacheKey(r);try{const c=await nr.cacheKeys.get(i);if(!c)return null;if(Date.now()>c.expiresAt)return await this.invalidate(r),null;if(c.version!==this.cacheVersion)return await this.invalidate(r),null;const h=await nr.storage.get(i);return h?h.value:null}catch(c){return console.error(`[CacheService] Error reading cache for ${r}:`,c),null}}async isValid(r){const i=this.getCacheKey(r);try{const c=await nr.cacheKeys.get(i);return!(!c||Date.now()>c.expiresAt||c.version!==this.cacheVersion)}catch{return!1}}async getMetadata(r){const i=this.getCacheKey(r);try{return await nr.cacheKeys.get(i)??null}catch{return null}}async invalidate(...r){try{for(const i of r){const c=this.getCacheKey(i);await nr.storage.delete(c),await nr.cacheKeys.delete(c)}}catch(i){console.error("[CacheService] Error invalidating cache:",i)}}async cleanExpired(){try{const r=Date.now(),i=await nr.cacheKeys.where("expiresAt").below(r).toArray();for(const c of i)await nr.storage.delete(c.key),await nr.cacheKeys.delete(c.key);return i.length>0,i.length}catch(r){return console.error("[CacheService] Error cleaning expired caches:",r),0}}async getStatus(){try{const r=await nr.cacheKeys.toArray(),i=Date.now();return r.map(c=>({entity:c.tableName,recordCount:c.recordCount,expiresIn:Math.max(0,c.expiresAt-i),isExpired:i>c.expiresAt}))}catch{return[]}}async clearAll(){try{const r=await nr.cacheKeys.toArray();for(const i of r)await nr.storage.delete(i.key);await nr.cacheKeys.clear()}catch(r){console.error("[CacheService] Error clearing all caches:",r)}}incrementVersion(){this.cacheVersion++}async getTimeToLive(r){const i=await this.getMetadata(r);if(!i)return"Cache no existe";const c=i.expiresAt-Date.now();if(c<=0)return"Expirado";const h=Math.floor(c/(3600*1e3)),y=Math.floor(c%(3600*1e3)/(60*1e3));return h>0?`${h}h ${y}m`:`${y}m`}}const gl=new Y5;function W5(){const[t,r]=R.useState({isWarming:!1,progress:0,currentEntity:null,completedEntities:[],errors:[]}),i=[{entity:"jobFunctions",query:async()=>{const{data:v,error:b}=await wt.from("job_functions").select("*").order("name");if(b)throw b;return v}},{entity:"companies",query:async()=>{const{data:v,error:b}=await wt.from("companies").select("*").order("name");if(b)throw b;return v}},{entity:"projects",query:async()=>{const{data:v,error:b}=await wt.from("projects").select("*").order("name");if(b)throw b;return v}},{entity:"sites",query:async()=>{const{data:v,error:b}=await wt.from("sites").select("*").order("name");if(b)throw b;return v}},{entity:"teams",query:async()=>{const{data:v,error:b}=await wt.from("teams").select(`
            *,
            supervisor:users!teams_supervisor_id_fkey(id, name)
          `).eq("is_active",!0).order("name");if(b)throw b;return v}},{entity:"employees",query:async()=>{const{data:v,error:b}=await wt.from("users").select(`
            *,
            jobFunction:job_functions(id, name, can_lead_team)
          `).eq("status","ACTIVE").order("name");if(b)throw b;return v}},{entity:"constructionDocuments",query:async()=>{const{data:v,error:b}=await wt.from("construction_documents").select("*").order("created_at",{ascending:!1});if(b)throw b;return v}},{entity:"mapElements",query:async()=>{const{data:v,error:b}=await wt.from("map_elements").select("*");if(b)throw b;return v}},{entity:"towerTechnicalData",query:async()=>{const{data:v,error:b}=await wt.from("tower_technical_data").select("*");if(b)throw b;return v}}],c=R.useCallback(async(v=!1)=>{if(t.isWarming)return;r({isWarming:!0,progress:0,currentEntity:null,completedEntities:[],errors:[]});const b=[],A=[];for(let E=0;E<i.length;E++){const{entity:I,query:N}=i[E];r(k=>({...k,currentEntity:I,progress:E/i.length*100}));try{if(!v&&await gl.isValid(I)){b.push(I);continue}const k=await N();await gl.set(I,k),b.push(I)}catch(k){console.error(`[CacheWarming] Error caching ${I}:`,k),A.push({entity:I,error:k.message||"Unknown error"})}}r({isWarming:!1,progress:100,currentEntity:null,completedEntities:b,errors:A}),await gl.cleanExpired()},[t.isWarming]),h=R.useCallback(async()=>await gl.getStatus(),[]),y=R.useCallback(async()=>{await gl.clearAll(),r({isWarming:!1,progress:0,currentEntity:null,completedEntities:[],errors:[]})},[]);return{warmCache:c,getCacheStatus:h,clearAllCaches:y,status:t,isWarming:t.isWarming}}const Z5=R.createContext(void 0);function Q5({children:t}){const{user:r,profile:i,isLoading:c}=Xo(),{warmCache:h,getCacheStatus:y,clearAllCaches:v,isWarming:b}=W5(),A=R.useRef(!1),E=R.useRef(null);return R.useEffect(()=>{if(!c)if(r&&i){if(A.current&&E.current===r.id)return;A.current=!0,E.current=r.id,h(!1).catch(I=>{console.error("[CacheWarmingProvider] Cache warming error:",I)})}else A.current=!1,E.current=null},[r==null?void 0:r.id,i==null?void 0:i.id,c]),R.useEffect(()=>{!c&&!r&&gl.clearAll()},[r,c]),R.useEffect(()=>{const I=setInterval(()=>{gl.cleanExpired()},3e5);return()=>clearInterval(I)},[]),O.jsx(Z5.Provider,{value:{warmCache:h,getCacheStatus:y,clearAllCaches:v,isWarming:b},children:t})}const fh=[{id:"orion-slate",label:"Orion Slate (Premium)",colors:{primary:"text-primary",border:"border-border/50",bg:"bg-background",glow:"shadow-glow",icon:"text-primary",text:"text-foreground"},previewColor:"bg-[#0A0F1A] border-primary border-2"},{id:"enterprise",label:"Enterprise Premium",colors:{primary:"text-slate-900",border:"border-slate-200",bg:"bg-white",glow:"shadow-slate-200",icon:"text-slate-800",text:"text-slate-900"},previewColor:"bg-white border-slate-900 border-2"},{id:"nebula",label:"Cosmic Nebula",colors:{primary:"text-pink-500",border:"border-pink-500",bg:"bg-indigo-950",glow:"shadow-pink-500",icon:"text-pink-400",text:"text-pink-100"},previewColor:"bg-indigo-950 border-pink-500 border-2"}],$5={theme:"system",setTheme:()=>null},sC=R.createContext($5);function J5({children:t,defaultTheme:r="system",storageKey:i="vite-ui-theme",...c}){const[h,y]=R.useState(()=>localStorage.getItem(i)||r);R.useEffect(()=>{const b=window.document.documentElement;if(b.classList.remove("light","dark"),fh.forEach(E=>{b.classList.remove(`theme-${E.id}`)}),h==="system"){const E=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";b.classList.add(E);return}const A=fh.find(E=>E.id===h);A?(b.classList.add(`theme-${A.id}`),A.id!=="enterprise"&&b.classList.add("dark")):b.classList.add(h)},[h]);const v={theme:h,setTheme:b=>{localStorage.setItem(i,b),y(b)}};return O.jsx(sC.Provider,{...c,value:v,children:t})}const eM=()=>{const t=R.useContext(sC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},ef=or(!1),tM=800;typeof window<"u"&&setTimeout(()=>{ef.value||(console.log("[AppInit] Animations delay elapsed."),ef.value=!0)},tM);const lC=Vo(()=>{const t=th.value,r=Ic.value;dw.value;const i=ef.value,c=kd.value,h=Oc.value,y=Bd.value,v=Mc.value,b=Vp.value;return[{id:"users",label:"Usurios e Acessos",status:h?"completed":t||c?"loading":"pending"},{id:"projects",label:"Obras e Projetos",status:b?"completed":r?"loading":"pending"},{id:"employees",label:"Funcionrios",status:b?"completed":r?"loading":"pending"},{id:"teams",label:"Equipes e Lideranas",status:v?"completed":y?"loading":"pending"},{id:"sites",label:"Canteiros de Obra",status:b?"completed":r?"loading":"pending"},{id:"production",label:"Dados de Produo",status:b?"completed":r?"loading":"pending"},{id:"viewer3d",label:"Engenharia 3D",status:i?"completed":"loading"},{id:"reports",label:"Relatrios e Mdias",status:i?"completed":"loading"}]}),nM=Vo(()=>{const t=lC.value,r=t.filter(i=>i.status==="completed").length;return Math.round(r/t.length*100)}),rM=Vo(()=>{const t=!th.value,r=!Ic.value,i=!dw.value,c=t&&r&&i;return c&&(console.log("[AppInit] System data is ready."),ef.value||(ef.value=!0)),c});function vp(){jc();const t=nM.value,r=lC.value;return O.jsxs("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-[#030712] overflow-hidden select-none",children:[O.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[O.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/10 rounded-full blur-[120px] animate-pulse"}),O.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-500/5 rounded-full blur-[120px] animate-pulse",style:{animationDelay:"1s"}}),O.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--primary),0.02)_0%,transparent_70%)]"})]}),O.jsxs("div",{className:"relative w-[90vw] max-w-[420px] px-4 flex flex-col items-center gap-[3vh] z-10",children:[O.jsxs("div",{className:"w-full flex flex-col items-center gap-[2vh]",children:[O.jsx("div",{className:"relative group",children:O.jsxs("div",{className:"relative flex items-center justify-center",style:{width:"clamp(100px, 15vh, 180px)",height:"clamp(100px, 15vh, 180px)"},children:[O.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/5 blur-xl animate-pulse"}),O.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)]",viewBox:"0 0 100 100",children:[O.jsx("circle",{cx:"50",cy:"50",r:"46",className:"stroke-white/5 fill-none",strokeWidth:"2"}),O.jsx("circle",{cx:"50",cy:"50",r:"46",className:"stroke-primary fill-none transition-all duration-1000 ease-out",strokeWidth:"3",strokeDasharray:"289.03",strokeDashoffset:289.03*(1-t/100),strokeLinecap:"round",style:{filter:"drop-shadow(0 0 8px hsl(var(--primary)))"}})]}),O.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:O.jsxs("div",{className:"flex items-baseline",children:[O.jsx("span",{className:"font-black text-white tracking-tighter tabular-nums drop-shadow-glow",style:{fontSize:"clamp(1.5rem, 4vh, 3rem)"},children:Math.round(t)}),O.jsx("span",{className:"font-black text-primary/70 ml-0.5",style:{fontSize:"clamp(0.75rem, 1.5vh, 1.25rem)"},children:"%"})]})})]})}),O.jsxs("div",{className:"text-center space-y-1 pointer-events-none select-none",children:[O.jsxs("div",{className:"space-y-0",children:[O.jsx("h1",{className:"font-black tracking-[0.2em] text-white italic drop-shadow-glow flex items-center justify-center gap-1",style:{fontSize:"clamp(1.5rem, 4vh, 3.5rem)"},children:["G","E","S","T","","O"].map((i,c)=>O.jsx("span",{className:"animate-in slide-in-from-bottom-2 fade-in duration-500",style:{animationDelay:`${c*40}ms`},children:i},c))}),O.jsx("h2",{className:"font-black tracking-[0.3em] text-white/5 italic -mt-1",style:{fontSize:"clamp(1rem, 3vh, 2.5rem)"},children:"VIRTUAL"})]}),O.jsxs("div",{className:"flex items-center justify-center gap-3 py-1",children:[O.jsx("div",{className:"h-px w-8 bg-linear-to-r from-transparent via-primary/30 to-transparent"}),O.jsx("span",{className:"font-black tracking-[0.4em] text-primary/50 uppercase",style:{fontSize:"clamp(0.5rem, 1vh, 0.75rem)"},children:"Protocolo Orion v3"}),O.jsx("div",{className:"h-px w-8 bg-linear-to-l from-transparent via-primary/30 to-transparent"})]})]})]}),O.jsxs("div",{className:"w-full glass-card bg-black/40 backdrop-blur-2xl border border-white/5 rounded-2xl shadow-xl relative overflow-hidden group",style:{padding:"clamp(12px, 2vh, 24px)",maxWidth:"clamp(280px, 40vw, 380px)"},children:[O.jsxs("div",{className:"flex items-center justify-between mb-[1.5vh]",children:[O.jsxs("div",{className:"space-y-0.5",children:[O.jsx("h3",{className:"font-black tracking-[0.2em] text-white/30 uppercase",style:{fontSize:"clamp(0.5rem, 0.9vh, 0.625rem)"},children:"Sincronizao de Dados"}),O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse shadow-[0_0_6px_hsl(var(--primary))]"}),O.jsx("span",{className:"font-bold text-primary tracking-wider uppercase",style:{fontSize:"clamp(0.5rem, 0.9vh, 0.625rem)"},children:t<100?"Active_Sync":"Ready_State"})]})]}),O.jsx(Wp,{className:"w-4 h-4 text-white/10"})]}),O.jsx("div",{className:"space-y-[0.8vh]",children:r.map((i,c)=>O.jsxs("div",{className:At("flex items-center justify-between rounded-lg transition-all duration-500",i.status==="completed"?"bg-white/3 border border-white/5":"bg-transparent"),style:{padding:"clamp(6px, 1vh, 12px) clamp(10px, 1.5vh, 16px)",transitionDelay:`${c*60}ms`},children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:At("w-2 h-2 rounded-full transition-all duration-500",i.status==="completed"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":i.status==="loading"?"bg-primary animate-pulse scale-110":"bg-white/10")}),O.jsx("span",{className:At("font-bold uppercase tracking-[0.15em] transition-all duration-500",i.status==="completed"?"text-white/60":i.status==="loading"?"text-primary brightness-110":"text-white/10"),style:{fontSize:"clamp(0.5rem, 1vh, 0.75rem)"},children:i.label})]}),i.status==="loading"&&O.jsx(Ku,{className:"h-3 w-3 animate-spin text-primary/50"}),i.status==="completed"&&O.jsx($w,{className:"h-3 w-3 text-emerald-500/40"})]},i.id))})]}),O.jsx("div",{className:"text-center opacity-20",children:O.jsx("p",{className:"font-bold text-white uppercase tracking-[0.5em]",style:{fontSize:"clamp(0.4rem, 0.8vh, 0.5rem)"},children:"Digital Ecosystem  Enterprise v3.0"})})]})]})}const fg=t=>{var c;if(!t)return!1;if(t.isSystemAdmin||(c=t.permissionsMap)!=null&&c["system.full_access"])return!0;const r=(t.role||"").toUpperCase();return!!(["SUPER_ADMIN_GOD","SUPERADMINGOD"].includes(r)||(t.hierarchyLevel||0)>=1500)},aM=t=>{if(!t)return!1;if(fg(t))return!0;const r=(t.role||"").toUpperCase();return!!(["SOCIO_DIRETOR","SOCIODIRETOR","ADMIN","TI_SOFTWARE","TISOFTWARE","MANAGER"].includes(r)||(t.hierarchyLevel||0)>=900)},SB=(t,r)=>{var i;return((i=r==null?void 0:r.permissionsMap)==null?void 0:i["system.is_corporate"])!==void 0?!!r.permissionsMap["system.is_corporate"]:!1},dh=t=>{if(!t)return!1;const r=(t.role||"").toUpperCase();return r==="SUPER_ADMIN_GOD"||r==="SUPERADMINGOD"},iM=t=>t?t.toUpperCase()==="WORKER":!1,oM=t=>t?(t.role||"").toUpperCase()==="HELPER_SYSTEM":!1,eb=(t,r)=>{var h,y,v,b;if(oM(r))return!1;if(t.id===r.id)return!0;const i=t.hierarchyLevel||0,c=r.hierarchyLevel||0;return fg(t)?!0:i<=c?!1:(h=t.permissionsMap)!=null&&h["users.manage.all"]||(y=t.permissionsMap)!=null&&y["users.manage"]?!0:!!((v=t.permissionsMap)!=null&&v["users.update"])||!!((b=t.permissionsMap)!=null&&b["users.manage"])},AB=(t,r)=>{var h,y,v;const i=t.hierarchyLevel||0,c=r.level||0;return fg(t)?!0:i<=c?!1:!!((h=t.permissionsMap)!=null&&h["employees.manage"])||!!((y=t.permissionsMap)!=null&&y["employees.manage.all"])||!!((v=t.permissionsMap)!=null&&v["employees.manage.create"])};function sM(t){const[r,i]=R.useState([]),[c,h]=R.useState(!0),{toast:y}=Ho(),{profile:v}=Xo(),b=v==null?void 0:v.id,A=t==null?void 0:t.companyId,E=t==null?void 0:t.projectId,I=t==null?void 0:t.siteId,N=t==null?void 0:t.search,k=t==null?void 0:t.onlyCorporate,M=t==null?void 0:t.excludeCorporate,U=ze.useRef(!1),P=ze.useRef(""),j=R.useCallback(async(V=!1)=>{if(!b)return;const Z=JSON.stringify({search:N,companyId:A,projectId:E,siteId:I,onlyCorporate:k,excludeCorporate:M}),te=P.current!==Z;if(!(U.current&&!V&&!te)){P.current=Z,h(!0),U.current||(kd.value=!0),U.current=!0;try{let fe=wt.from("users").select("id, name, email, role, phone, image, registrationNumber, cpf, createdAt, companyId, projectId, siteId, status, isSystemAdmin, hierarchyLevel, userRole(role), iap_name, address");if(N&&N.trim().length>0&&(fe=fe.eq("search",N.trim())),A&&(fe=fe.eq("companyId",A)),E&&(fe=fe.eq("projectId",E)),I&&(fe=fe.eq("siteId",I)),k&&(fe=fe.eq("onlyCorporate",!0)),M&&(fe=fe.eq("excludeCorporate",!0)),!navigator.onLine){const me=await ut.getItem("system_users");if(me){i(me),h(!1),kd.value=!1,Oc.value=!0;return}}const{data:Re,error:xe}=await fe;if(xe)throw xe;const Ue=(Re||[]).map(me=>{var ge;const ce=me.name||me.fullName||((ge=me.email)==null?void 0:ge.split("@")[0])||"Usurio",ie=me.address?me.address:{};return{id:me.id,fullName:ce,email:me.email||"",registrationNumber:me.registrationNumber,createdAt:me.createdAt,role:(me.role||"WORKER").toUpperCase(),phone:me.phone,companyId:me.companyId,projectId:me.projectId,siteId:me.siteId,isBlocked:(me.status||me.isBlocked)==="SUSPENDED"||(me.status||me.isBlocked)==="INACTIVE"||me.isBlocked===!0,status:me.status,isSystemAdmin:me.isSystemAdmin||!1,hierarchyLevel:me.hierarchyLevel,userRole:me.userRole,image:me.image,zipCode:ie==null?void 0:ie.cep,street:ie==null?void 0:ie.street,number:ie==null?void 0:ie.number,neighborhood:ie==null?void 0:ie.neighborhood,city:ie==null?void 0:ie.city,state:ie==null?void 0:ie.stateCode,gender:me.gender,birthDate:me.birthDate,laborType:me.laborType,iapName:me.iapName}});i(Ue),await ut.setItem("system_users",Ue)}catch(fe){console.warn("[useUsers] Network error, checking local cache...");const Re=await ut.getItem("system_users");if(Re)i(Re);else{const xe=Fs(fe);y({title:"Erro ao carregar usurios",description:xe,variant:"destructive"})}}finally{h(!1),kd.value=!1,Oc.value=!0}}},[y,b,A,E,I,N,k,M]);return R.useEffect(()=>{b&&j()},[b,j]),{users:r,isLoading:c,updateUser:async(V,Z,te)=>{var Ue;const fe=(v==null?void 0:v.id)===V,Re=r.find(me=>me.id===V),xe=te||Re||(fe?v:null);if(!v||!xe)return{success:!1,error:"Usurio no encontrado."};if(!fe&&!eb(v,xe))return{success:!1,error:"Voc no tem permisso para editar este usurio."};try{const me={id:V};Z.fullName!==void 0&&(me.name=Z.fullName),Z.email!==void 0&&(me.email=Z.email),Z.role!==void 0&&(me.role=Z.role.toUpperCase()),Z.permissions!==void 0&&(me.permissions=Z.permissions),Z.cpf!==void 0&&(me.cpf=Z.cpf),Z.companyId!==void 0&&(me.companyId=Z.companyId),Z.projectId!==void 0&&(me.projectId=Z.projectId),Z.siteId!==void 0&&(me.siteId=Z.siteId),Z.registrationNumber!==void 0&&(me.registrationNumber=Z.registrationNumber),Z.isBlocked!==void 0&&(me.status=Z.isBlocked?"SUSPENDED":"ACTIVE"),Z.status!==void 0&&(me.status=Z.status),Z.image!==void 0&&(me.image=Z.image),Z.phone!==void 0&&(me.phone=Z.phone),Z.gender!==void 0&&(me.gender=Z.gender),Z.birthDate!==void 0&&(me.birthDate=Z.birthDate),Z.laborType!==void 0&&(me.laborType=Z.laborType),Z.iapName!==void 0&&(me.iapName=Z.iapName),Z.zipCode!==void 0&&(me.zipCode=Z.zipCode),Z.street!==void 0&&(me.street=Z.street),Z.number!==void 0&&(me.number=Z.number),Z.neighborhood!==void 0&&(me.neighborhood=Z.neighborhood),Z.city!==void 0&&(me.city=Z.city),Z.city!==void 0&&(me.city=Z.city),Z.state!==void 0&&(me.state=Z.state),Z.isSystemAdmin!==void 0&&(me.isSystemAdmin=Z.isSystemAdmin);const ce=await wt.from("users").update(me).eq("id",V),{data:ie,error:ge}=ce;if(ge)throw ge;const Ne=!0;if(ie!=null&&ie._partial||!Ne){const we=((Ue=ie==null?void 0:ie._report)==null?void 0:Ue.failed)||[],Xe={cpf:"CPF",email:"E-mail",phone:"Telefone",birthDate:"Data de Nascimento",gender:"Gnero",laborType:"Tipo de Mo de Obra",iapName:"IAP"},ne=we.map(de=>Xe[de.field]||de.field);y({title:"Ateno: Salvamento Parcial",description:`Os seguintes campos no puderam ser salvos: ${ne.join(", ")}. O restante foi atualizado.`,variant:"destructive"})}else y({title:"Usurio atualizado",description:"Todos os dados foram salvos com sucesso."});return i(we=>we.map(Xe=>{if(Xe.id===V){const ne={...Xe};return Z.fullName!==void 0&&(ne.fullName=Z.fullName),Z.email!==void 0&&(ne.email=Z.email),Z.role!==void 0&&(ne.role=Z.role.toUpperCase()),Z.companyId!==void 0&&(ne.companyId=Z.companyId),Z.projectId!==void 0&&(ne.projectId=Z.projectId),Z.siteId!==void 0&&(ne.siteId=Z.siteId),Z.registrationNumber!==void 0&&(ne.registrationNumber=Z.registrationNumber),Z.isBlocked!==void 0&&(ne.isBlocked=Z.isBlocked),Z.status!==void 0&&(ne.status=Z.status),Z.image!==void 0&&(ne.image=Z.image),Z.phone!==void 0&&(ne.phone=Z.phone),Z.gender!==void 0&&(ne.gender=Z.gender),Z.birthDate!==void 0&&(ne.birthDate=Z.birthDate),Z.laborType!==void 0&&(ne.laborType=Z.laborType),Z.iapName!==void 0&&(ne.iapName=Z.iapName),Z.zipCode!==void 0&&(ne.zipCode=Z.zipCode),Z.street!==void 0&&(ne.street=Z.street),Z.number!==void 0&&(ne.number=Z.number),Z.neighborhood!==void 0&&(ne.neighborhood=Z.neighborhood),Z.city!==void 0&&(ne.city=Z.city),Z.state!==void 0&&(ne.state=Z.state),ne}return Xe})),{success:!0,partial:(ie==null?void 0:ie._partial)||!Ne}}catch(me){const ce=me instanceof Error?me:new Error(String(me));return{success:!1,error:Fs(ce)}}},createUser:async(V,Z,te,fe,Re,xe,Ue,me,ce,ie,ge,Ne,we,Xe,ne,de,Ie,Oe,tt,Le,Be)=>{try{if(Z.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres.");const et=V.trim().toLowerCase();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(et))throw new Error("O formato do e-mail parece invlido.");const{data:Ve,error:ht}=await wt.auth.signUp({email:et,password:Z,options:{data:{name:te,role:fe.toUpperCase(),companyId:Re||null,projectId:xe||null,siteId:Ue||null,registrationNumber:me||null,image:ce||null,cpf:ie||null,phone:tt||null}}});if(ht)throw ht;if(Ve!=null&&Ve.user){const{error:rt}=await wt.from("users").update({gender:Ie||null,birth_date:Oe||null,labor_type:Le||null,iap_name:Be||null}).eq("id",Ve.user.id);if(ge||Ne||de){const{error:mt}=await wt.from("user_addresses").insert({user_id:Ve.user.id,cep:ge||"",logradouro:Ne||"",number:we||"",bairro:Xe||"",localidade:ne||"",uf:de||"",estado:""});mt&&console.error("Error creating address",mt)}return rt&&console.error("Error updating profile details",rt),y({title:"Usurio criado",description:"A nova conta foi cadastrada com sucesso."}),j(),{success:!0,userId:Ve.user.id}}return{success:!1,error:"Erro desconhecido na criao"}}catch(et){return{success:!1,error:et instanceof Error?et.message:"Erro desconhecido"}}},deleteUser:async V=>{const Z=r.find(te=>te.id===V);if(!v||!Z||!eb(v,Z))return{success:!1,error:"Voc no tem permisso para excluir este usurio."};try{const{error:te}=await wt.from("users").delete().eq("id",V);if(te)throw te;return i(fe=>fe.filter(Re=>Re.id!==V)),y({title:"Usurio excludo",description:"A conta foi removida permanentemente."}),{success:!0}}catch(te){return{success:!1,error:Fs(te)}}},adminChangePassword:async(V,Z)=>{try{const{error:te}=await wt.from("users").update({id:V,password:Z}).eq("id",V);if(te)throw te;return y({title:"Senha alterada",description:"A senha do usurio foi atualizada com sucesso."}),{success:!0}}catch(te){return{success:!1,error:te instanceof Error?te.message:"Erro ao alterar senha"}}},adminToggleBlock:async(V,Z)=>{try{const{error:te}=await wt.from("users").update({id:V,status:Z?"SUSPENDED":"ACTIVE"}).eq("id",V);if(te)throw te;return y({title:Z?"Usurio bloqueado":"Usurio desbloqueado",description:Z?"O usurio no poder mais acessar o sistema.":"O acesso do usurio foi restaurado."}),i(fe=>fe.map(Re=>Re.id===V?{...Re,isBlocked:Z,status:Z?"SUSPENDED":"ACTIVE"}:Re)),{success:!0}}catch(te){return{success:!1,error:te instanceof Error?te.message:"Erro ao mudar status"}}},resetUserPassword:async V=>{try{const{error:Z}=await wt.auth.resetPasswordForEmail(V);if(Z)throw Z;return{success:!0}}catch(Z){return{success:!1,error:Fs(Z)}}},refresh:j}}function cC(t){const r=Q_(),{toast:i}=Ho(),{items:c,isLoading:h,hasFetched:y,error:v}=eT(M=>M.teams),b=R.useRef(!1),A=R.useCallback(async(M=!1)=>{if(!Di.value){console.log("[useTeams] Skipped fetch: No user logged in.");return}(y||b.current)&&!M||(b.current=!0,r(Ld(t)))},[r,t,y]);return R.useEffect(()=>{A()},[A]),R.useEffect(()=>{v&&i({title:"Erro no Gerenciamento de Equipes",description:v,variant:"destructive"})},[v,i]),{teams:c,isLoading:h,createTeam:async M=>{try{const U=await r(Xm(M));return Xm.fulfilled.match(U)?{success:!0,data:U.payload.team}:{success:!1,error:U.payload}}catch(U){return{success:!1,error:U.message}}},updateTeam:async(M,U)=>{try{const P=await r(Km({id:M,data:U}));return Km.fulfilled.match(P)?{success:!0}:{success:!1,error:P.payload}}catch(P){return{success:!1,error:P.message}}},deleteTeam:async M=>{try{const U=await r(Ym(M));return Ym.fulfilled.match(U)?{success:!0}:{success:!1,error:U.payload}}catch(U){return{success:!1,error:U.message}}},moveMember:async(M,U,P)=>{try{const j=await r(Wm({employeeId:M,fromTeamId:U,toTeamId:P}));return Wm.fulfilled.match(j)?{success:!0}:{success:!1,error:j.payload}}catch(j){return{success:!1,error:j.message}}},refresh:()=>A(!0)}}const xn=or([]),Vd=or(!1),tf=or({companyId:"",projectId:"",siteId:"",searchTerm:"",excludeCorporate:!0,status:"all",functionId:"all",biometric:"all",level:"all",cpfOrRegistration:""}),wm=or(!1),tb=or(""),_B=Vo(()=>{const t=xn.value,{companyId:r,projectId:i,siteId:c,searchTerm:h,excludeCorporate:y,status:v,functionId:b,biometric:A,level:E,cpfOrRegistration:I}=tf.value;return t.filter(N=>{var Z;const k=!r||N.companyId===r,M=!i||N.projectId===i,U=!c||N.siteId===c,P=!y||N.excludeCorporate!==!1,j=v==="all"||v==="active"&&N.isActive||v==="inactive"&&!N.isActive,X=b==="all"||N.functionId===b,G=A==="all"||A==="with"&&N.faceDescriptor||A==="without"&&!N.faceDescriptor,H=E==="all"||String(N.level)===E,q=I.toLowerCase(),ae=!I||N.cpf&&N.cpf.includes(I)||N.registrationNumber&&N.registrationNumber.toLowerCase().includes(q),re=h.toLowerCase(),V=!h||N.fullName.toLowerCase().includes(re)||((Z=N.email)==null?void 0:Z.toLowerCase().includes(re))||N.registrationNumber.toLowerCase().includes(re);return k&&M&&U&&P&&j&&X&&G&&H&&ae&&V})}),bp=async(t=!1)=>{const r=JSON.stringify(tf.value),i=tb.value!==r;if(!(Vd.value&&!t)&&!(wm.value&&!t&&!i)){if(!_l.token){const c=await ut.getItem("employees");c&&(xn.value=c),wm.value=!0;return}tb.value=r,Vd.value=!0,wm.value=!0;try{if(!navigator.onLine){const U=await ut.getItem("employees");U&&(xn.value=U);return}const{companyId:c,projectId:h,siteId:y,excludeCorporate:v,status:b,functionId:A,searchTerm:E,cpfOrRegistration:I}=tf.value;let N=wt.from("users").select("*, jobFunction:job_functions(name, hierarchyLevel, canLeadTeam)");N=N.eq("role","WORKER"),c&&(N=N.eq("companyId",c)),h&&(N=N.eq("projectId",h)),y&&(N=N.eq("siteId",y)),v&&(N=N.eq("excludeCorporate","true")),b&&b!=="all"&&(N=N.eq("status",b==="active"?"ACTIVE":"INACTIVE")),A&&A!=="all"&&(N=N.eq("functionId",A)),E&&(N=N.eq("search",E)),I&&(N=N.eq("cpfOrRegistration",I));const{data:k,error:M}=await N;if(M)throw M;if(k){const U=k.map(P=>{var j,X,G,H,q,ae,re,V,Z;return{id:P.id,fullName:P.name||"Sem nome",registrationNumber:P.registrationNumber||"",functionId:P.functionId,functionName:((j=P.jobFunction)==null?void 0:j.name)||"No definida",role:P.role||"WORKER",phone:P.phone||null,email:P.email||null,cpf:P.cpf||null,photoUrl:P.image||null,isActive:P.status==="ACTIVE",siteId:P.siteId||null,companyId:P.companyId||null,projectId:P.projectId||null,level:P.hierarchyLevel||0,laborType:P.laborType||"MOD",professionalLevel:((X=P.jobFunction)==null?void 0:X.hierarchyLevel)||0,canLeadTeam:!!((G=P.jobFunction)!=null&&G.canLeadTeam),gender:P.gender||null,birthDate:P.birthDate||null,cep:((H=P.address)==null?void 0:H.cep)||"",street:((q=P.address)==null?void 0:q.street)||"",number:((ae=P.address)==null?void 0:ae.number)||"",neighborhood:((re=P.address)==null?void 0:re.neighborhood)||"",city:((V=P.address)==null?void 0:V.city)||"",state:((Z=P.address)==null?void 0:Z.stateCode)||"",faceDescriptor:P.face_descriptor,createdAt:P.createdAt}});xn.value=U,await ut.setItem("employees",U)}}catch(c){console.warn("[EmployeeSignals] Network error, checking local cache...");const h=await ut.getItem("employees");h?xn.value=h:console.error("[EmployeeSignals] Error fetching and no cache available:",c)}finally{Vd.value=!1}}},lM=t=>{tf.value={...tf.value,...t}},cM=()=>{jc();const{refresh:t}=sM(),{refresh:r}=cC(),i=ze.useRef(!1);return R.useEffect(()=>{if(i.current)return;i.current=!0,(async()=>{try{t(),r(),await bp(!0)}finally{i.current=!1}})();const h=setTimeout(()=>{(!Oc.value||!Mc.value)&&(console.warn("[GlobalInitializer] Initial sync taking too long, forcing entry..."),Oc.value=!0,Mc.value=!0,Vp.value=!0)},15e3);return()=>clearTimeout(h)},[]),null},uM="modulepreload",fM=function(t){return"/"+t},nb={},Gn=function(r,i,c){let h=Promise.resolve();if(i&&i.length>0){let v=function(E){return Promise.all(E.map(I=>Promise.resolve(I).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),A=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));h=v(i.map(E=>{if(E=fM(E),E in nb)return;nb[E]=!0;const I=E.endsWith(".css"),N=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${N}`))return;const k=document.createElement("link");if(k.rel=I?"stylesheet":uM,I||(k.as="script"),k.crossOrigin="",k.href=E,A&&k.setAttribute("nonce",A),document.head.appendChild(k),I)return new Promise((M,U)=>{k.addEventListener("load",M),k.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${E}`)))})}))}function y(v){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=v,window.dispatchEvent(b),!b.defaultPrevented)throw v}return h.then(v=>{for(const b of v||[])b.status==="rejected"&&y(b.reason);return r().catch(y)})},dM=R.lazy(()=>Gn(()=>import("./Dashboard-D_k7H5ek.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),hM=R.lazy(()=>Gn(()=>import("./Functions-DLVvd87d.js"),__vite__mapDeps([8,9,10,1,11,12,13,14,15,16,17,18,19,6,20,21,22,23,24]))),mM=R.lazy(()=>Gn(()=>import("./Employees-CJx9cXZr.js"),__vite__mapDeps([25,26,27,9,17,10,28,29,13,30,31,7,14,15,16,32,1,19,33,18,34,35,24,36,37,23]))),pM=R.lazy(()=>Gn(()=>import("./Teams-BKAJwz-n.js"),__vite__mapDeps([38,39,26,27,9,10,1,11,40,41,21,14,15,16,32,19,33,7,20,42,34,23,24]))),gM=R.lazy(()=>Gn(()=>import("./TimeClock-BlJfuwCl.js"),__vite__mapDeps([43,3,10,31,7,15,44,45,21,46]))),yM=R.lazy(()=>Gn(()=>import("./DailyReport-DEfbLu3m.js"),__vite__mapDeps([47,4,26,48,1,41,21,49,50,51,52,42]))),xM=R.lazy(()=>Gn(()=>import("./Settings-CDiqWOC4.js"),__vite__mapDeps([53,1,10,54,55,56,57,22,7,14,15,16,58,23,24,34,59,60,61]))),vM=R.lazy(()=>Gn(()=>import("./Users-BWwChqnn.js"),__vite__mapDeps([62,39,27,26,10,1,11,15,63,64,22,51,58,28,29,57,41,21,16,19,65,59,24,35,23,60,61]))),bM=R.lazy(()=>Gn(()=>import("./Reports-BJuB9yTW.js"),__vite__mapDeps([66,4,1,10,13,5,21,64,44,46]))),wM=R.lazy(()=>Gn(()=>import("./TimeRecords-CC_0iJRm.js"),__vite__mapDeps([67,3,1,10,13,15,24,5,21,19,59,23,44,46]))),EM=R.lazy(()=>Gn(()=>import("./Companies-BGvz4pf9.js"),__vite__mapDeps([68,27,10,1,12,14,15,16,39,19,37,21,34,23,24]))),CM=R.lazy(()=>Gn(()=>import("./Projects-DZhc2LSd.js"),__vite__mapDeps([69,27,10,1,12,14,15,16,51,65,24,19,34,6,21,23,70]))),SM=R.lazy(()=>Gn(()=>import("./Sites-DWbSIjeT.js"),__vite__mapDeps([71,39,26,10,1,12,32,19,33,7,14,15,16,21,23,72,30,41,42,73,34,24,70]))),AM=R.lazy(()=>Gn(()=>import("./TeamComposition-BM8f4D2v.js"),__vite__mapDeps([74,26,9,30,40,10,21,65,20,75,23,24]))),_M=R.lazy(()=>Gn(()=>import("./TeamCompositionTable-B2ETYcBe.js"),__vite__mapDeps([76,26,27,1,13,77,78]))),TM=R.lazy(()=>Gn(()=>import("./Messages-C-CJA78J.js"),__vite__mapDeps([79,1,10,80,13,48,41,21,19,52,64,7,81,72]))),NM=R.lazy(()=>Gn(()=>import("./CustomSU-BZ16YEv8.js"),__vite__mapDeps([82,1,11,13,80,83,29,58,64,84,81,51,24,10,40,19,85,86,21,44,87,34,88,15,55,33]))),RM=R.lazy(()=>Gn(()=>import("./AuditLogs-B9qDdi5z.js"),__vite__mapDeps([89,90,1,10,13,80,91,92,44,45,85,21,64,93,5,16,22,51,46]))),OM=R.lazy(()=>Gn(()=>import("./GAPO-Cued9Z8d.js"),__vite__mapDeps([94,80,32,1,19,33,7,49,3,26,90,13,85,44,83,29,58,64,84,81,51,24,10,40,86,21,87,11,34,88,15,55,95,96,97,98,48,16,35,99,77,6]))),IM=R.lazy(()=>Gn(()=>import("./ProjectProgress-K-b0fPSL.js"),__vite__mapDeps([100,57,1,40,80,7,55,44,46,10,15,101,102,49,50,91,92,45,21,5,85,6,36,63,97,103,104,98,105,51,87,24,88,106]))),MM=R.lazy(()=>Gn(()=>import("./DatabaseHub-ptA0d0nQ.js"),__vite__mapDeps([107,80,40,93,7]))),DM=R.lazy(()=>Gn(()=>import("./Viewer3D-CkIhhM3b.js"),__vite__mapDeps([108,109,57,105,61,24,88,22,18,55,33,110,73,36,78]))),PM=R.lazy(()=>Gn(()=>import("./GeoViewerPage-DcvqTHbo.js"),__vite__mapDeps([111,109,101,102,1,40,49,50,91,92,44,45,21,5,85,6,36,63,97,103,104,98,27]))),kM=R.lazy(()=>Gn(()=>import("./ProductionPage-fHS82_7G.js"),__vite__mapDeps([112,96,97,13,1,10,113,80,48,91,92,44,45,41,21,16,5,42,102,33,51,55,32,19,7,95,85,98,11,15,87,84,24,88,49,2,75,56,27,26,3,110,73,36]))),BM=R.lazy(()=>Gn(()=>import("./ProductionAnalyticsPage-D9fGD5Br.js"),__vite__mapDeps([114,96,97,115,1,10,44,92,103,46,7,88,60,40,13,15,19,86,24,16,3,26,27,6,99,104,98,113,80,48,91,45,41,21,5,42,102,33,51,55,11,73,110,32,105]))),LM=R.lazy(()=>Gn(()=>import("./CostsPage-DcjKcXcp.js"),__vite__mapDeps([116,96,97,115,1,10,44,92,103,46,7,88,32,19,33,24,105]))),jM=R.lazy(()=>Gn(()=>import("./Auth-C966unSt.js"),__vite__mapDeps([117,10,1,54,7,34,63,64,80,110]))),Em=[{path:"/auth",element:O.jsx(jM,{}),layout:"desktop"},{path:"/dashboard",element:O.jsx(dM,{}),moduleId:"dashboard",layout:"app",label:"Dashboard",icon:QN},{path:"/functions",element:O.jsx(hM,{}),moduleId:"users.manage",requireConnection:!0,layout:"app",label:"Funes",icon:Yw},{path:"/employees",element:O.jsx(mM,{}),moduleId:"employees.manage",layout:"app",label:"Funcionrios",icon:Ud},{path:"/teams",element:O.jsx(pM,{}),moduleId:"team_composition",layout:"app",label:"Equipes",icon:Ud},{path:"/time-clock",element:O.jsx(gM,{}),moduleId:"clock",layout:"app",label:"Registro de Ponto",icon:ep},{path:"/daily-report",element:O.jsx(yM,{}),moduleId:"daily_reports",layout:"app",label:"RDO",icon:nh},{path:"/users",element:O.jsx(vM,{}),moduleId:"users.manage",requireConnection:!0,layout:"app",label:"Usurios",icon:Nl},{path:"/custom-su",element:O.jsx(NM,{}),moduleId:"custom_su.manage",requireConnection:!0,layout:"app",label:"Custom SU",icon:Nl},{path:"/audit-logs",element:O.jsx(RM,{}),moduleId:"audit_logs.view",requireConnection:!0,layout:"app",label:"Logs de Auditoria",icon:E2},{path:"/settings",element:O.jsx(xM,{}),moduleId:"settings.profile",layout:"app",label:"Configuraes",icon:aE},{path:"/messages",element:O.jsx(TM,{}),moduleId:"dashboard",layout:"app",label:"Mensagens",icon:c6},{path:"/companies",element:O.jsx(EM,{}),moduleId:"companies.view",layout:"app",label:"Empresas",icon:Ww},{path:"/projects",element:O.jsx(CM,{}),moduleId:"projects.view",layout:"app",label:"Projetos",icon:WN},{path:"/sites",element:O.jsx(SM,{}),moduleId:"sites.view",layout:"app",label:"Canteiros",icon:nE},{path:"/reports",element:O.jsx(bM,{}),moduleId:"daily_reports",layout:"app",label:"Relatrios",icon:nh},{path:"/time-records",element:O.jsx(wM,{}),moduleId:"time_records.view",layout:"app",label:"Registros de Ponto",icon:E2},{path:"/team-composition",element:O.jsx(AM,{}),moduleId:"team_composition",layout:"app",label:"Composio de Equipe",icon:Ud},{path:"/team-composition-table",element:O.jsx(_M,{}),moduleId:"team_composition",layout:"app"},{path:"/gapo",element:O.jsx(OM,{}),moduleId:"gapo.view",layout:"app",label:"GAPO",icon:rh},{path:"/database-hub",element:O.jsx(MM,{}),moduleId:"custom_su.manage",requireConnection:!0,layout:"app",label:"Banco de Dados",icon:tE},{path:"/producao",element:O.jsx(kM,{}),moduleId:"projects.progress",layout:"app",label:"Produo",icon:rh},{path:"/producao/analytics",element:O.jsx(BM,{}),moduleId:"projects.progress",layout:"app",label:"Analytics",icon:hN},{path:"/custos",element:O.jsx(LM,{}),moduleId:"costs.view",layout:"app",label:"Custos",icon:eE},{path:"/viewer-3d",element:O.jsx(DM,{}),moduleId:"projects.view",layout:"fullscreen"},{path:"/geo-viewer",element:O.jsx(PM,{}),moduleId:"projects.view",layout:"fullscreen"},{path:"/project-progress",element:O.jsx(IM,{}),moduleId:"projects.progress",layout:"fullscreen"}];var FM=Symbol.for("react.lazy"),hh=Ch[" use ".trim().toString()];function UM(t){return typeof t=="object"&&t!==null&&"then"in t}function uC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===FM&&"_payload"in t&&UM(t._payload)}function fC(t){const r=VM(t),i=R.forwardRef((c,h)=>{let{children:y,...v}=c;uC(y)&&typeof hh=="function"&&(y=hh(y._payload));const b=R.Children.toArray(y),A=b.find(GM);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}var zM=fC("Slot");function VM(t){const r=R.forwardRef((i,c)=>{let{children:h,...y}=i;if(uC(h)&&typeof hh=="function"&&(h=hh(h._payload)),R.isValidElement(h)){const v=XM(h),b=qM(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var HM=Symbol("radix.slottable");function GM(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HM}function qM(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function XM(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}const KM=Ph("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/10",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),sa=R.forwardRef(({className:t,variant:r,size:i,asChild:c=!1,...h},y)=>{const v=c?zM:"button";return O.jsx(v,{className:At(KM({variant:r,size:i,className:t})),ref:y,...h})});sa.displayName="Button";function YM({children:t,requireConnection:r=!1,moduleId:i}){jc();const{user:c,profile:h,isLoading:y}=Xo(),{isOnline:v}=ug(),b=Xc(),A=lo();return y?O.jsx("div",{className:"flex h-screen items-center justify-center bg-background",children:O.jsxs("div",{className:"flex flex-col items-center gap-4",children:[O.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),O.jsx("p",{className:"animate-pulse text-sm font-medium text-muted-foreground",children:"Verificando acesso seguro..."})]})}):c?i&&h&&!vl(i)?O.jsxs("div",{className:"flex h-screen flex-col items-center justify-center bg-background p-6 text-center",children:[O.jsx(b6,{className:"mb-4 h-16 w-16 text-destructive"}),O.jsx("h2",{className:"mb-2 text-2xl font-bold",children:"Acesso Restrito"}),O.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Voc no possui as permisses necessrias para acessar este mdulo. Entre em contato com o administrador do sistema."}),O.jsx(sa,{onClick:()=>b("/"),variant:"outline",children:"Voltar para o Incio"})]}):O.jsx(O.Fragment,{children:t}):O.jsx(pp,{to:"/auth",state:{from:A},replace:!0})}function WM(){const[t,r]=R.useState([]),[i,c]=R.useState(!0),{profile:h,user:y}=Xo(),{toast:v}=Ho(),b=R.useCallback(async()=>{var U;if(!h){c(!1);return}c(!0);try{if(!navigator.onLine){const q=await ut.getItem("system_messages");q&&r(q);return}const{data:P,error:j}=await wt.from("system_messages").select("*").order("created_at",{ascending:!1});if(j)throw j;if(!P||P.length===0){r([]);return}const X=Array.from(new Set(P.map(q=>q.sender_id).filter(Boolean))),G={};if(X.length>0){const{data:q}=await wt.from("users").select("id, name, full_name, email").in("id",X);q&&q.forEach(ae=>{G[ae.id]={id:ae.id,full_name:ae.name||ae.full_name,email:ae.email}})}const H=P.map(q=>({id:q.id,senderId:q.sender_id,senderEmail:q.sender_email,recipientRole:q.recipient_role,recipientId:q.recipient_id||q.recipient_id_employee,companyId:q.company_id,projectId:q.project_id,siteId:q.site_id,type:q.type,subject:q.subject,content:q.content,attachmentUrl:q.attachment_url,status:q.status,createdAt:q.created_at,updatedAt:q.updated_at,resolvedBy:q.resolved_by,resolvedAt:q.resolved_at,metadata:q.metadata,sender:G[q.sender_id]||{full_name:"Desconhecido",email:q.sender_email||""}}));r(H),await ut.setItem("system_messages",H)}catch(P){if(P.code==="42P01"||(U=P.message)!=null&&U.includes("does not exist"))v({title:"Tabela no encontrada",description:"Execute o SQL do schema de tickets no db.",variant:"destructive"});else{const j=await ut.getItem("system_messages");j&&r(j),console.warn("[useMessages] Network error, using local cache.")}}finally{c(!1)}},[h,v]),A=async U=>{try{const P={sender_id:h==null?void 0:h.id,sender_email:U.senderEmail||(y==null?void 0:y.email),recipient_role:U.recipientRole,recipient_id:U.recipientId,recipient_id_employee:U.recipientIdEmployee,company_id:U.companyId||(h==null?void 0:h.companyId),project_id:U.projectId||(h==null?void 0:h.projectId),site_id:U.siteId||(h==null?void 0:h.siteId),type:U.type,subject:U.subject,content:U.content,attachment_url:U.attachmentUrl,status:"PENDING",metadata:U.metadata||{}},{error:j}=await wt.from("system_messages").insert(P);if(j)throw j;return v({title:"Ticket criado",description:"Sua solicitao foi registrada com sucesso."}),b(),{success:!0}}catch(P){return console.error("Send Error:",P),v({title:"Erro ao criar ticket",description:P.message,variant:"destructive"}),{success:!1,error:P.message}}},E=async(U,P,j)=>{var X;try{const G={status:P};(P==="APPROVED"||P==="REJECTED"||P==="CLOSED")&&(G.resolved_by=h==null?void 0:h.id,G.resolved_at=new Date().toISOString());const{error:H}=await wt.from("system_messages").update(G).eq("id",U);if(H)throw H;return await wt.from("ticket_history").insert({ticket_id:U,action:"status_changed",old_status:(X=t.find(q=>q.id===U))==null?void 0:X.status,new_status:P,performed_by:h==null?void 0:h.id,comment:j}),r(q=>q.map(ae=>ae.id===U?{...ae,status:P}:ae)),v({title:"Status atualizado",description:`Ticket marcado como ${P}`}),{success:!0}}catch(G){return v({title:"Erro ao atualizar",description:G.message,variant:"destructive"}),{success:!1}}},I=async(U,P)=>{var j;try{const X=t.find(ae=>ae.id===U),G=(X==null?void 0:X.senderEmail)||((j=X==null?void 0:X.sender)==null?void 0:j.email);await E(U,"APPROVED","Redefinio de senha autorizada e e-mail enviado.");const H=new Date;H.setHours(H.getHours()+12);const{error:q}=await wt.from("temporary_permissions").insert({user_id:P,permission_type:"password_change",granted_by:h==null?void 0:h.id,ticket_id:U,expires_at:H.toISOString()});if(q)throw q;if(G){const{error:ae}=await wt.auth.resetPasswordForEmail(G,{redirectTo:`${window.location.origin}/auth?mode=reset`});ae?(console.warn("Erro ao enviar e-mail de reset:",ae),v({title:"Aviso",description:"Ticket aprovado, mas houve um problema ao disparar o e-mail automtico.",variant:"destructive"})):v({title:"E-mail enviado",description:`Um e-mail de redefinio foi enviado para ${G}.`})}return v({title:"Redefinio autorizada",description:"Acesso liberado para alterao de senha nas prximas 12 horas."}),{success:!0}}catch(X){return v({title:"Erro",description:X.message,variant:"destructive"}),{success:!1}}},N=async()=>{if(!(h!=null&&h.id))return!1;if(aM(h||void 0))return!0;try{const{data:U,error:P}=await wt.from("temporary_permissions").select("id").eq("user_id",h.id).eq("permission_type","password_change").gt("expires_at",new Date().toISOString()).is("used_at",null).limit(1);if(P)throw P;return U&&U.length>0}catch{return!1}},k=async()=>{try{await wt.from("temporary_permissions").update({used_at:new Date().toISOString()}).eq("user_id",h==null?void 0:h.id).eq("permission_type","password_change").is("used_at",null)}catch(U){console.error("Error marking permission as used:",U)}},M=async U=>{try{const{data:P,error:j}=await wt.from("ticket_history").select("*").eq("ticket_id",U).order("created_at",{ascending:!0});if(j)throw j;return(P||[]).map(X=>({id:X.id,ticketId:X.ticket_id,action:X.action,oldStatus:X.old_status,newStatus:X.new_status,performedBy:X.performed_by,comment:X.comment,createdAt:X.created_at}))}catch{return[]}};return R.useEffect(()=>{b()},[b]),{messages:t,isLoading:i,sendMessage:A,updateMessageStatus:E,approvePasswordReset:I,checkPasswordPermission:N,consumePasswordPermission:k,fetchTicketHistory:M,refresh:b}}const ZM=Ph("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rb({className:t,variant:r,...i}){return O.jsx("div",{className:At(ZM({variant:r}),t),...i})}var QM=R.createContext(void 0);function dg(t){const r=R.useContext(QM);return t||r||"ltr"}var Cm=0;function Qh(){R.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ab()),document.body.insertAdjacentElement("beforeend",t[1]??ab()),Cm++,()=>{Cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Cm--}},[])}function ab(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sm="focusScope.autoFocusOnMount",Am="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},$M="FocusScope",mf=R.forwardRef((t,r)=>{const{loop:i=!1,trapped:c=!1,onMountAutoFocus:h,onUnmountAutoFocus:y,...v}=t,[b,A]=R.useState(null),E=ka(h),I=ka(y),N=R.useRef(null),k=un(r,P=>A(P)),M=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(c){let P=function(H){if(M.paused||!b)return;const q=H.target;b.contains(q)?N.current=q:Os(N.current,{select:!0})},j=function(H){if(M.paused||!b)return;const q=H.relatedTarget;q!==null&&(b.contains(q)||Os(N.current,{select:!0}))},X=function(H){if(document.activeElement===document.body)for(const ae of H)ae.removedNodes.length>0&&Os(b)};document.addEventListener("focusin",P),document.addEventListener("focusout",j);const G=new MutationObserver(X);return b&&G.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",j),G.disconnect()}}},[c,b,M.paused]),R.useEffect(()=>{if(b){sb.add(M);const P=document.activeElement;if(!b.contains(P)){const X=new CustomEvent(Sm,ib);b.addEventListener(Sm,E),b.dispatchEvent(X),X.defaultPrevented||(JM(aD(dC(b)),{select:!0}),document.activeElement===P&&Os(b))}return()=>{b.removeEventListener(Sm,E),setTimeout(()=>{const X=new CustomEvent(Am,ib);b.addEventListener(Am,I),b.dispatchEvent(X),X.defaultPrevented||Os(P??document.body,{select:!0}),b.removeEventListener(Am,I),sb.remove(M)},0)}}},[b,E,I,M]);const U=R.useCallback(P=>{if(!i&&!c||M.paused)return;const j=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,X=document.activeElement;if(j&&X){const G=P.currentTarget,[H,q]=eD(G);H&&q?!P.shiftKey&&X===q?(P.preventDefault(),i&&Os(H,{select:!0})):P.shiftKey&&X===H&&(P.preventDefault(),i&&Os(q,{select:!0})):X===G&&P.preventDefault()}},[i,c,M.paused]);return O.jsx(Dt.div,{tabIndex:-1,...v,ref:k,onKeyDown:U})});mf.displayName=$M;function JM(t,{select:r=!1}={}){const i=document.activeElement;for(const c of t)if(Os(c,{select:r}),document.activeElement!==i)return}function eD(t){const r=dC(t),i=ob(r,t),c=ob(r.reverse(),t);return[i,c]}function dC(t){const r=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const h=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||h?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function ob(t,r){for(const i of t)if(!tD(i,{upTo:r}))return i}function tD(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nD(t){return t instanceof HTMLInputElement&&"select"in t}function Os(t,{select:r=!1}={}){if(t&&t.focus){const i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&nD(t)&&r&&t.select()}}var sb=rD();function rD(){let t=[];return{add(r){const i=t[0];r!==i&&(i==null||i.pause()),t=lb(t,r),t.unshift(r)},remove(r){var i;t=lb(t,r),(i=t[0])==null||i.resume()}}}function lb(t,r){const i=[...t],c=i.indexOf(r);return c!==-1&&i.splice(c,1),i}function aD(t){return t.filter(r=>r.tagName!=="A")}var _m="rovingFocusGroup.onEntryFocus",iD={bubbles:!1,cancelable:!0},pf="RovingFocusGroup",[wp,hC,oD]=Ih(pf),[sD,mC]=Fi(pf,[oD]),[lD,cD]=sD(pf),pC=R.forwardRef((t,r)=>O.jsx(wp.Provider,{scope:t.__scopeRovingFocusGroup,children:O.jsx(wp.Slot,{scope:t.__scopeRovingFocusGroup,children:O.jsx(uD,{...t,ref:r})})}));pC.displayName=pf;var uD=R.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:i,orientation:c,loop:h=!1,dir:y,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:A,onEntryFocus:E,preventScrollOnEntryFocus:I=!1,...N}=t,k=R.useRef(null),M=un(r,k),U=dg(y),[P,j]=Fo({prop:v,defaultProp:b??null,onChange:A,caller:pf}),[X,G]=R.useState(!1),H=ka(E),q=hC(i),ae=R.useRef(!1),[re,V]=R.useState(0);return R.useEffect(()=>{const Z=k.current;if(Z)return Z.addEventListener(_m,H),()=>Z.removeEventListener(_m,H)},[H]),O.jsx(lD,{scope:i,orientation:c,dir:U,loop:h,currentTabStopId:P,onItemFocus:R.useCallback(Z=>j(Z),[j]),onItemShiftTab:R.useCallback(()=>G(!0),[]),onFocusableItemAdd:R.useCallback(()=>V(Z=>Z+1),[]),onFocusableItemRemove:R.useCallback(()=>V(Z=>Z-1),[]),children:O.jsx(Dt.div,{tabIndex:X||re===0?-1:0,"data-orientation":c,...N,ref:M,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{ae.current=!0}),onFocus:Je(t.onFocus,Z=>{const te=!ae.current;if(Z.target===Z.currentTarget&&te&&!X){const fe=new CustomEvent(_m,iD);if(Z.currentTarget.dispatchEvent(fe),!fe.defaultPrevented){const Re=q().filter(ie=>ie.focusable),xe=Re.find(ie=>ie.active),Ue=Re.find(ie=>ie.id===P),ce=[xe,Ue,...Re].filter(Boolean).map(ie=>ie.ref.current);xC(ce,I)}}ae.current=!1}),onBlur:Je(t.onBlur,()=>G(!1))})})}),gC="RovingFocusGroupItem",yC=R.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:i,focusable:c=!0,active:h=!1,tabStopId:y,children:v,...b}=t,A=ki(),E=y||A,I=cD(gC,i),N=I.currentTabStopId===E,k=hC(i),{onFocusableItemAdd:M,onFocusableItemRemove:U,currentTabStopId:P}=I;return R.useEffect(()=>{if(c)return M(),()=>U()},[c,M,U]),O.jsx(wp.ItemSlot,{scope:i,id:E,focusable:c,active:h,children:O.jsx(Dt.span,{tabIndex:N?0:-1,"data-orientation":I.orientation,...b,ref:r,onMouseDown:Je(t.onMouseDown,j=>{c?I.onItemFocus(E):j.preventDefault()}),onFocus:Je(t.onFocus,()=>I.onItemFocus(E)),onKeyDown:Je(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){I.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const X=hD(j,I.orientation,I.dir);if(X!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let H=k().filter(q=>q.focusable).map(q=>q.ref.current);if(X==="last")H.reverse();else if(X==="prev"||X==="next"){X==="prev"&&H.reverse();const q=H.indexOf(j.currentTarget);H=I.loop?mD(H,q+1):H.slice(q+1)}setTimeout(()=>xC(H))}}),children:typeof v=="function"?v({isCurrentTabStop:N,hasTabStop:P!=null}):v})})});yC.displayName=gC;var fD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dD(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hD(t,r,i){const c=dD(t.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(c))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(c)))return fD[c]}function xC(t,r=!1){const i=document.activeElement;for(const c of t)if(c===i||(c.focus({preventScroll:r}),document.activeElement!==i))return}function mD(t,r){return t.map((i,c)=>t[(r+c)%t.length])}var pD=pC,gD=yC;function yD(t){const r=xD(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(bD);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function xD(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=ED(h),b=wD(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var vD=Symbol("radix.slottable");function bD(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vD}function wD(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function ED(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var CD=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},dc=new WeakMap,Td=new WeakMap,Nd={},Tm=0,vC=function(t){return t&&(t.host||vC(t.parentNode))},SD=function(t,r){return r.map(function(i){if(t.contains(i))return i;var c=vC(i);return c&&t.contains(c)?c:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return!!i})},AD=function(t,r,i,c){var h=SD(r,Array.isArray(t)?t:[t]);Nd[i]||(Nd[i]=new WeakMap);var y=Nd[i],v=[],b=new Set,A=new Set(h),E=function(N){!N||b.has(N)||(b.add(N),E(N.parentNode))};h.forEach(E);var I=function(N){!N||A.has(N)||Array.prototype.forEach.call(N.children,function(k){if(b.has(k))I(k);else try{var M=k.getAttribute(c),U=M!==null&&M!=="false",P=(dc.get(k)||0)+1,j=(y.get(k)||0)+1;dc.set(k,P),y.set(k,j),v.push(k),P===1&&U&&Td.set(k,!0),j===1&&k.setAttribute(i,"true"),U||k.setAttribute(c,"true")}catch(X){console.error("aria-hidden: cannot operate on ",k,X)}})};return I(r),b.clear(),Tm++,function(){v.forEach(function(N){var k=dc.get(N)-1,M=y.get(N)-1;dc.set(N,k),y.set(N,M),k||(Td.has(N)||N.removeAttribute(c),Td.delete(N)),M||N.removeAttribute(i)}),Tm--,Tm||(dc=new WeakMap,dc=new WeakMap,Td=new WeakMap,Nd={})}},$h=function(t,r,i){i===void 0&&(i="data-aria-hidden");var c=Array.from(Array.isArray(t)?t:[t]),h=CD(t);return h?(c.push.apply(c,Array.from(h.querySelectorAll("[aria-live], script"))),AD(c,h,i,"aria-hidden")):function(){return null}},to=function(){return to=Object.assign||function(r){for(var i,c=1,h=arguments.length;c<h;c++){i=arguments[c];for(var y in i)Object.prototype.hasOwnProperty.call(i,y)&&(r[y]=i[y])}return r},to.apply(this,arguments)};function bC(t,r){var i={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&r.indexOf(c)<0&&(i[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(t);h<c.length;h++)r.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(t,c[h])&&(i[c[h]]=t[c[h]]);return i}function _D(t,r,i){if(i||arguments.length===2)for(var c=0,h=r.length,y;c<h;c++)(y||!(c in r))&&(y||(y=Array.prototype.slice.call(r,0,c)),y[c]=r[c]);return t.concat(y||Array.prototype.slice.call(r))}var Hd="right-scroll-bar-position",Gd="width-before-scroll-bar",TD="with-scroll-bars-hidden",ND="--removed-body-scroll-bar-size";function Nm(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function RD(t,r){var i=R.useState(function(){return{value:t,callback:r,facade:{get current(){return i.value},set current(c){var h=i.value;h!==c&&(i.value=c,i.callback(c,h))}}}})[0];return i.callback=r,i.facade}var OD=typeof window<"u"?R.useLayoutEffect:R.useEffect,cb=new WeakMap;function ID(t,r){var i=RD(null,function(c){return t.forEach(function(h){return Nm(h,c)})});return OD(function(){var c=cb.get(i);if(c){var h=new Set(c),y=new Set(t),v=i.current;h.forEach(function(b){y.has(b)||Nm(b,null)}),y.forEach(function(b){h.has(b)||Nm(b,v)})}cb.set(i,t)},[t]),i}function MD(t){return t}function DD(t,r){r===void 0&&(r=MD);var i=[],c=!1,h={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(y){var v=r(y,c);return i.push(v),function(){i=i.filter(function(b){return b!==v})}},assignSyncMedium:function(y){for(c=!0;i.length;){var v=i;i=[],v.forEach(y)}i={push:function(b){return y(b)},filter:function(){return i}}},assignMedium:function(y){c=!0;var v=[];if(i.length){var b=i;i=[],b.forEach(y),v=i}var A=function(){var I=v;v=[],I.forEach(y)},E=function(){return Promise.resolve().then(A)};E(),i={push:function(I){v.push(I),E()},filter:function(I){return v=v.filter(I),i}}}};return h}function PD(t){t===void 0&&(t={});var r=DD(null);return r.options=to({async:!0,ssr:!1},t),r}var wC=function(t){var r=t.sideCar,i=bC(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=r.read();if(!c)throw new Error("Sidecar medium not found");return R.createElement(c,to({},i))};wC.isSideCarExport=!0;function kD(t,r){return t.useMedium(r),wC}var EC=PD(),Rm=function(){},Jh=R.forwardRef(function(t,r){var i=R.useRef(null),c=R.useState({onScrollCapture:Rm,onWheelCapture:Rm,onTouchMoveCapture:Rm}),h=c[0],y=c[1],v=t.forwardProps,b=t.children,A=t.className,E=t.removeScrollBar,I=t.enabled,N=t.shards,k=t.sideCar,M=t.noRelative,U=t.noIsolation,P=t.inert,j=t.allowPinchZoom,X=t.as,G=X===void 0?"div":X,H=t.gapMode,q=bC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=k,re=ID([i,r]),V=to(to({},q),h);return R.createElement(R.Fragment,null,I&&R.createElement(ae,{sideCar:EC,removeScrollBar:E,shards:N,noRelative:M,noIsolation:U,inert:P,setCallbacks:y,allowPinchZoom:!!j,lockRef:i,gapMode:H}),v?R.cloneElement(R.Children.only(b),to(to({},V),{ref:re})):R.createElement(G,to({},V,{className:A,ref:re}),b))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:Gd,zeroRight:Hd};var BD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=BD();return r&&t.setAttribute("nonce",r),t}function jD(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function FD(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var UD=function(){var t=0,r=null;return{add:function(i){t==0&&(r=LD())&&(jD(r,i),FD(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},zD=function(){var t=UD();return function(r,i){R.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&i])}},CC=function(){var t=zD(),r=function(i){var c=i.styles,h=i.dynamic;return t(c,h),null};return r},VD={left:0,top:0,right:0,gap:0},Om=function(t){return parseInt(t||"",10)||0},HD=function(t){var r=window.getComputedStyle(document.body),i=r[t==="padding"?"paddingLeft":"marginLeft"],c=r[t==="padding"?"paddingTop":"marginTop"],h=r[t==="padding"?"paddingRight":"marginRight"];return[Om(i),Om(c),Om(h)]},GD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VD;var r=HD(t),i=document.documentElement.clientWidth,c=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,c-i+r[2]-r[0])}},qD=CC(),bc="data-scroll-locked",XD=function(t,r,i,c){var h=t.left,y=t.top,v=t.right,b=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(TD,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(b,"px ").concat(c,`;
  }
  body[`).concat(bc,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(c,";"),i==="margin"&&`
    padding-left: `.concat(h,`px;
    padding-top: `).concat(y,`px;
    padding-right: `).concat(v,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(c,`;
    `),i==="padding"&&"padding-right: ".concat(b,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(b,"px ").concat(c,`;
  }
  
  .`).concat(Gd,` {
    margin-right: `).concat(b,"px ").concat(c,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(bc,`] {
    `).concat(ND,": ").concat(b,`px;
  }
`)},ub=function(){var t=parseInt(document.body.getAttribute(bc)||"0",10);return isFinite(t)?t:0},KD=function(){R.useEffect(function(){return document.body.setAttribute(bc,(ub()+1).toString()),function(){var t=ub()-1;t<=0?document.body.removeAttribute(bc):document.body.setAttribute(bc,t.toString())}},[])},YD=function(t){var r=t.noRelative,i=t.noImportant,c=t.gapMode,h=c===void 0?"margin":c;KD();var y=R.useMemo(function(){return GD(h)},[h]);return R.createElement(qD,{styles:XD(y,!r,h,i?"":"!important")})},Ep=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Ep=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Ep=!1}var hc=Ep?{passive:!1}:!1,WD=function(t){return t.tagName==="TEXTAREA"},SC=function(t,r){if(!(t instanceof Element))return!1;var i=window.getComputedStyle(t);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!WD(t)&&i[r]==="visible")},ZD=function(t){return SC(t,"overflowY")},QD=function(t){return SC(t,"overflowX")},fb=function(t,r){var i=r.ownerDocument,c=r;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var h=AC(t,c);if(h){var y=_C(t,c),v=y[1],b=y[2];if(v>b)return!0}c=c.parentNode}while(c&&c!==i.body);return!1},$D=function(t){var r=t.scrollTop,i=t.scrollHeight,c=t.clientHeight;return[r,i,c]},JD=function(t){var r=t.scrollLeft,i=t.scrollWidth,c=t.clientWidth;return[r,i,c]},AC=function(t,r){return t==="v"?ZD(r):QD(r)},_C=function(t,r){return t==="v"?$D(r):JD(r)},e7=function(t,r){return t==="h"&&r==="rtl"?-1:1},t7=function(t,r,i,c,h){var y=e7(t,window.getComputedStyle(r).direction),v=y*c,b=i.target,A=r.contains(b),E=!1,I=v>0,N=0,k=0;do{if(!b)break;var M=_C(t,b),U=M[0],P=M[1],j=M[2],X=P-j-y*U;(U||X)&&AC(t,b)&&(N+=X,k+=U);var G=b.parentNode;b=G&&G.nodeType===Node.DOCUMENT_FRAGMENT_NODE?G.host:G}while(!A&&b!==document.body||A&&(r.contains(b)||r===b));return(I&&Math.abs(N)<1||!I&&Math.abs(k)<1)&&(E=!0),E},Od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},db=function(t){return[t.deltaX,t.deltaY]},hb=function(t){return t&&"current"in t?t.current:t},n7=function(t,r){return t[0]===r[0]&&t[1]===r[1]},r7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},a7=0,mc=[];function i7(t){var r=R.useRef([]),i=R.useRef([0,0]),c=R.useRef(),h=R.useState(a7++)[0],y=R.useState(CC)[0],v=R.useRef(t);R.useEffect(function(){v.current=t},[t]),R.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(h));var P=_D([t.lockRef.current],(t.shards||[]).map(hb),!0).filter(Boolean);return P.forEach(function(j){return j.classList.add("allow-interactivity-".concat(h))}),function(){document.body.classList.remove("block-interactivity-".concat(h)),P.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(h))})}}},[t.inert,t.lockRef.current,t.shards]);var b=R.useCallback(function(P,j){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!v.current.allowPinchZoom;var X=Od(P),G=i.current,H="deltaX"in P?P.deltaX:G[0]-X[0],q="deltaY"in P?P.deltaY:G[1]-X[1],ae,re=P.target,V=Math.abs(H)>Math.abs(q)?"h":"v";if("touches"in P&&V==="h"&&re.type==="range")return!1;var Z=window.getSelection(),te=Z&&Z.anchorNode,fe=te?te===re||te.contains(re):!1;if(fe)return!1;var Re=fb(V,re);if(!Re)return!0;if(Re?ae=V:(ae=V==="v"?"h":"v",Re=fb(V,re)),!Re)return!1;if(!c.current&&"changedTouches"in P&&(H||q)&&(c.current=ae),!ae)return!0;var xe=c.current||ae;return t7(xe,j,P,xe==="h"?H:q)},[]),A=R.useCallback(function(P){var j=P;if(!(!mc.length||mc[mc.length-1]!==y)){var X="deltaY"in j?db(j):Od(j),G=r.current.filter(function(ae){return ae.name===j.type&&(ae.target===j.target||j.target===ae.shadowParent)&&n7(ae.delta,X)})[0];if(G&&G.should){j.cancelable&&j.preventDefault();return}if(!G){var H=(v.current.shards||[]).map(hb).filter(Boolean).filter(function(ae){return ae.contains(j.target)}),q=H.length>0?b(j,H[0]):!v.current.noIsolation;q&&j.cancelable&&j.preventDefault()}}},[]),E=R.useCallback(function(P,j,X,G){var H={name:P,delta:j,target:X,should:G,shadowParent:o7(X)};r.current.push(H),setTimeout(function(){r.current=r.current.filter(function(q){return q!==H})},1)},[]),I=R.useCallback(function(P){i.current=Od(P),c.current=void 0},[]),N=R.useCallback(function(P){E(P.type,db(P),P.target,b(P,t.lockRef.current))},[]),k=R.useCallback(function(P){E(P.type,Od(P),P.target,b(P,t.lockRef.current))},[]);R.useEffect(function(){return mc.push(y),t.setCallbacks({onScrollCapture:N,onWheelCapture:N,onTouchMoveCapture:k}),document.addEventListener("wheel",A,hc),document.addEventListener("touchmove",A,hc),document.addEventListener("touchstart",I,hc),function(){mc=mc.filter(function(P){return P!==y}),document.removeEventListener("wheel",A,hc),document.removeEventListener("touchmove",A,hc),document.removeEventListener("touchstart",I,hc)}},[]);var M=t.removeScrollBar,U=t.inert;return R.createElement(R.Fragment,null,U?R.createElement(y,{styles:r7(h)}):null,M?R.createElement(YD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function o7(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const s7=kD(EC,i7);var gf=R.forwardRef(function(t,r){return R.createElement(Jh,to({},t,{ref:r,sideCar:s7}))});gf.classNames=Jh.classNames;var Cp=["Enter"," "],l7=["ArrowDown","PageUp","Home"],TC=["ArrowUp","PageDown","End"],c7=[...l7,...TC],u7={ltr:[...Cp,"ArrowRight"],rtl:[...Cp,"ArrowLeft"]},f7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yf="Menu",[nf,d7,h7]=Ih(yf),[kl,NC]=Fi(yf,[h7,Gs,mC]),e0=Gs(),RC=mC(),[m7,Bl]=kl(yf),[p7,xf]=kl(yf),OC=t=>{const{__scopeMenu:r,open:i=!1,children:c,dir:h,onOpenChange:y,modal:v=!0}=t,b=e0(r),[A,E]=R.useState(null),I=R.useRef(!1),N=ka(y),k=dg(h);return R.useEffect(()=>{const M=()=>{I.current=!0,document.addEventListener("pointerdown",U,{capture:!0,once:!0}),document.addEventListener("pointermove",U,{capture:!0,once:!0})},U=()=>I.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",U,{capture:!0}),document.removeEventListener("pointermove",U,{capture:!0})}},[]),O.jsx(Uh,{...b,children:O.jsx(m7,{scope:r,open:i,onOpenChange:N,content:A,onContentChange:E,children:O.jsx(p7,{scope:r,onClose:R.useCallback(()=>N(!1),[N]),isUsingKeyboardRef:I,dir:k,modal:v,children:c})})})};OC.displayName=yf;var g7="MenuAnchor",hg=R.forwardRef((t,r)=>{const{__scopeMenu:i,...c}=t,h=e0(i);return O.jsx(hf,{...h,...c,ref:r})});hg.displayName=g7;var mg="MenuPortal",[y7,IC]=kl(mg,{forceMount:void 0}),MC=t=>{const{__scopeMenu:r,forceMount:i,children:c,container:h}=t,y=Bl(mg,r);return O.jsx(y7,{scope:r,forceMount:i,children:O.jsx(xi,{present:i||y.open,children:O.jsx(zc,{asChild:!0,container:h,children:c})})})};MC.displayName=mg;var yi="MenuContent",[x7,pg]=kl(yi),DC=R.forwardRef((t,r)=>{const i=IC(yi,t.__scopeMenu),{forceMount:c=i.forceMount,...h}=t,y=Bl(yi,t.__scopeMenu),v=xf(yi,t.__scopeMenu);return O.jsx(nf.Provider,{scope:t.__scopeMenu,children:O.jsx(xi,{present:c||y.open,children:O.jsx(nf.Slot,{scope:t.__scopeMenu,children:v.modal?O.jsx(v7,{...h,ref:r}):O.jsx(b7,{...h,ref:r})})})})}),v7=R.forwardRef((t,r)=>{const i=Bl(yi,t.__scopeMenu),c=R.useRef(null),h=un(r,c);return R.useEffect(()=>{const y=c.current;if(y)return $h(y)},[]),O.jsx(gg,{...t,ref:h,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Je(t.onFocusOutside,y=>y.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),b7=R.forwardRef((t,r)=>{const i=Bl(yi,t.__scopeMenu);return O.jsx(gg,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),w7=yD("MenuContent.ScrollLock"),gg=R.forwardRef((t,r)=>{const{__scopeMenu:i,loop:c=!1,trapFocus:h,onOpenAutoFocus:y,onCloseAutoFocus:v,disableOutsidePointerEvents:b,onEntryFocus:A,onEscapeKeyDown:E,onPointerDownOutside:I,onFocusOutside:N,onInteractOutside:k,onDismiss:M,disableOutsideScroll:U,...P}=t,j=Bl(yi,i),X=xf(yi,i),G=e0(i),H=RC(i),q=d7(i),[ae,re]=R.useState(null),V=R.useRef(null),Z=un(r,V,j.onContentChange),te=R.useRef(0),fe=R.useRef(""),Re=R.useRef(0),xe=R.useRef(null),Ue=R.useRef("right"),me=R.useRef(0),ce=U?gf:R.Fragment,ie=U?{as:w7,allowPinchZoom:!0}:void 0,ge=we=>{var Be,et;const Xe=fe.current+we,ne=q().filter(ft=>!ft.disabled),de=document.activeElement,Ie=(Be=ne.find(ft=>ft.ref.current===de))==null?void 0:Be.textValue,Oe=ne.map(ft=>ft.textValue),tt=D7(Oe,Xe,Ie),Le=(et=ne.find(ft=>ft.textValue===tt))==null?void 0:et.ref.current;(function ft(Ve){fe.current=Ve,window.clearTimeout(te.current),Ve!==""&&(te.current=window.setTimeout(()=>ft(""),1e3))})(Xe),Le&&setTimeout(()=>Le.focus())};R.useEffect(()=>()=>window.clearTimeout(te.current),[]),Qh();const Ne=R.useCallback(we=>{var ne,de;return Ue.current===((ne=xe.current)==null?void 0:ne.side)&&k7(we,(de=xe.current)==null?void 0:de.area)},[]);return O.jsx(x7,{scope:i,searchRef:fe,onItemEnter:R.useCallback(we=>{Ne(we)&&we.preventDefault()},[Ne]),onItemLeave:R.useCallback(we=>{var Xe;Ne(we)||((Xe=V.current)==null||Xe.focus(),re(null))},[Ne]),onTriggerLeave:R.useCallback(we=>{Ne(we)&&we.preventDefault()},[Ne]),pointerGraceTimerRef:Re,onPointerGraceIntentChange:R.useCallback(we=>{xe.current=we},[]),children:O.jsx(ce,{...ie,children:O.jsx(mf,{asChild:!0,trapped:h,onMountAutoFocus:Je(y,we=>{var Xe;we.preventDefault(),(Xe=V.current)==null||Xe.focus({preventScroll:!0})}),onUnmountAutoFocus:v,children:O.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:b,onEscapeKeyDown:E,onPointerDownOutside:I,onFocusOutside:N,onInteractOutside:k,onDismiss:M,children:O.jsx(pD,{asChild:!0,...H,dir:X.dir,orientation:"vertical",loop:c,currentTabStopId:ae,onCurrentTabStopIdChange:re,onEntryFocus:Je(A,we=>{X.isUsingKeyboardRef.current||we.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(zh,{role:"menu","aria-orientation":"vertical","data-state":WC(j.open),"data-radix-menu-content":"",dir:X.dir,...G,...P,ref:Z,style:{outline:"none",...P.style},onKeyDown:Je(P.onKeyDown,we=>{const ne=we.target.closest("[data-radix-menu-content]")===we.currentTarget,de=we.ctrlKey||we.altKey||we.metaKey,Ie=we.key.length===1;ne&&(we.key==="Tab"&&we.preventDefault(),!de&&Ie&&ge(we.key));const Oe=V.current;if(we.target!==Oe||!c7.includes(we.key))return;we.preventDefault();const Le=q().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);TC.includes(we.key)&&Le.reverse(),I7(Le)}),onBlur:Je(t.onBlur,we=>{we.currentTarget.contains(we.target)||(window.clearTimeout(te.current),fe.current="")}),onPointerMove:Je(t.onPointerMove,rf(we=>{const Xe=we.target,ne=me.current!==we.clientX;if(we.currentTarget.contains(Xe)&&ne){const de=we.clientX>me.current?"right":"left";Ue.current=de,me.current=we.clientX}}))})})})})})})});DC.displayName=yi;var E7="MenuGroup",yg=R.forwardRef((t,r)=>{const{__scopeMenu:i,...c}=t;return O.jsx(Dt.div,{role:"group",...c,ref:r})});yg.displayName=E7;var C7="MenuLabel",PC=R.forwardRef((t,r)=>{const{__scopeMenu:i,...c}=t;return O.jsx(Dt.div,{...c,ref:r})});PC.displayName=C7;var mh="MenuItem",mb="menu.itemSelect",t0=R.forwardRef((t,r)=>{const{disabled:i=!1,onSelect:c,...h}=t,y=R.useRef(null),v=xf(mh,t.__scopeMenu),b=pg(mh,t.__scopeMenu),A=un(r,y),E=R.useRef(!1),I=()=>{const N=y.current;if(!i&&N){const k=new CustomEvent(mb,{bubbles:!0,cancelable:!0});N.addEventListener(mb,M=>c==null?void 0:c(M),{once:!0}),Gp(N,k),k.defaultPrevented?E.current=!1:v.onClose()}};return O.jsx(kC,{...h,ref:A,disabled:i,onClick:Je(t.onClick,I),onPointerDown:N=>{var k;(k=t.onPointerDown)==null||k.call(t,N),E.current=!0},onPointerUp:Je(t.onPointerUp,N=>{var k;E.current||(k=N.currentTarget)==null||k.click()}),onKeyDown:Je(t.onKeyDown,N=>{const k=b.searchRef.current!=="";i||k&&N.key===" "||Cp.includes(N.key)&&(N.currentTarget.click(),N.preventDefault())})})});t0.displayName=mh;var kC=R.forwardRef((t,r)=>{const{__scopeMenu:i,disabled:c=!1,textValue:h,...y}=t,v=pg(mh,i),b=RC(i),A=R.useRef(null),E=un(r,A),[I,N]=R.useState(!1),[k,M]=R.useState("");return R.useEffect(()=>{const U=A.current;U&&M((U.textContent??"").trim())},[y.children]),O.jsx(nf.ItemSlot,{scope:i,disabled:c,textValue:h??k,children:O.jsx(gD,{asChild:!0,...b,focusable:!c,children:O.jsx(Dt.div,{role:"menuitem","data-highlighted":I?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0,...y,ref:E,onPointerMove:Je(t.onPointerMove,rf(U=>{c?v.onItemLeave(U):(v.onItemEnter(U),U.defaultPrevented||U.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(t.onPointerLeave,rf(U=>v.onItemLeave(U))),onFocus:Je(t.onFocus,()=>N(!0)),onBlur:Je(t.onBlur,()=>N(!1))})})})}),S7="MenuCheckboxItem",BC=R.forwardRef((t,r)=>{const{checked:i=!1,onCheckedChange:c,...h}=t;return O.jsx(zC,{scope:t.__scopeMenu,checked:i,children:O.jsx(t0,{role:"menuitemcheckbox","aria-checked":ph(i)?"mixed":i,...h,ref:r,"data-state":vg(i),onSelect:Je(h.onSelect,()=>c==null?void 0:c(ph(i)?!0:!i),{checkForDefaultPrevented:!1})})})});BC.displayName=S7;var LC="MenuRadioGroup",[A7,_7]=kl(LC,{value:void 0,onValueChange:()=>{}}),jC=R.forwardRef((t,r)=>{const{value:i,onValueChange:c,...h}=t,y=ka(c);return O.jsx(A7,{scope:t.__scopeMenu,value:i,onValueChange:y,children:O.jsx(yg,{...h,ref:r})})});jC.displayName=LC;var FC="MenuRadioItem",UC=R.forwardRef((t,r)=>{const{value:i,...c}=t,h=_7(FC,t.__scopeMenu),y=i===h.value;return O.jsx(zC,{scope:t.__scopeMenu,checked:y,children:O.jsx(t0,{role:"menuitemradio","aria-checked":y,...c,ref:r,"data-state":vg(y),onSelect:Je(c.onSelect,()=>{var v;return(v=h.onValueChange)==null?void 0:v.call(h,i)},{checkForDefaultPrevented:!1})})})});UC.displayName=FC;var xg="MenuItemIndicator",[zC,T7]=kl(xg,{checked:!1}),VC=R.forwardRef((t,r)=>{const{__scopeMenu:i,forceMount:c,...h}=t,y=T7(xg,i);return O.jsx(xi,{present:c||ph(y.checked)||y.checked===!0,children:O.jsx(Dt.span,{...h,ref:r,"data-state":vg(y.checked)})})});VC.displayName=xg;var N7="MenuSeparator",HC=R.forwardRef((t,r)=>{const{__scopeMenu:i,...c}=t;return O.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...c,ref:r})});HC.displayName=N7;var R7="MenuArrow",GC=R.forwardRef((t,r)=>{const{__scopeMenu:i,...c}=t,h=e0(i);return O.jsx(Vh,{...h,...c,ref:r})});GC.displayName=R7;var O7="MenuSub",[TB,qC]=kl(O7),Bu="MenuSubTrigger",XC=R.forwardRef((t,r)=>{const i=Bl(Bu,t.__scopeMenu),c=xf(Bu,t.__scopeMenu),h=qC(Bu,t.__scopeMenu),y=pg(Bu,t.__scopeMenu),v=R.useRef(null),{pointerGraceTimerRef:b,onPointerGraceIntentChange:A}=y,E={__scopeMenu:t.__scopeMenu},I=R.useCallback(()=>{v.current&&window.clearTimeout(v.current),v.current=null},[]);return R.useEffect(()=>I,[I]),R.useEffect(()=>{const N=b.current;return()=>{window.clearTimeout(N),A(null)}},[b,A]),O.jsx(hg,{asChild:!0,...E,children:O.jsx(kC,{id:h.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":h.contentId,"data-state":WC(i.open),...t,ref:oo(r,h.onTriggerChange),onClick:N=>{var k;(k=t.onClick)==null||k.call(t,N),!(t.disabled||N.defaultPrevented)&&(N.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Je(t.onPointerMove,rf(N=>{y.onItemEnter(N),!N.defaultPrevented&&!t.disabled&&!i.open&&!v.current&&(y.onPointerGraceIntentChange(null),v.current=window.setTimeout(()=>{i.onOpenChange(!0),I()},100))})),onPointerLeave:Je(t.onPointerLeave,rf(N=>{var M,U;I();const k=(M=i.content)==null?void 0:M.getBoundingClientRect();if(k){const P=(U=i.content)==null?void 0:U.dataset.side,j=P==="right",X=j?-5:5,G=k[j?"left":"right"],H=k[j?"right":"left"];y.onPointerGraceIntentChange({area:[{x:N.clientX+X,y:N.clientY},{x:G,y:k.top},{x:H,y:k.top},{x:H,y:k.bottom},{x:G,y:k.bottom}],side:P}),window.clearTimeout(b.current),b.current=window.setTimeout(()=>y.onPointerGraceIntentChange(null),300)}else{if(y.onTriggerLeave(N),N.defaultPrevented)return;y.onPointerGraceIntentChange(null)}})),onKeyDown:Je(t.onKeyDown,N=>{var M;const k=y.searchRef.current!=="";t.disabled||k&&N.key===" "||u7[c.dir].includes(N.key)&&(i.onOpenChange(!0),(M=i.content)==null||M.focus(),N.preventDefault())})})})});XC.displayName=Bu;var KC="MenuSubContent",YC=R.forwardRef((t,r)=>{const i=IC(yi,t.__scopeMenu),{forceMount:c=i.forceMount,...h}=t,y=Bl(yi,t.__scopeMenu),v=xf(yi,t.__scopeMenu),b=qC(KC,t.__scopeMenu),A=R.useRef(null),E=un(r,A);return O.jsx(nf.Provider,{scope:t.__scopeMenu,children:O.jsx(xi,{present:c||y.open,children:O.jsx(nf.Slot,{scope:t.__scopeMenu,children:O.jsx(gg,{id:b.contentId,"aria-labelledby":b.triggerId,...h,ref:E,align:"start",side:v.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:I=>{var N;v.isUsingKeyboardRef.current&&((N=A.current)==null||N.focus()),I.preventDefault()},onCloseAutoFocus:I=>I.preventDefault(),onFocusOutside:Je(t.onFocusOutside,I=>{I.target!==b.trigger&&y.onOpenChange(!1)}),onEscapeKeyDown:Je(t.onEscapeKeyDown,I=>{v.onClose(),I.preventDefault()}),onKeyDown:Je(t.onKeyDown,I=>{var M;const N=I.currentTarget.contains(I.target),k=f7[v.dir].includes(I.key);N&&k&&(y.onOpenChange(!1),(M=b.trigger)==null||M.focus(),I.preventDefault())})})})})})});YC.displayName=KC;function WC(t){return t?"open":"closed"}function ph(t){return t==="indeterminate"}function vg(t){return ph(t)?"indeterminate":t?"checked":"unchecked"}function I7(t){const r=document.activeElement;for(const i of t)if(i===r||(i.focus(),document.activeElement!==r))return}function M7(t,r){return t.map((i,c)=>t[(r+c)%t.length])}function D7(t,r,i){const h=r.length>1&&Array.from(r).every(E=>E===r[0])?r[0]:r,y=i?t.indexOf(i):-1;let v=M7(t,Math.max(y,0));h.length===1&&(v=v.filter(E=>E!==i));const A=v.find(E=>E.toLowerCase().startsWith(h.toLowerCase()));return A!==i?A:void 0}function P7(t,r){const{x:i,y:c}=t;let h=!1;for(let y=0,v=r.length-1;y<r.length;v=y++){const b=r[y],A=r[v],E=b.x,I=b.y,N=A.x,k=A.y;I>c!=k>c&&i<(N-E)*(c-I)/(k-I)+E&&(h=!h)}return h}function k7(t,r){if(!r)return!1;const i={x:t.clientX,y:t.clientY};return P7(i,r)}function rf(t){return r=>r.pointerType==="mouse"?t(r):void 0}var B7=OC,L7=hg,j7=MC,F7=DC,U7=yg,z7=PC,V7=t0,H7=BC,G7=jC,q7=UC,X7=VC,K7=HC,Y7=GC,W7=XC,Z7=YC,n0="DropdownMenu",[Q7]=Fi(n0,[NC]),va=NC(),[$7,ZC]=Q7(n0),QC=t=>{const{__scopeDropdownMenu:r,children:i,dir:c,open:h,defaultOpen:y,onOpenChange:v,modal:b=!0}=t,A=va(r),E=R.useRef(null),[I,N]=Fo({prop:h,defaultProp:y??!1,onChange:v,caller:n0});return O.jsx($7,{scope:r,triggerId:ki(),triggerRef:E,contentId:ki(),open:I,onOpenChange:N,onOpenToggle:R.useCallback(()=>N(k=>!k),[N]),modal:b,children:O.jsx(B7,{...A,open:I,onOpenChange:N,dir:c,modal:b,children:i})})};QC.displayName=n0;var $C="DropdownMenuTrigger",JC=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,disabled:c=!1,...h}=t,y=ZC($C,i),v=va(i);return O.jsx(L7,{asChild:!0,...v,children:O.jsx(Dt.button,{type:"button",id:y.triggerId,"aria-haspopup":"menu","aria-expanded":y.open,"aria-controls":y.open?y.contentId:void 0,"data-state":y.open?"open":"closed","data-disabled":c?"":void 0,disabled:c,...h,ref:oo(r,y.triggerRef),onPointerDown:Je(t.onPointerDown,b=>{!c&&b.button===0&&b.ctrlKey===!1&&(y.onOpenToggle(),y.open||b.preventDefault())}),onKeyDown:Je(t.onKeyDown,b=>{c||(["Enter"," "].includes(b.key)&&y.onOpenToggle(),b.key==="ArrowDown"&&y.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(b.key)&&b.preventDefault())})})})});JC.displayName=$C;var J7="DropdownMenuPortal",eS=t=>{const{__scopeDropdownMenu:r,...i}=t,c=va(r);return O.jsx(j7,{...c,...i})};eS.displayName=J7;var tS="DropdownMenuContent",nS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=ZC(tS,i),y=va(i),v=R.useRef(!1);return O.jsx(F7,{id:h.contentId,"aria-labelledby":h.triggerId,...y,...c,ref:r,onCloseAutoFocus:Je(t.onCloseAutoFocus,b=>{var A;v.current||(A=h.triggerRef.current)==null||A.focus(),v.current=!1,b.preventDefault()}),onInteractOutside:Je(t.onInteractOutside,b=>{const A=b.detail.originalEvent,E=A.button===0&&A.ctrlKey===!0,I=A.button===2||E;(!h.modal||I)&&(v.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nS.displayName=tS;var e9="DropdownMenuGroup",t9=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(U7,{...h,...c,ref:r})});t9.displayName=e9;var n9="DropdownMenuLabel",rS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(z7,{...h,...c,ref:r})});rS.displayName=n9;var r9="DropdownMenuItem",aS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(V7,{...h,...c,ref:r})});aS.displayName=r9;var a9="DropdownMenuCheckboxItem",iS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(H7,{...h,...c,ref:r})});iS.displayName=a9;var i9="DropdownMenuRadioGroup",o9=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(G7,{...h,...c,ref:r})});o9.displayName=i9;var s9="DropdownMenuRadioItem",oS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(q7,{...h,...c,ref:r})});oS.displayName=s9;var l9="DropdownMenuItemIndicator",sS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(X7,{...h,...c,ref:r})});sS.displayName=l9;var c9="DropdownMenuSeparator",lS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(K7,{...h,...c,ref:r})});lS.displayName=c9;var u9="DropdownMenuArrow",f9=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(Y7,{...h,...c,ref:r})});f9.displayName=u9;var d9="DropdownMenuSubTrigger",cS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(W7,{...h,...c,ref:r})});cS.displayName=d9;var h9="DropdownMenuSubContent",uS=R.forwardRef((t,r)=>{const{__scopeDropdownMenu:i,...c}=t,h=va(i);return O.jsx(Z7,{...h,...c,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uS.displayName=h9;var m9=QC,p9=JC,g9=eS,fS=nS,dS=rS,hS=aS,mS=iS,pS=oS,gS=sS,yS=lS,xS=cS,vS=uS;const bS=m9,wS=p9,y9=R.forwardRef(({className:t,inset:r,children:i,...c},h)=>O.jsxs(xS,{ref:h,className:At("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",t),...c,children:[i,O.jsx(xN,{className:"ml-auto h-4 w-4"})]}));y9.displayName=xS.displayName;const x9=R.forwardRef(({className:t,...r},i)=>O.jsx(vS,{ref:i,className:At("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));x9.displayName=vS.displayName;const bg=R.forwardRef(({className:t,sideOffset:r=4,...i},c)=>O.jsx(g9,{children:O.jsx(fS,{ref:c,sideOffset:r,className:At("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})}));bg.displayName=fS.displayName;const Is=R.forwardRef(({className:t,inset:r,...i},c)=>O.jsx(hS,{ref:c,className:At("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",t),...i}));Is.displayName=hS.displayName;const v9=R.forwardRef(({className:t,children:r,checked:i,...c},h)=>O.jsxs(mS,{ref:h,className:At("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:i,...c,children:[O.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:O.jsx(gS,{children:O.jsx(Qw,{className:"h-4 w-4"})})}),r]}));v9.displayName=mS.displayName;const b9=R.forwardRef(({className:t,children:r,...i},c)=>O.jsxs(pS,{ref:c,className:At("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...i,children:[O.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:O.jsx(gS,{children:O.jsx(TN,{className:"h-2 w-2 fill-current"})})}),r]}));b9.displayName=pS.displayName;const Sp=R.forwardRef(({className:t,inset:r,...i},c)=>O.jsx(dS,{ref:c,className:At("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...i}));Sp.displayName=dS.displayName;const gh=R.forwardRef(({className:t,...r},i)=>O.jsx(yS,{ref:i,className:At("-mx-1 my-1 h-px bg-muted",t),...r}));gh.displayName=yS.displayName;function w9(){const{setTheme:t,theme:r}=eM();return O.jsxs(bS,{children:[O.jsx(wS,{asChild:!0,children:O.jsxs(sa,{variant:"ghost",size:"icon",className:"h-9 w-9 relative hover:bg-white/10",children:[O.jsx(h6,{className:"h-[1.2rem] w-[1.2rem] text-secondary-foreground"}),O.jsx("span",{className:"sr-only",children:"Escolher tema"})]})}),O.jsxs(bg,{align:"end",className:"w-56 glass-card p-2",children:[O.jsx(Sp,{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Temas Padro"}),O.jsxs(Is,{onClick:()=>t("light"),className:"flex items-center gap-2 cursor-pointer",children:[O.jsx("div",{className:"w-4 h-4 rounded-full bg-white border border-slate-200"}),"Claro"]}),O.jsxs(Is,{onClick:()=>t("dark"),className:"flex items-center gap-2 cursor-pointer",children:[O.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-900 border border-slate-700"}),"Escuro"]}),O.jsxs(Is,{onClick:()=>t("system"),className:"flex items-center gap-2 cursor-pointer",children:[O.jsx("div",{className:"w-4 h-4 rounded-full bg-linear-to-r from-white to-slate-900 border border-slate-400"}),"Sistema"]}),O.jsx(gh,{className:"bg-white/10"}),O.jsx(Sp,{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Presets Premium"}),O.jsx("div",{className:"grid grid-cols-1 gap-1",children:fh.filter(i=>i.id==="enterprise").map(i=>O.jsxs(Is,{onClick:()=>t(i.id),className:`flex items-center justify-between cursor-pointer p-3 rounded-lg m-1 transition-all ${r===i.id?"bg-primary/20 ring-1 ring-primary/50":"hover:bg-white/5 border border-white/5"}`,children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:`w-6 h-6 rounded-md shadow-sm ${i.previewColor}`}),O.jsx("span",{className:`text-sm font-medium ${r===i.id?"text-primary":""}`,children:i.label})]}),O.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"})]},i.id))}),O.jsx(gh,{className:"bg-white/10"}),fh.filter(i=>i.id==="nebula").map(i=>O.jsxs(Is,{onClick:()=>t(i.id),className:`flex items-center gap-3 cursor-pointer p-3 rounded-lg m-1 transition-all ${r===i.id?"bg-primary/20 ring-1 ring-primary/50":"hover:bg-white/5"}`,children:[O.jsx("div",{className:`w-6 h-6 rounded-md shadow-sm ${i.previewColor}`}),O.jsx("span",{className:`text-sm font-medium ${r===i.id?"text-primary":""}`,children:i.label})]},i.id))]})]})}const ES=t=>{const r=(t||"").toUpperCase();return r.includes("SUPER_ADMIN_GOD")||r.includes("SUPERADMINGOD")?"bg-orange-500/10 text-orange-600 border-orange-500/20 shadow-[0_0_10px_-4px_rgba(249,115,22,0.4)] font-black":r.includes("SOCIO_DIRETOR")?"bg-amber-500/10 text-amber-600 border-amber-500/20 shadow-none font-bold":r.includes("HELPER_SYSTEM")?"bg-indigo-500/10 text-indigo-500 border-indigo-500/10 shadow-none font-mono tracking-widest":r.includes("ADMIN")||r.includes("SUPERADMIN")?"bg-rose-500/10 text-rose-500 border-rose-500/10 shadow-none font-semibold":r.includes("MANAGER")||r.includes("GERENTE")?"bg-blue-500/10 text-blue-500 border-blue-500/10 shadow-none":r.includes("MODERATOR")?"bg-violet-500/10 text-violet-500 border-violet-500/10 shadow-none":r.includes("TI_SOFTWARE")?"bg-emerald-500/10 text-emerald-500 border-emerald-500/10 shadow-[0_0_10px_-4px_rgba(16,185,129,0.4)]":r.includes("GESTOR_PROJECT")?"bg-sky-500/10 text-sky-500 border-sky-500/10 shadow-none":r.includes("GESTOR_CANTEIRO")?"bg-cyan-500/10 text-cyan-500 border-cyan-500/10 shadow-none":r.includes("SUPERVISOR")?"bg-teal-500/10 text-teal-500 border-teal-500/10 shadow-none":r.includes("TECHNICIAN")?"bg-lime-500/10 text-lime-500 border-lime-500/10 shadow-none":r.includes("OPERATOR")?"bg-yellow-500/10 text-yellow-500 border-yellow-500/10 shadow-none":r.includes("WORKER")||r.includes("TRABALHADOR")?"bg-slate-500/10 text-slate-500 border-slate-500/10 shadow-none":r.includes("VIEWER")||r.includes("VISUALIZACAO")?"bg-zinc-500/10 text-zinc-500 border-zinc-500/10 shadow-none italic":"bg-slate-500/5 text-slate-400 border-slate-500/10 shadow-none"},E9=t=>t?t.replace(/_/g," ").split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",CS=t=>{const r=(t||"").toUpperCase();return r==="HELPER_SYSTEM"?"Suporte Especializado":r==="SUPER_ADMIN_GOD"||r==="SUPERADMINGOD"?"Super Admin God":r==="SOCIO_DIRETOR"?"Scio Diretor":r==="ADMIN"||r==="ADMINISTRADOR"||r==="SUPERADMIN"?"Admin":r==="MODERATOR"?"Moderador":r==="MANAGER"||r==="GERENTE"?"Gerente":r==="TI_SOFTWARE"?"Ti-Software":r==="GESTOR_PROJECT"?"Gestor de Obra":r==="GESTOR_CANTEIRO"?"Gestor de Canteiro":r==="SUPERVISOR"?"Supervisor":r==="TECHNICIAN"||r==="TECNICO"?"Tcnico":r==="OPERATOR"||r==="OPERADOR"?"Operador":r==="WORKER"||r==="TRABALHADOR"?"Trabalhador":r==="VIEWER"||r==="VISUALIZACAO"?"Visualizador":E9(t)},NB=[{name:"HELPER_SYSTEM",rank:2e3},{name:"SUPER_ADMIN_GOD",rank:1500},{name:"SOCIO_DIRETOR",rank:1e3},{name:"ADMIN",rank:950},{name:"TI_SOFTWARE",rank:900},{name:"MODERATOR",rank:850},{name:"MANAGER",rank:850},{name:"GESTOR_PROJECT",rank:800},{name:"GESTOR_CANTEIRO",rank:700},{name:"SUPERVISOR",rank:600},{name:"TECHNICIAN",rank:400},{name:"OPERATOR",rank:300},{name:"WORKER",rank:100},{name:"USER",rank:100},{name:"VIEWER",rank:50}],RB=[{code:"dashboard",name:"Painel Geral",category:"Geral"},{code:"clock",name:"Bate-ponto (Cmera)",category:"Ponto Eletrnico"},{code:"clock.manual_id",name:"Ponto via Matrcula",category:"Ponto Eletrnico"},{code:"daily_reports",name:"Relatrios Dirios",category:"Ponto Eletrnico"},{code:"time_records.view",name:"Visualizar Registros",category:"Ponto Eletrnico"},{code:"sites.view",name:"Visualizar Canteiros",category:"Corporativo"},{code:"projects.view",name:"Visualizar Obras",category:"Corporativo"},{code:"projects.manage",name:"Gerenciar Obras",category:"Corporativo"},{code:"projects.progress",name:"Andamento de Projetos (Mapa)",category:"Graficos"},{code:"work_progress.view",name:"Andamento da Obra (Graficos)",category:"Graficos"},{code:"companies.view",name:"Visualizar Empresas",category:"Corporativo"},{code:"companies.manage",name:"Gerenciar Empresas",category:"Corporativo"},{code:"team_composition",name:"Composio de Equipe",category:"Equipes"},{code:"employees.manage",name:"Gesto de Funcionrios",category:"Equipes"},{code:"gapo.view",name:"Mdulo GAPO",category:"Controle Avanado"},{code:"costs.view",name:"Gesto de Custos",category:"Produo"},{code:"production.analytics",name:"Analytics de Produo",category:"Produo"},{code:"viewer_3d.view",name:"Visualizador 3D",category:"Ferramentas"},{code:"users.manage",name:"Gesto de Usurios",category:"Administrao"},{code:"custom_su.manage",name:"Configurar Matriz SU",category:"Administrao"},{code:"audit_logs.view",name:"Logs de Auditoria",category:"Administrao"},{code:"db_hub.manage",name:"Database Hub",category:"Administrao"},{code:"settings.profile",name:"Editar Perfil",category:"Configuraes"},{code:"settings.mfa",name:"Gerenciar MFA",category:"Configuraes"},{code:"support.ticket",name:"Chamados de Suporte",category:"Suporte"}];function C9(t){const r=S9(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(_9);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function S9(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=N9(h),b=T9(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var A9=Symbol("radix.slottable");function _9(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A9}function T9(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function N9(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var r0="Popover",[SS]=Fi(r0,[Gs]),vf=Gs(),[R9,qs]=SS(r0),AS=t=>{const{__scopePopover:r,children:i,open:c,defaultOpen:h,onOpenChange:y,modal:v=!1}=t,b=vf(r),A=R.useRef(null),[E,I]=R.useState(!1),[N,k]=Fo({prop:c,defaultProp:h??!1,onChange:y,caller:r0});return O.jsx(Uh,{...b,children:O.jsx(R9,{scope:r,contentId:ki(),triggerRef:A,open:N,onOpenChange:k,onOpenToggle:R.useCallback(()=>k(M=>!M),[k]),hasCustomAnchor:E,onCustomAnchorAdd:R.useCallback(()=>I(!0),[]),onCustomAnchorRemove:R.useCallback(()=>I(!1),[]),modal:v,children:i})})};AS.displayName=r0;var _S="PopoverAnchor",O9=R.forwardRef((t,r)=>{const{__scopePopover:i,...c}=t,h=qs(_S,i),y=vf(i),{onCustomAnchorAdd:v,onCustomAnchorRemove:b}=h;return R.useEffect(()=>(v(),()=>b()),[v,b]),O.jsx(hf,{...y,...c,ref:r})});O9.displayName=_S;var TS="PopoverTrigger",NS=R.forwardRef((t,r)=>{const{__scopePopover:i,...c}=t,h=qs(TS,i),y=vf(i),v=un(r,h.triggerRef),b=O.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":h.open,"aria-controls":h.contentId,"data-state":DS(h.open),...c,ref:v,onClick:Je(t.onClick,h.onOpenToggle)});return h.hasCustomAnchor?b:O.jsx(hf,{asChild:!0,...y,children:b})});NS.displayName=TS;var wg="PopoverPortal",[I9,M9]=SS(wg,{forceMount:void 0}),RS=t=>{const{__scopePopover:r,forceMount:i,children:c,container:h}=t,y=qs(wg,r);return O.jsx(I9,{scope:r,forceMount:i,children:O.jsx(xi,{present:i||y.open,children:O.jsx(zc,{asChild:!0,container:h,children:c})})})};RS.displayName=wg;var Bc="PopoverContent",OS=R.forwardRef((t,r)=>{const i=M9(Bc,t.__scopePopover),{forceMount:c=i.forceMount,...h}=t,y=qs(Bc,t.__scopePopover);return O.jsx(xi,{present:c||y.open,children:y.modal?O.jsx(P9,{...h,ref:r}):O.jsx(k9,{...h,ref:r})})});OS.displayName=Bc;var D9=C9("PopoverContent.RemoveScroll"),P9=R.forwardRef((t,r)=>{const i=qs(Bc,t.__scopePopover),c=R.useRef(null),h=un(r,c),y=R.useRef(!1);return R.useEffect(()=>{const v=c.current;if(v)return $h(v)},[]),O.jsx(gf,{as:D9,allowPinchZoom:!0,children:O.jsx(IS,{...t,ref:h,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,v=>{var b;v.preventDefault(),y.current||(b=i.triggerRef.current)==null||b.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,v=>{const b=v.detail.originalEvent,A=b.button===0&&b.ctrlKey===!0,E=b.button===2||A;y.current=E},{checkForDefaultPrevented:!1}),onFocusOutside:Je(t.onFocusOutside,v=>v.preventDefault(),{checkForDefaultPrevented:!1})})})}),k9=R.forwardRef((t,r)=>{const i=qs(Bc,t.__scopePopover),c=R.useRef(!1),h=R.useRef(!1);return O.jsx(IS,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:y=>{var v,b;(v=t.onCloseAutoFocus)==null||v.call(t,y),y.defaultPrevented||(c.current||(b=i.triggerRef.current)==null||b.focus(),y.preventDefault()),c.current=!1,h.current=!1},onInteractOutside:y=>{var A,E;(A=t.onInteractOutside)==null||A.call(t,y),y.defaultPrevented||(c.current=!0,y.detail.originalEvent.type==="pointerdown"&&(h.current=!0));const v=y.target;((E=i.triggerRef.current)==null?void 0:E.contains(v))&&y.preventDefault(),y.detail.originalEvent.type==="focusin"&&h.current&&y.preventDefault()}})}),IS=R.forwardRef((t,r)=>{const{__scopePopover:i,trapFocus:c,onOpenAutoFocus:h,onCloseAutoFocus:y,disableOutsidePointerEvents:v,onEscapeKeyDown:b,onPointerDownOutside:A,onFocusOutside:E,onInteractOutside:I,...N}=t,k=qs(Bc,i),M=vf(i);return Qh(),O.jsx(mf,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:h,onUnmountAutoFocus:y,children:O.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:v,onInteractOutside:I,onEscapeKeyDown:b,onPointerDownOutside:A,onFocusOutside:E,onDismiss:()=>k.onOpenChange(!1),children:O.jsx(zh,{"data-state":DS(k.open),role:"dialog",id:k.contentId,...M,...N,ref:r,style:{...N.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),MS="PopoverClose",B9=R.forwardRef((t,r)=>{const{__scopePopover:i,...c}=t,h=qs(MS,i);return O.jsx(Dt.button,{type:"button",...c,ref:r,onClick:Je(t.onClick,()=>h.onOpenChange(!1))})});B9.displayName=MS;var L9="PopoverArrow",j9=R.forwardRef((t,r)=>{const{__scopePopover:i,...c}=t,h=vf(i);return O.jsx(Vh,{...h,...c,ref:r})});j9.displayName=L9;function DS(t){return t?"open":"closed"}var F9=AS,U9=NS,z9=RS,PS=OS;const V9=F9,H9=U9,kS=R.forwardRef(({className:t,align:r="center",sideOffset:i=4,...c},h)=>O.jsx(z9,{children:O.jsx(PS,{ref:h,align:r,sideOffset:i,className:At("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...c})}));kS.displayName=PS.displayName;function G9(t){const r=q9(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(K9);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function q9(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=W9(h),b=Y9(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var X9=Symbol("radix.slottable");function K9(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===X9}function Y9(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function W9(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var a0="Dialog",[BS,OB]=Fi(a0),[Z9,Ui]=BS(a0),LS=t=>{const{__scopeDialog:r,children:i,open:c,defaultOpen:h,onOpenChange:y,modal:v=!0}=t,b=R.useRef(null),A=R.useRef(null),[E,I]=Fo({prop:c,defaultProp:h??!1,onChange:y,caller:a0});return O.jsx(Z9,{scope:r,triggerRef:b,contentRef:A,contentId:ki(),titleId:ki(),descriptionId:ki(),open:E,onOpenChange:I,onOpenToggle:R.useCallback(()=>I(N=>!N),[I]),modal:v,children:i})};LS.displayName=a0;var jS="DialogTrigger",FS=R.forwardRef((t,r)=>{const{__scopeDialog:i,...c}=t,h=Ui(jS,i),y=un(r,h.triggerRef);return O.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":h.open,"aria-controls":h.contentId,"data-state":Sg(h.open),...c,ref:y,onClick:Je(t.onClick,h.onOpenToggle)})});FS.displayName=jS;var Eg="DialogPortal",[Q9,US]=BS(Eg,{forceMount:void 0}),zS=t=>{const{__scopeDialog:r,forceMount:i,children:c,container:h}=t,y=Ui(Eg,r);return O.jsx(Q9,{scope:r,forceMount:i,children:R.Children.map(c,v=>O.jsx(xi,{present:i||y.open,children:O.jsx(zc,{asChild:!0,container:h,children:v})}))})};zS.displayName=Eg;var yh="DialogOverlay",VS=R.forwardRef((t,r)=>{const i=US(yh,t.__scopeDialog),{forceMount:c=i.forceMount,...h}=t,y=Ui(yh,t.__scopeDialog);return y.modal?O.jsx(xi,{present:c||y.open,children:O.jsx(J9,{...h,ref:r})}):null});VS.displayName=yh;var $9=G9("DialogOverlay.RemoveScroll"),J9=R.forwardRef((t,r)=>{const{__scopeDialog:i,...c}=t,h=Ui(yh,i);return O.jsx(gf,{as:$9,allowPinchZoom:!0,shards:[h.contentRef],children:O.jsx(Dt.div,{"data-state":Sg(h.open),...c,ref:r,style:{pointerEvents:"auto",...c.style}})})}),Ol="DialogContent",HS=R.forwardRef((t,r)=>{const i=US(Ol,t.__scopeDialog),{forceMount:c=i.forceMount,...h}=t,y=Ui(Ol,t.__scopeDialog);return O.jsx(xi,{present:c||y.open,children:y.modal?O.jsx(eP,{...h,ref:r}):O.jsx(tP,{...h,ref:r})})});HS.displayName=Ol;var eP=R.forwardRef((t,r)=>{const i=Ui(Ol,t.__scopeDialog),c=R.useRef(null),h=un(r,i.contentRef,c);return R.useEffect(()=>{const y=c.current;if(y)return $h(y)},[]),O.jsx(GS,{...t,ref:h,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,y=>{var v;y.preventDefault(),(v=i.triggerRef.current)==null||v.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,y=>{const v=y.detail.originalEvent,b=v.button===0&&v.ctrlKey===!0;(v.button===2||b)&&y.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,y=>y.preventDefault())})}),tP=R.forwardRef((t,r)=>{const i=Ui(Ol,t.__scopeDialog),c=R.useRef(!1),h=R.useRef(!1);return O.jsx(GS,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:y=>{var v,b;(v=t.onCloseAutoFocus)==null||v.call(t,y),y.defaultPrevented||(c.current||(b=i.triggerRef.current)==null||b.focus(),y.preventDefault()),c.current=!1,h.current=!1},onInteractOutside:y=>{var A,E;(A=t.onInteractOutside)==null||A.call(t,y),y.defaultPrevented||(c.current=!0,y.detail.originalEvent.type==="pointerdown"&&(h.current=!0));const v=y.target;((E=i.triggerRef.current)==null?void 0:E.contains(v))&&y.preventDefault(),y.detail.originalEvent.type==="focusin"&&h.current&&y.preventDefault()}})}),GS=R.forwardRef((t,r)=>{const{__scopeDialog:i,trapFocus:c,onOpenAutoFocus:h,onCloseAutoFocus:y,...v}=t,b=Ui(Ol,i),A=R.useRef(null),E=un(r,A);return Qh(),O.jsxs(O.Fragment,{children:[O.jsx(mf,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:h,onUnmountAutoFocus:y,children:O.jsx(Pl,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":Sg(b.open),...v,ref:E,onDismiss:()=>b.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(nP,{titleId:b.titleId}),O.jsx(aP,{contentRef:A,descriptionId:b.descriptionId})]})]})}),Cg="DialogTitle",qS=R.forwardRef((t,r)=>{const{__scopeDialog:i,...c}=t,h=Ui(Cg,i);return O.jsx(Dt.h2,{id:h.titleId,...c,ref:r})});qS.displayName=Cg;var XS="DialogDescription",KS=R.forwardRef((t,r)=>{const{__scopeDialog:i,...c}=t,h=Ui(XS,i);return O.jsx(Dt.p,{id:h.descriptionId,...c,ref:r})});KS.displayName=XS;var YS="DialogClose",WS=R.forwardRef((t,r)=>{const{__scopeDialog:i,...c}=t,h=Ui(YS,i);return O.jsx(Dt.button,{type:"button",...c,ref:r,onClick:Je(t.onClick,()=>h.onOpenChange(!1))})});WS.displayName=YS;function Sg(t){return t?"open":"closed"}var ZS="DialogTitleWarning",[IB,QS]=i8(ZS,{contentName:Ol,titleName:Cg,docsSlug:"dialog"}),nP=({titleId:t})=>{const r=QS(ZS),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return R.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},rP="DialogDescriptionWarning",aP=({contentRef:t,descriptionId:r})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QS(rP).contentName}}.`;return R.useEffect(()=>{var y;const h=(y=t.current)==null?void 0:y.getAttribute("aria-describedby");r&&h&&(document.getElementById(r)||console.warn(c))},[c,t,r]),null},iP=LS,oP=FS,sP=zS,$S=VS,JS=HS,eA=qS,tA=KS,lP=WS;const Ag=iP,cP=oP,uP=sP,nA=R.forwardRef(({className:t,...r},i)=>O.jsx($S,{ref:i,className:At("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));nA.displayName=$S.displayName;const i0=R.forwardRef(({className:t,children:r,...i},c)=>O.jsxs(uP,{children:[O.jsx(nA,{}),O.jsxs(JS,{ref:c,className:At("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-2xl",t),...i,children:[r,O.jsxs(lP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[O.jsx(kh,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));i0.displayName=JS.displayName;const o0=({className:t,...r})=>O.jsx("div",{className:At("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});o0.displayName="DialogHeader";const rA=({className:t,...r})=>O.jsx("div",{className:At("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});rA.displayName="DialogFooter";const s0=R.forwardRef(({className:t,...r},i)=>O.jsx(eA,{ref:i,className:At("text-lg font-semibold leading-none tracking-tight",t),...r}));s0.displayName=eA.displayName;const aA=R.forwardRef(({className:t,...r},i)=>O.jsx(tA,{ref:i,className:At("text-sm text-muted-foreground",t),...r}));aA.displayName=tA.displayName;var st;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var pb=new Map([[st.QR_CODE,"QR_CODE"],[st.AZTEC,"AZTEC"],[st.CODABAR,"CODABAR"],[st.CODE_39,"CODE_39"],[st.CODE_93,"CODE_93"],[st.CODE_128,"CODE_128"],[st.DATA_MATRIX,"DATA_MATRIX"],[st.MAXICODE,"MAXICODE"],[st.ITF,"ITF"],[st.EAN_13,"EAN_13"],[st.EAN_8,"EAN_8"],[st.PDF_417,"PDF_417"],[st.RSS_14,"RSS_14"],[st.RSS_EXPANDED,"RSS_EXPANDED"],[st.UPC_A,"UPC_A"],[st.UPC_E,"UPC_E"],[st.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gb;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(gb||(gb={}));function fP(t){return Object.values(st).includes(t)}var xh;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(xh||(xh={}));var dP=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[xh.SCAN_TYPE_CAMERA,xh.SCAN_TYPE_FILE],t})(),iA=(function(){function t(r,i){this.format=r,this.formatName=i}return t.prototype.toString=function(){return this.formatName},t.create=function(r){if(!pb.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new t(r,pb.get(r))},t})(),yb=(function(){function t(){}return t.createFromText=function(r){var i={text:r};return{decodedText:r,result:i}},t.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},t})(),Ap;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ap||(Ap={}));var hP=(function(){function t(){}return t.createFrom=function(r){return{errorMessage:r,type:Ap.UNKWOWN_ERROR}},t})(),mP=(function(){function t(r){this.verbose=r}return t.prototype.log=function(r){this.verbose&&console.log(r)},t.prototype.warn=function(r){this.verbose&&console.warn(r)},t.prototype.logError=function(r,i){(this.verbose||i===!0)&&console.error(r)},t.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},t})();function Po(t){return typeof t>"u"||t===null}var gc=(function(){function t(){}return t.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},t.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),oA=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(r,i){if(typeof r!="object"){var c=typeof r;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],y=new Set(h),v=Object.keys(r),b=0,A=v;b<A.length;b++){var E=A[b];if(y.has(E))return i.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},t})(),Lu={exports:{}},pP=Lu.exports,xb;function gP(){return xb||(xb=1,(function(t,r){(function(i,c){c(r)})(pP,(function(i){function c(F){return F==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,n){F.__proto__=n}||function(F,n){for(var o in n)n.hasOwnProperty(o)&&(F[o]=n[o])};function y(F,n){h(F,n);function o(){this.constructor=F}F.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}function v(F,n){var o=Object.setPrototypeOf;o?o(F,n):F.__proto__=n}function b(F,n){n===void 0&&(n=F.constructor);var o=Error.captureStackTrace;o&&o(F,n)}var A=(function(F){y(n,F);function n(o){var l=this.constructor,f=F.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),v(f,l.prototype),b(f),f}return n})(Error);class E extends A{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}E.kind="Exception";class I extends E{}I.kind="ArgumentException";class N extends E{}N.kind="IllegalArgumentException";class k{constructor(n){if(this.binarizer=n,n===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,o){return this.binarizer.getBlackRow(n,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,o,l,f){const m=this.binarizer.getLuminanceSource().crop(n,o,l,f);return new k(this.binarizer.createBinarizer(m))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends E{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class U{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(n,o,l,f,m){for(;m--;)l[f++]=n[o++]}static currentTimeMillis(){return Date.now()}}class j extends E{}j.kind="IndexOutOfBoundsException";class X extends j{constructor(n=void 0,o=void 0){super(o),this.index=n,this.message=o}}X.kind="ArrayIndexOutOfBoundsException";class G{static fill(n,o){for(let l=0,f=n.length;l<f;l++)n[l]=o}static fillWithin(n,o,l,f){G.rangeCheck(n.length,o,l);for(let m=o;m<l;m++)n[m]=f}static rangeCheck(n,o,l){if(o>l)throw new N("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new X(o);if(l>n)throw new X(l)}static asList(...n){return n}static create(n,o,l){return Array.from({length:n}).map(m=>Array.from({length:o}).fill(l))}static createInt32Array(n,o,l){return Array.from({length:n}).map(m=>Int32Array.from({length:o}).fill(l))}static equals(n,o){if(!n||!o||!n.length||!o.length||n.length!==o.length)return!1;for(let l=0,f=n.length;l<f;l++)if(n[l]!==o[l])return!1;return!0}static hashCode(n){if(n===null)return 0;let o=1;for(const l of n)o=31*o+l;return o}static fillUint8Array(n,o){for(let l=0;l!==n.length;l++)n[l]=o}static copyOf(n,o){return n.slice(0,o)}static copyOfUint8Array(n,o){if(n.length<=o){const l=new Uint8Array(o);return l.set(n),l}return n.slice(0,o)}static copyOfRange(n,o,l){const f=l-o,m=new Int32Array(f);return P.arraycopy(n,o,m,0,f),m}static binarySearch(n,o,l){l===void 0&&(l=G.numberComparator);let f=0,m=n.length-1;for(;f<=m;){const g=m+f>>1,s=l(o,n[g]);if(s>0)f=g+1;else if(s<0)m=g-1;else return g}return-f-1}static numberComparator(n,o){return n-o}}class H{static numberOfTrailingZeros(n){let o;if(n===0)return 32;let l=31;return o=n<<16,o!==0&&(l-=16,n=o),o=n<<8,o!==0&&(l-=8,n=o),o=n<<4,o!==0&&(l-=4,n=o),o=n<<2,o!==0&&(l-=2,n=o),l-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let o=1;return n>>>16||(o+=16,n<<=16),n>>>24||(o+=8,n<<=8),n>>>28||(o+=4,n<<=4),n>>>30||(o+=2,n<<=2),o-=n>>>31,o}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,o){return Math.trunc(n/o)}static parseInt(n,o=void 0){return parseInt(n,o)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(n,o){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,o==null?this.bits=q.makeArray(n):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const o=q.makeArray(n);P.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const o=this.size;if(n>=o)return o;const l=this.bits;let f=Math.floor(n/32),m=l[f];m&=~((1<<(n&31))-1);const g=l.length;for(;m===0;){if(++f===g)return o;m=l[f]}const s=f*32+H.numberOfTrailingZeros(m);return s>o?o:s}getNextUnset(n){const o=this.size;if(n>=o)return o;const l=this.bits;let f=Math.floor(n/32),m=~l[f];m&=~((1<<(n&31))-1);const g=l.length;for(;m===0;){if(++f===g)return o;m=~l[f]}const s=f*32+H.numberOfTrailingZeros(m);return s>o?o:s}setBulk(n,o){this.bits[Math.floor(n/32)]=o}setRange(n,o){if(o<n||n<0||o>this.size)throw new N;if(o===n)return;o--;const l=Math.floor(n/32),f=Math.floor(o/32),m=this.bits;for(let g=l;g<=f;g++){const s=g>l?0:n&31,x=(2<<(g<f?31:o&31))-(1<<s);m[g]|=x}}clear(){const n=this.bits.length,o=this.bits;for(let l=0;l<n;l++)o[l]=0}isRange(n,o,l){if(o<n||n<0||o>this.size)throw new N;if(o===n)return!0;o--;const f=Math.floor(n/32),m=Math.floor(o/32),g=this.bits;for(let s=f;s<=m;s++){const d=s>f?0:n&31,w=(2<<(s<m?31:o&31))-(1<<d)&4294967295;if((g[s]&w)!==(l?w:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,o){if(o<0||o>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((n>>l-1&1)===1)}appendBitArray(n){const o=n.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(n.get(l))}xor(n){if(this.size!==n.size)throw new N("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=n.bits[l]}toBytes(n,o,l,f){for(let m=0;m<f;m++){let g=0;for(let s=0;s<8;s++)this.get(n)&&(g|=1<<7-s),n++;o[l+m]=g}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let m=0;m<l;m++){let g=f[m];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,n[o-m]=g}if(this.size!==l*32){const m=l*32-this.size;let g=n[0]>>>m;for(let s=1;s<l;s++){const d=n[s];g|=d<<32-m,n[s-1]=g,g=d>>>m}n[l-1]=g}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof q))return!1;const o=n;return this.size===o.size&&G.equals(this.bits,o.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let n="";for(let o=0,l=this.size;o<l;o++)(o&7)===0&&(n+=" "),n+=this.get(o)?"X":".";return n}clone(){return new q(this.size,this.bits.slice())}}var ae;(function(F){F[F.OTHER=0]="OTHER",F[F.PURE_BARCODE=1]="PURE_BARCODE",F[F.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",F[F.TRY_HARDER=3]="TRY_HARDER",F[F.CHARACTER_SET=4]="CHARACTER_SET",F[F.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",F[F.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",F[F.ASSUME_GS1=7]="ASSUME_GS1",F[F.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",F[F.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",F[F.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ae||(ae={}));var re=ae;class V extends E{static getFormatInstance(){return new V}}V.kind="FormatException";var Z;(function(F){F[F.Cp437=0]="Cp437",F[F.ISO8859_1=1]="ISO8859_1",F[F.ISO8859_2=2]="ISO8859_2",F[F.ISO8859_3=3]="ISO8859_3",F[F.ISO8859_4=4]="ISO8859_4",F[F.ISO8859_5=5]="ISO8859_5",F[F.ISO8859_6=6]="ISO8859_6",F[F.ISO8859_7=7]="ISO8859_7",F[F.ISO8859_8=8]="ISO8859_8",F[F.ISO8859_9=9]="ISO8859_9",F[F.ISO8859_10=10]="ISO8859_10",F[F.ISO8859_11=11]="ISO8859_11",F[F.ISO8859_13=12]="ISO8859_13",F[F.ISO8859_14=13]="ISO8859_14",F[F.ISO8859_15=14]="ISO8859_15",F[F.ISO8859_16=15]="ISO8859_16",F[F.SJIS=16]="SJIS",F[F.Cp1250=17]="Cp1250",F[F.Cp1251=18]="Cp1251",F[F.Cp1252=19]="Cp1252",F[F.Cp1256=20]="Cp1256",F[F.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",F[F.UTF8=22]="UTF8",F[F.ASCII=23]="ASCII",F[F.Big5=24]="Big5",F[F.GB18030=25]="GB18030",F[F.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class te{constructor(n,o,l,...f){this.valueIdentifier=n,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,te.VALUE_IDENTIFIER_TO_ECI.set(n,this),te.NAME_TO_ECI.set(l,this);const m=this.values;for(let g=0,s=m.length;g!==s;g++){const d=m[g];te.VALUES_TO_ECI.set(d,this)}for(const g of f)te.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new V("incorect value");const o=te.VALUES_TO_ECI.get(n);if(o===void 0)throw new V("incorect value");return o}static getCharacterSetECIByName(n){const o=te.NAME_TO_ECI.get(n);if(o===void 0)throw new V("incorect value");return o}equals(n){if(!(n instanceof te))return!1;const o=n;return this.getName()===o.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(Z.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(Z.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(Z.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(Z.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(Z.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(Z.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(Z.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(Z.Big5,28,"Big5"),te.GB18030=new te(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(Z.EUC_KR,30,"EUC_KR","EUC-KR");class fe extends E{}fe.kind="UnsupportedOperationException";class Re{static decode(n,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(n,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(n,l):new TextDecoder(l).decode(n)}static shouldDecodeOnFallback(n){return!Re.isBrowser()&&n==="ISO-8859-1"}static encode(n,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(n,l):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof te?n:te.getCharacterSetECIByName(n)}static decodeFallback(n,o){const l=this.encodingCharacterSet(o);if(Re.isDecodeFallbackSupported(l)){let f="";for(let m=0,g=n.length;m<g;m++){let s=n[m].toString(16);s.length<2&&(s="0"+s),f+="%"+s}return decodeURIComponent(f)}if(l.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new fe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(te.UTF8)||n.equals(te.ISO8859_1)||n.equals(te.ASCII)}static encodeFallback(n){const l=btoa(unescape(encodeURIComponent(n))).split(""),f=[];for(let m=0;m<l.length;m++)f.push(l[m].charCodeAt(0));return new Uint8Array(f)}}class xe{static castAsNonUtf8Char(n,o=null){const l=o?o.getName():this.ISO88591;return Re.decode(new Uint8Array([n]),l)}static guessEncoding(n,o){if(o!=null&&o.get(re.CHARACTER_SET)!==void 0)return o.get(re.CHARACTER_SET).toString();const l=n.length;let f=!0,m=!0,g=!0,s=0,d=0,x=0,w=0,S=0,T=0,D=0,L=0,z=0,W=0,Y=0;const Q=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ee=0;ee<l&&(f||m||g);ee++){const $=n[ee]&255;g&&(s>0?($&128)===0?g=!1:s--:($&128)!==0&&(($&64)===0?g=!1:(s++,($&32)===0?d++:(s++,($&16)===0?x++:(s++,($&8)===0?w++:g=!1))))),f&&($>127&&$<160?f=!1:$>159&&($<192||$===215||$===247)&&Y++),m&&(S>0?$<64||$===127||$>252?m=!1:S--:$===128||$===160||$>239?m=!1:$>160&&$<224?(T++,L=0,D++,D>z&&(z=D)):$>127?(S++,D=0,L++,L>W&&(W=L)):(D=0,L=0))}return g&&s>0&&(g=!1),m&&S>0&&(m=!1),g&&(Q||d+x+w>0)?xe.UTF8:m&&(xe.ASSUME_SHIFT_JIS||z>=3||W>=3)?xe.SHIFT_JIS:f&&m?z===2&&T===2||Y*10>=l?xe.SHIFT_JIS:xe.ISO88591:f?xe.ISO88591:m?xe.SHIFT_JIS:g?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(n,...o){let l=-1;function f(g,s,d,x,w,S){if(g==="%%")return"%";if(o[++l]===void 0)return;g=x?parseInt(x.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,D;switch(S){case"s":D=o[l];break;case"c":D=o[l][0];break;case"f":D=parseFloat(o[l]).toFixed(g);break;case"p":D=parseFloat(o[l]).toPrecision(g);break;case"e":D=parseFloat(o[l]).toExponential(g);break;case"x":D=parseInt(o[l]).toString(T||16);break;case"d":D=parseFloat(parseInt(o[l],T||10).toPrecision(g)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let L=parseInt(d),z=d&&d[0]+""=="0"?"0":" ";for(;D.length<L;)D=s!==void 0?D+z:z+D;return D}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(m,f)}static getBytes(n,o){return Re.encode(n,o)}static getCharCode(n,o=0){return n.charCodeAt(o)}static getCharAt(n){return String.fromCharCode(n)}}xe.SHIFT_JIS=te.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=te.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=te.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class Ue{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,o,l){for(let f=o;o<o+l;f++)this.append(n[f]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,o){this.value=this.value.substr(0,n)+o+this.value.substr(n+1)}substring(n,o){return this.value.substring(n,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,o){this.value=this.value.substr(0,n)+o+this.value.substr(n+o.length)}}class me{constructor(n,o,l,f){if(this.width=n,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=n),this.height=o,n<1||o<1)throw new N("Both dimensions must be greater than 0");l==null&&(l=Math.floor((n+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const o=n.length,l=n[0].length,f=new me(l,o);for(let m=0;m<o;m++){const g=n[m];for(let s=0;s<l;s++)g[s]&&f.set(s,m)}return f}static parseFromString(n,o,l){if(n===null)throw new N("stringRepresentation cannot be null");const f=new Array(n.length);let m=0,g=0,s=-1,d=0,x=0;for(;x<n.length;)if(n.charAt(x)===`
`||n.charAt(x)==="\r"){if(m>g){if(s===-1)s=m-g;else if(m-g!==s)throw new N("row lengths do not match");g=m,d++}x++}else if(n.substring(x,x+o.length)===o)x+=o.length,f[m]=!0,m++;else if(n.substring(x,x+l.length)===l)x+=l.length,f[m]=!1,m++;else throw new N("illegal character encountered: "+n.substring(x));if(m>g){if(s===-1)s=m-g;else if(m-g!==s)throw new N("row lengths do not match");d++}const w=new me(s,d);for(let S=0;S<m;S++)f[S]&&w.set(Math.floor(S%s),Math.floor(S/s));return w}get(n,o){const l=o*this.rowSize+Math.floor(n/32);return(this.bits[l]>>>(n&31)&1)!==0}set(n,o){const l=o*this.rowSize+Math.floor(n/32);this.bits[l]|=1<<(n&31)&4294967295}unset(n,o){const l=o*this.rowSize+Math.floor(n/32);this.bits[l]&=~(1<<(n&31)&4294967295)}flip(n,o){const l=o*this.rowSize+Math.floor(n/32);this.bits[l]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new N("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let m=0,g=this.height;m<g;m++){const s=m*l,d=n.getRow(m,o).getBitArray();for(let x=0;x<l;x++)f[s+x]^=d[x]}}clear(){const n=this.bits,o=n.length;for(let l=0;l<o;l++)n[l]=0}setRegion(n,o,l,f){if(o<0||n<0)throw new N("Left and top must be nonnegative");if(f<1||l<1)throw new N("Height and width must be at least 1");const m=n+l,g=o+f;if(g>this.height||m>this.width)throw new N("The region must fit inside the matrix");const s=this.rowSize,d=this.bits;for(let x=o;x<g;x++){const w=x*s;for(let S=n;S<m;S++)d[w+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(n,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,f=this.bits,m=n*l;for(let g=0;g<l;g++)o.setBulk(g*32,f[m+g]);return o}setRow(n,o){P.arraycopy(o.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),o=this.getHeight();let l=new q(n),f=new q(n);for(let m=0,g=Math.floor((o+1)/2);m<g;m++)l=this.getRow(m,l),f=this.getRow(o-1-m,f),l.reverse(),f.reverse(),this.setRow(m,f),this.setRow(o-1-m,l)}getEnclosingRectangle(){const n=this.width,o=this.height,l=this.rowSize,f=this.bits;let m=n,g=o,s=-1,d=-1;for(let x=0;x<o;x++)for(let w=0;w<l;w++){const S=f[x*l+w];if(S!==0){if(x<g&&(g=x),x>d&&(d=x),w*32<m){let T=0;for(;(S<<31-T&4294967295)===0;)T++;w*32+T<m&&(m=w*32+T)}if(w*32+31>s){let T=31;for(;!(S>>>T);)T--;w*32+T>s&&(s=w*32+T)}}}return s<m||d<g?null:Int32Array.from([m,g,s-m+1,d-g+1])}getTopLeftOnBit(){const n=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/n;let m=l%n*32;const g=o[l];let s=0;for(;(g<<31-s&4294967295)===0;)s++;return m+=s,Int32Array.from([m,f])}getBottomRightOnBit(){const n=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/n);let m=Math.floor(l%n)*32;const g=o[l];let s=31;for(;!(g>>>s);)s--;return m+=s,Int32Array.from([m,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof me))return!1;const o=n;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&G.equals(this.bits,o.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+G.hashCode(this.bits),n}toString(n="X ",o="  ",l=`
`){return this.buildToString(n,o,l)}buildToString(n,o,l){let f=new Ue;for(let m=0,g=this.height;m<g;m++){for(let s=0,d=this.width;s<d;s++)f.append(this.get(s,m)?n:o);f.append(l)}return f.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class ce extends E{static getNotFoundInstance(){return new ce}}ce.kind="NotFoundException";class ie extends U{constructor(n){super(n),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(n,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new q(f):o.clear(),this.initArrays(f);const m=l.getRow(n,this.luminances),g=this.buckets;for(let d=0;d<f;d++)g[(m[d]&255)>>ie.LUMINANCE_SHIFT]++;const s=ie.estimateBlackPoint(g);if(f<3)for(let d=0;d<f;d++)(m[d]&255)<s&&o.set(d);else{let d=m[0]&255,x=m[1]&255;for(let w=1;w<f-1;w++){const S=m[w+1]&255;(x*4-d-S)/2<s&&o.set(w),d=x,x=S}}return o}getBlackMatrix(){const n=this.getLuminanceSource(),o=n.getWidth(),l=n.getHeight(),f=new me(o,l);this.initArrays(o);const m=this.buckets;for(let d=1;d<5;d++){const x=Math.floor(l*d/5),w=n.getRow(x,this.luminances),S=Math.floor(o*4/5);for(let T=Math.floor(o/5);T<S;T++){const D=w[T]&255;m[D>>ie.LUMINANCE_SHIFT]++}}const g=ie.estimateBlackPoint(m),s=n.getMatrix();for(let d=0;d<l;d++){const x=d*o;for(let w=0;w<o;w++)(s[x+w]&255)<g&&f.set(w,d)}return f}createBinarizer(n){return new ie(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const o=this.buckets;for(let l=0;l<ie.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(n){const o=n.length;let l=0,f=0,m=0;for(let w=0;w<o;w++)n[w]>m&&(f=w,m=n[w]),n[w]>l&&(l=n[w]);let g=0,s=0;for(let w=0;w<o;w++){const S=w-f,T=n[w]*S*S;T>s&&(g=w,s=T)}if(f>g){const w=f;f=g,g=w}if(g-f<=o/16)throw new ce;let d=g-1,x=-1;for(let w=g-1;w>f;w--){const S=w-f,T=S*S*(g-w)*(l-n[w]);T>x&&(d=w,x=T)}return d<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class ge extends ie{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),o=n.getWidth(),l=n.getHeight();if(o>=ge.MINIMUM_DIMENSION&&l>=ge.MINIMUM_DIMENSION){const f=n.getMatrix();let m=o>>ge.BLOCK_SIZE_POWER;(o&ge.BLOCK_SIZE_MASK)!==0&&m++;let g=l>>ge.BLOCK_SIZE_POWER;(l&ge.BLOCK_SIZE_MASK)!==0&&g++;const s=ge.calculateBlackPoints(f,m,g,o,l),d=new me(o,l);ge.calculateThresholdForBlock(f,m,g,o,l,s,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ge(n)}static calculateThresholdForBlock(n,o,l,f,m,g,s){const d=m-ge.BLOCK_SIZE,x=f-ge.BLOCK_SIZE;for(let w=0;w<l;w++){let S=w<<ge.BLOCK_SIZE_POWER;S>d&&(S=d);const T=ge.cap(w,2,l-3);for(let D=0;D<o;D++){let L=D<<ge.BLOCK_SIZE_POWER;L>x&&(L=x);const z=ge.cap(D,2,o-3);let W=0;for(let Q=-2;Q<=2;Q++){const ee=g[T+Q];W+=ee[z-2]+ee[z-1]+ee[z]+ee[z+1]+ee[z+2]}const Y=W/25;ge.thresholdBlock(n,L,S,Y,f,s)}}}static cap(n,o,l){return n<o?o:n>l?l:n}static thresholdBlock(n,o,l,f,m,g){for(let s=0,d=l*m+o;s<ge.BLOCK_SIZE;s++,d+=m)for(let x=0;x<ge.BLOCK_SIZE;x++)(n[d+x]&255)<=f&&g.set(o+x,l+s)}static calculateBlackPoints(n,o,l,f,m){const g=m-ge.BLOCK_SIZE,s=f-ge.BLOCK_SIZE,d=new Array(l);for(let x=0;x<l;x++){d[x]=new Int32Array(o);let w=x<<ge.BLOCK_SIZE_POWER;w>g&&(w=g);for(let S=0;S<o;S++){let T=S<<ge.BLOCK_SIZE_POWER;T>s&&(T=s);let D=0,L=255,z=0;for(let Y=0,Q=w*f+T;Y<ge.BLOCK_SIZE;Y++,Q+=f){for(let ee=0;ee<ge.BLOCK_SIZE;ee++){const $=n[Q+ee]&255;D+=$,$<L&&(L=$),$>z&&(z=$)}if(z-L>ge.MIN_DYNAMIC_RANGE)for(Y++,Q+=f;Y<ge.BLOCK_SIZE;Y++,Q+=f)for(let ee=0;ee<ge.BLOCK_SIZE;ee++)D+=n[Q+ee]&255}let W=D>>ge.BLOCK_SIZE_POWER*2;if(z-L<=ge.MIN_DYNAMIC_RANGE&&(W=L/2,x>0&&S>0)){const Y=(d[x-1][S]+2*d[x][S-1]+d[x-1][S-1])/4;L<Y&&(W=Y)}d[x][S]=W}}return d}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class Ne{constructor(n,o){this.width=n,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,o,l,f){throw new fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new fe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let o=new Ue;for(let l=0;l<this.height;l++){const f=this.getRow(l,n);for(let m=0;m<this.width;m++){const g=f[m]&255;let s;g<64?s="#":g<128?s="+":g<192?s=".":s=" ",o.append(s)}o.append(`
`)}return o.toString()}}class we extends Ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,o){const l=this.delegate.getRow(n,o),f=this.getWidth();for(let m=0;m<f;m++)l[m]=255-(l[m]&255);return l}getMatrix(){const n=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(n[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(n,o,l,f){return new we(this.delegate.crop(n,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new we(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new we(this.delegate.rotateCounterClockwise45())}}class Xe extends Ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=Xe.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const o=n.getContext("2d").getImageData(0,0,n.width,n.height);return Xe.toGrayscaleBuffer(o.data,n.width,n.height)}static toGrayscaleBuffer(n,o,l){const f=new Uint8ClampedArray(o*l);for(let m=0,g=0,s=n.length;m<s;m+=4,g++){let d;if(n[m+3]===0)d=255;else{const w=n[m],S=n[m+1],T=n[m+2];d=306*w+601*S+117*T+512>>10}f[g]=d}return f}getRow(n,o){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const l=this.getWidth(),f=n*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,o,l,f){return super.crop(n,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=n*Xe.DEGREE_TO_RADIANS,m=this.canvas.width,g=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(f))*m+Math.abs(Math.sin(f))*g),d=Math.ceil(Math.abs(Math.sin(f))*m+Math.abs(Math.cos(f))*g);return o.width=s,o.height=d,l.translate(s/2,d/2),l.rotate(f),l.drawImage(this.canvas,m/-2,g/-2),this.buffer=Xe.makeBufferFromCanvasImageData(o),this}invert(){return new we(this)}}Xe.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(n,o,l){this.deviceId=n,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Du||self||window||void 0)&&(globalThis||Du||self||window||void 0).__awaiter||function(F,n,o,l){function f(m){return m instanceof o?m:new o(function(g){g(m)})}return new(o||(o=Promise))(function(m,g){function s(w){try{x(l.next(w))}catch(S){g(S)}}function d(w){try{x(l.throw(w))}catch(S){g(S)}}function x(w){w.done?m(w.value):f(w.value).then(s,d)}x((l=l.apply(F,n||[])).next())})};class Ie{constructor(n,o=500,l){this.reader=n,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of n){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const m=l.deviceId||l.id,g=l.label||`Video device ${o.length+1}`,s=l.groupId,d={deviceId:m,label:g,kind:f,groupId:s};o.push(d)}return o})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ne(o.deviceId,o.label))})}findDeviceById(n){return de(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===n):null})}decodeFromInputVideoDevice(n,o){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,o)})}decodeOnceFromVideoDevice(n,o){return de(this,void 0,void 0,function*(){this.reset();let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(n,o){return de(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(n,o){return de(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(n,o,l){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,o,l)})}decodeFromVideoDevice(n,o,l){return de(this,void 0,void 0,function*(){let f;n?f={deviceId:{exact:n}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeFromConstraints(m,o,l)})}decodeFromConstraints(n,o,l){return de(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(n,o,l){return de(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(n,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,o){return de(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,n),this.videoElement=l,this.stream=n,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(n){return new Promise((o,l)=>this.playVideoOnLoad(n,()=>o()))}playVideoOnLoad(n,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",o),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,o){const l=document.getElementById(n);if(!l)throw new I(`element with id '${n}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new I(`element with id '${n}' must be an ${o} element`);return l}decodeFromImage(n,o){if(!n&&!o)throw new I("either imageElement with a src set or an url must be provided");return o&&!n?this.decodeFromImageUrl(o):this.decodeFromImageElement(n)}decodeFromVideo(n,o){if(!n&&!o)throw new I("Either an element with a src set or an URL must be provided");return o&&!n?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,o,l){if(n===void 0&&o===void 0)throw new I("Either an element with a src set or an URL must be provided");return o&&!n?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(n,l)}decodeFromImageElement(n){if(!n)throw new I("An image element must be provided.");this.reset();const o=this.prepareImageElement(n);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(n){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(n,o){const l=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(n){if(!n)throw new I("A video element must be provided.");this.reset();const o=this.prepareVideoElement(n);return this.videoElement=o,o}decodeFromImageUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=n,l}decodeFromVideoUrl(n){if(!n)throw new I("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=n,l}decodeFromVideoUrlContinuously(n,o){if(!n)throw new I("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=n,f}_decodeOnLoadImage(n){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(o,l),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,o){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,o)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let o;return typeof n>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof n=="string"&&(o=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(o=n),o}prepareVideoElement(n){let o;return!n&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof n=="string"&&(o=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(o=n),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(n,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(m,g)=>{if(this._stopAsyncDecode){g(new ce("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const s=this.decode(n);m(s)}catch(s){const d=o&&s instanceof ce,w=(s instanceof M||s instanceof V)&&l;if(d||w)return setTimeout(f,this._timeBetweenDecodingAttempts,m,g);g(s)}};return new Promise((m,g)=>f(m,g))}decodeContinuously(n,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(n);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const m=f instanceof M||f instanceof V,g=f instanceof ce;(m||g)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(n){const o=this.createBinaryBitmap(n);return this.decodeBitmap(o)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,o,l){o||(o={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(n,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(n,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(n,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const o=this.getCaptureCanvas(n),l=new Xe(o),f=new ge(l);return new k(f)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const o=this.createCaptureCanvas(n);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof n<"u"&&(n instanceof HTMLVideoElement?(l=n.videoWidth,f=n.videoHeight):n instanceof HTMLImageElement&&(l=n.naturalWidth||n.width,f=n.naturalHeight||n.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,o){try{n.srcObject=o}catch{n.src=URL.createObjectURL(o)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Oe{constructor(n,o,l=o==null?0:8*o.length,f,m,g=P.currentTimeMillis()){this.text=n,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=m,this.timestamp=g,this.text=n,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=m,this.resultMetadata=null,g==null?this.timestamp=P.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,o)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const o=this.resultPoints;if(o===null)this.resultPoints=n;else if(n!==null&&n.length>0){const l=new Array(o.length+n.length);P.arraycopy(o,0,l,0,o.length),P.arraycopy(n,0,l,o.length,n.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(F){F[F.AZTEC=0]="AZTEC",F[F.CODABAR=1]="CODABAR",F[F.CODE_39=2]="CODE_39",F[F.CODE_93=3]="CODE_93",F[F.CODE_128=4]="CODE_128",F[F.DATA_MATRIX=5]="DATA_MATRIX",F[F.EAN_8=6]="EAN_8",F[F.EAN_13=7]="EAN_13",F[F.ITF=8]="ITF",F[F.MAXICODE=9]="MAXICODE",F[F.PDF_417=10]="PDF_417",F[F.QR_CODE=11]="QR_CODE",F[F.RSS_14=12]="RSS_14",F[F.RSS_EXPANDED=13]="RSS_EXPANDED",F[F.UPC_A=14]="UPC_A",F[F.UPC_E=15]="UPC_E",F[F.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var Le=tt,Be;(function(F){F[F.OTHER=0]="OTHER",F[F.ORIENTATION=1]="ORIENTATION",F[F.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",F[F.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",F[F.ISSUE_NUMBER=4]="ISSUE_NUMBER",F[F.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",F[F.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",F[F.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",F[F.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",F[F.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",F[F.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Be||(Be={}));var et=Be;class ft{constructor(n,o,l,f,m=-1,g=-1){this.rawBytes=n,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=m,this.structuredAppendParity=g,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ve{exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}static addOrSubtract(n,o){return n^o}}class ht{constructor(n,o){if(o.length===0)throw new N;this.field=n;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),P.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(n===1){l=0;for(let g=0,s=o.length;g!==s;g++){const d=o[g];l=Ve.addOrSubtract(l,d)}return l}l=o[0];const f=o.length,m=this.field;for(let g=1;g<f;g++)l=Ve.addOrSubtract(m.multiply(n,l),o[g]);return l}addOrSubtract(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let o=this.coefficients,l=n.coefficients;if(o.length>l.length){const g=o;o=l,l=g}let f=new Int32Array(l.length);const m=l.length-o.length;P.arraycopy(l,0,f,0,m);for(let g=m;g<l.length;g++)f[g]=Ve.addOrSubtract(o[g-m],l[g]);return new ht(this.field,f)}multiply(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=n.coefficients,m=f.length,g=new Int32Array(l+m-1),s=this.field;for(let d=0;d<l;d++){const x=o[d];for(let w=0;w<m;w++)g[d+w]=Ve.addOrSubtract(g[d+w],s.multiply(x,f[w]))}return new ht(s,g)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),m=this.coefficients;for(let g=0;g<o;g++)f[g]=l.multiply(m[g],n);return new ht(l,f)}multiplyByMonomial(n,o){if(n<0)throw new N;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,m=new Int32Array(f+n),g=this.field;for(let s=0;s<f;s++)m[s]=g.multiply(l[s],o);return new ht(g,m)}divide(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new N("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const m=n.getCoefficient(n.getDegree()),g=o.inverse(m);for(;f.getDegree()>=n.getDegree()&&!f.isZero();){const s=f.getDegree()-n.getDegree(),d=o.multiply(f.getCoefficient(f.getDegree()),g),x=n.multiplyByMonomial(s,d),w=o.buildMonomial(s,d);l=l.addOrSubtract(w),f=f.addOrSubtract(x)}return[l,f]}toString(){let n="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(n+=" - ",l=-l):n.length>0&&(n+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?n+="1":f===1?n+="a":(n+="a^",n+=f)}o!==0&&(o===1?n+="x":(n+="x^",n+=o))}}return n}}class rt extends E{}rt.kind="ArithmeticException";class mt extends Ve{constructor(n,o,l){super(),this.primitive=n,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let m=1;for(let s=0;s<o;s++)f[s]=m,m*=2,m>=o&&(m^=n,m&=o-1);this.expTable=f;const g=new Int32Array(o);for(let s=0;s<o-1;s++)g[f[s]]=s;this.logTable=g,this.zero=new ht(this,Int32Array.from([0])),this.one=new ht(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,o){if(n<0)throw new N;if(o===0)return this.zero;const l=new Int32Array(n+1);return l[0]=o,new ht(this,l)}inverse(n){if(n===0)throw new rt;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,o){return n===0||o===0?0:this.expTable[(this.logTable[n]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}mt.AZTEC_DATA_12=new mt(4201,4096,1),mt.AZTEC_DATA_10=new mt(1033,1024,1),mt.AZTEC_DATA_6=new mt(67,64,1),mt.AZTEC_PARAM=new mt(19,16,1),mt.QR_CODE_FIELD_256=new mt(285,256,0),mt.DATA_MATRIX_FIELD_256=new mt(301,256,1),mt.AZTEC_DATA_8=mt.DATA_MATRIX_FIELD_256,mt.MAXICODE_FIELD_64=mt.AZTEC_DATA_6;class An extends E{}An.kind="ReedSolomonException";class wn extends E{}wn.kind="IllegalStateException";class vr{constructor(n){this.field=n}decode(n,o){const l=this.field,f=new ht(l,n),m=new Int32Array(o);let g=!0;for(let D=0;D<o;D++){const L=f.evaluateAt(l.exp(D+l.getGeneratorBase()));m[m.length-1-D]=L,L!==0&&(g=!1)}if(g)return;const s=new ht(l,m),d=this.runEuclideanAlgorithm(l.buildMonomial(o,1),s,o),x=d[0],w=d[1],S=this.findErrorLocations(x),T=this.findErrorMagnitudes(w,S);for(let D=0;D<S.length;D++){const L=n.length-1-l.log(S[D]);if(L<0)throw new An("Bad error location");n[L]=mt.addOrSubtract(n[L],T[D])}}runEuclideanAlgorithm(n,o,l){if(n.getDegree()<o.getDegree()){const D=n;n=o,o=D}const f=this.field;let m=n,g=o,s=f.getZero(),d=f.getOne();for(;g.getDegree()>=(l/2|0);){let D=m,L=s;if(m=g,s=d,m.isZero())throw new An("r_{i-1} was zero");g=D;let z=f.getZero();const W=m.getCoefficient(m.getDegree()),Y=f.inverse(W);for(;g.getDegree()>=m.getDegree()&&!g.isZero();){const Q=g.getDegree()-m.getDegree(),ee=f.multiply(g.getCoefficient(g.getDegree()),Y);z=z.addOrSubtract(f.buildMonomial(Q,ee)),g=g.addOrSubtract(m.multiplyByMonomial(Q,ee))}if(d=z.multiply(s).addOrSubtract(L),g.getDegree()>=m.getDegree())throw new wn("Division algorithm failed to reduce polynomial?")}const x=d.getCoefficient(0);if(x===0)throw new An("sigmaTilde(0) was zero");const w=f.inverse(x),S=d.multiplyScalar(w),T=g.multiplyScalar(w);return[S,T]}findErrorLocations(n){const o=n.getDegree();if(o===1)return Int32Array.from([n.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const m=this.field;for(let g=1;g<m.getSize()&&f<o;g++)n.evaluateAt(g)===0&&(l[f]=m.inverse(g),f++);if(f!==o)throw new An("Error locator degree does not match number of roots");return l}findErrorMagnitudes(n,o){const l=o.length,f=new Int32Array(l),m=this.field;for(let g=0;g<l;g++){const s=m.inverse(o[g]);let d=1;for(let x=0;x<l;x++)if(g!==x){const w=m.multiply(o[x],s),S=(w&1)===0?w|1:w&-2;d=m.multiply(d,S)}f[g]=m.multiply(n.evaluateAt(s),m.inverse(d)),m.getGeneratorBase()!==0&&(f[g]=m.multiply(f[g],s))}return f}}var _n;(function(F){F[F.UPPER=0]="UPPER",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.DIGIT=3]="DIGIT",F[F.PUNCT=4]="PUNCT",F[F.BINARY=5]="BINARY"})(_n||(_n={}));class Yt{decode(n){this.ddata=n;let o=n.getBits(),l=this.extractBits(o),f=this.correctBits(l),m=Yt.convertBoolArrayToByteArray(f),g=Yt.getEncodedData(f),s=new ft(m,g,null,null);return s.setNumBits(f.length),s}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let o=n.length,l=_n.UPPER,f=_n.UPPER,m="",g=0;for(;g<o;)if(f===_n.BINARY){if(o-g<5)break;let s=Yt.readCode(n,g,5);if(g+=5,s===0){if(o-g<11)break;s=Yt.readCode(n,g,11)+31,g+=11}for(let d=0;d<s;d++){if(o-g<8){g=o;break}const x=Yt.readCode(n,g,8);m+=xe.castAsNonUtf8Char(x),g+=8}f=l}else{let s=f===_n.DIGIT?4:5;if(o-g<s)break;let d=Yt.readCode(n,g,s);g+=s;let x=Yt.getCharacter(f,d);x.startsWith("CTRL_")?(l=f,f=Yt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=f)):(m+=x,f=l)}return m}static getTable(n){switch(n){case"L":return _n.LOWER;case"P":return _n.PUNCT;case"M":return _n.MIXED;case"D":return _n.DIGIT;case"B":return _n.BINARY;case"U":default:return _n.UPPER}}static getCharacter(n,o){switch(n){case _n.UPPER:return Yt.UPPER_TABLE[o];case _n.LOWER:return Yt.LOWER_TABLE[o];case _n.MIXED:return Yt.MIXED_TABLE[o];case _n.PUNCT:return Yt.PUNCT_TABLE[o];case _n.DIGIT:return Yt.DIGIT_TABLE[o];default:throw new wn("Bad table")}}correctBits(n){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=mt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=mt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=mt.AZTEC_DATA_10):(l=12,o=mt.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),m=n.length/l;if(m<f)throw new V;let g=n.length%l,s=new Int32Array(m);for(let T=0;T<m;T++,g+=l)s[T]=Yt.readCode(n,g,l);try{new vr(o).decode(s,m-f)}catch(T){throw new V(T)}let d=(1<<l)-1,x=0;for(let T=0;T<f;T++){let D=s[T];if(D===0||D===d)throw new V;(D===1||D===d-1)&&x++}let w=new Array(f*l-x),S=0;for(let T=0;T<f;T++){let D=s[T];if(D===1||D===d-1)w.fill(D>1,S,S+l-1),S+=l-1;else for(let L=l-1;L>=0;--L)w[S++]=(D&1<<L)!==0}return w}extractBits(n){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,m=new Int32Array(f),g=new Array(this.totalBitsInLayer(l,o));if(o)for(let s=0;s<m.length;s++)m[s]=s;else{let s=f+1+2*H.truncDivision(H.truncDivision(f,2)-1,15),d=f/2,x=H.truncDivision(s,2);for(let w=0;w<d;w++){let S=w+H.truncDivision(w,15);m[d-w-1]=x-S-1,m[d+w]=x+S+1}}for(let s=0,d=0;s<l;s++){let x=(l-s)*4+(o?9:12),w=s*2,S=f-1-w;for(let T=0;T<x;T++){let D=T*2;for(let L=0;L<2;L++)g[d+D+L]=n.get(m[w+L],m[w+T]),g[d+2*x+D+L]=n.get(m[w+T],m[S-L]),g[d+4*x+D+L]=n.get(m[S-L],m[S-T]),g[d+6*x+D+L]=n.get(m[S-T],m[w+L])}d+=x*8}return g}static readCode(n,o,l){let f=0;for(let m=o;m<o+l;m++)f<<=1,n[m]&&(f|=1);return f}static readByte(n,o){let l=n.length-o;return l>=8?Yt.readCode(n,o,8):Yt.readCode(n,o,l)<<8-l}static convertBoolArrayToByteArray(n){let o=new Uint8Array((n.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Yt.readByte(n,8*l);return o}totalBitsInLayer(n,o){return((o?88:112)+16*n)*n}}Yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Rt{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,o,l,f){const m=n-l,g=o-f;return Math.sqrt(m*m+g*g)}static sum(n){let o=0;for(let l=0,f=n.length;l!==f;l++){const m=n[l];o+=m}return o}}class ca{static floatToIntBits(n){return n}}ca.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Qe{constructor(n,o){this.x=n,this.y=o}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Qe){const o=n;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*ca.floatToIntBits(this.x)+ca.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const o=this.distance(n[0],n[1]),l=this.distance(n[1],n[2]),f=this.distance(n[0],n[2]);let m,g,s;if(l>=o&&l>=f?(g=n[0],m=n[1],s=n[2]):f>=l&&f>=o?(g=n[1],m=n[0],s=n[2]):(g=n[2],m=n[0],s=n[1]),this.crossProductZ(m,g,s)<0){const d=m;m=s,s=d}n[0]=m,n[1]=g,n[2]=s}static distance(n,o){return Rt.distance(n.x,n.y,o.x,o.y)}static crossProductZ(n,o,l){const f=o.x,m=o.y;return(l.x-f)*(n.y-m)-(l.y-m)*(n.x-f)}}class ai{constructor(n,o){this.bits=n,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Dr extends ai{constructor(n,o,l,f,m){super(n,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=m}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Dn{constructor(n,o,l,f){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),o==null&&(o=Dn.INIT_SIZE),l==null&&(l=n.getWidth()/2|0),f==null&&(f=n.getHeight()/2|0);const m=o/2|0;if(this.leftInit=l-m,this.rightInit=l+m,this.upInit=f-m,this.downInit=f+m,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ce}detect(){let n=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,m=!1,g=!0,s=!1,d=!1,x=!1,w=!1,S=!1;const T=this.width,D=this.height;for(;g;){g=!1;let L=!0;for(;(L||!d)&&o<T;)L=this.containsBlackPoint(l,f,o,!1),L?(o++,g=!0,d=!0):d||o++;if(o>=T){m=!0;break}let z=!0;for(;(z||!x)&&f<D;)z=this.containsBlackPoint(n,o,f,!0),z?(f++,g=!0,x=!0):x||f++;if(f>=D){m=!0;break}let W=!0;for(;(W||!w)&&n>=0;)W=this.containsBlackPoint(l,f,n,!1),W?(n--,g=!0,w=!0):w||n--;if(n<0){m=!0;break}let Y=!0;for(;(Y||!S)&&l>=0;)Y=this.containsBlackPoint(n,o,l,!0),Y?(l--,g=!0,S=!0):S||l--;if(l<0){m=!0;break}g&&(s=!0)}if(!m&&s){const L=o-n;let z=null;for(let ee=1;z===null&&ee<L;ee++)z=this.getBlackPointOnSegment(n,f-ee,n+ee,f);if(z==null)throw new ce;let W=null;for(let ee=1;W===null&&ee<L;ee++)W=this.getBlackPointOnSegment(n,l+ee,n+ee,l);if(W==null)throw new ce;let Y=null;for(let ee=1;Y===null&&ee<L;ee++)Y=this.getBlackPointOnSegment(o,l+ee,o-ee,l);if(Y==null)throw new ce;let Q=null;for(let ee=1;Q===null&&ee<L;ee++)Q=this.getBlackPointOnSegment(o,f-ee,o-ee,f);if(Q==null)throw new ce;return this.centerEdges(Q,z,Y,W)}else throw new ce}getBlackPointOnSegment(n,o,l,f){const m=Rt.round(Rt.distance(n,o,l,f)),g=(l-n)/m,s=(f-o)/m,d=this.image;for(let x=0;x<m;x++){const w=Rt.round(n+x*g),S=Rt.round(o+x*s);if(d.get(w,S))return new Qe(w,S)}return null}centerEdges(n,o,l,f){const m=n.getX(),g=n.getY(),s=o.getX(),d=o.getY(),x=l.getX(),w=l.getY(),S=f.getX(),T=f.getY(),D=Dn.CORR;return m<this.width/2?[new Qe(S-D,T+D),new Qe(s+D,d+D),new Qe(x-D,w-D),new Qe(m+D,g-D)]:[new Qe(S+D,T+D),new Qe(s+D,d-D),new Qe(x-D,w+D),new Qe(m-D,g-D)]}containsBlackPoint(n,o,l,f){const m=this.image;if(f){for(let g=n;g<=o;g++)if(m.get(g,l))return!0}else for(let g=n;g<=o;g++)if(m.get(l,g))return!0;return!1}}Dn.INIT_SIZE=10,Dn.CORR=1;class Ba{static checkAndNudgePoints(n,o){const l=n.getWidth(),f=n.getHeight();let m=!0;for(let g=0;g<o.length&&m;g+=2){const s=Math.floor(o[g]),d=Math.floor(o[g+1]);if(s<-1||s>l||d<-1||d>f)throw new ce;m=!1,s===-1?(o[g]=0,m=!0):s===l&&(o[g]=l-1,m=!0),d===-1?(o[g+1]=0,m=!0):d===f&&(o[g+1]=f-1,m=!0)}m=!0;for(let g=o.length-2;g>=0&&m;g-=2){const s=Math.floor(o[g]),d=Math.floor(o[g+1]);if(s<-1||s>l||d<-1||d>f)throw new ce;m=!1,s===-1?(o[g]=0,m=!0):s===l&&(o[g]=l-1,m=!0),d===-1?(o[g+1]=0,m=!0):d===f&&(o[g+1]=f-1,m=!0)}}}class zt{constructor(n,o,l,f,m,g,s,d,x){this.a11=n,this.a21=o,this.a31=l,this.a12=f,this.a22=m,this.a32=g,this.a13=s,this.a23=d,this.a33=x}static quadrilateralToQuadrilateral(n,o,l,f,m,g,s,d,x,w,S,T,D,L,z,W){const Y=zt.quadrilateralToSquare(n,o,l,f,m,g,s,d);return zt.squareToQuadrilateral(x,w,S,T,D,L,z,W).times(Y)}transformPoints(n){const o=n.length,l=this.a11,f=this.a12,m=this.a13,g=this.a21,s=this.a22,d=this.a23,x=this.a31,w=this.a32,S=this.a33;for(let T=0;T<o;T+=2){const D=n[T],L=n[T+1],z=m*D+d*L+S;n[T]=(l*D+g*L+x)/z,n[T+1]=(f*D+s*L+w)/z}}transformPointsWithValues(n,o){const l=this.a11,f=this.a12,m=this.a13,g=this.a21,s=this.a22,d=this.a23,x=this.a31,w=this.a32,S=this.a33,T=n.length;for(let D=0;D<T;D++){const L=n[D],z=o[D],W=m*L+d*z+S;n[D]=(l*L+g*z+x)/W,o[D]=(f*L+s*z+w)/W}}static squareToQuadrilateral(n,o,l,f,m,g,s,d){const x=n-l+m-s,w=o-f+g-d;if(x===0&&w===0)return new zt(l-n,m-l,n,f-o,g-f,o,0,0,1);{const S=l-m,T=s-m,D=f-g,L=d-g,z=S*L-T*D,W=(x*L-T*w)/z,Y=(S*w-x*D)/z;return new zt(l-n+W*l,s-n+Y*s,n,f-o+W*f,d-o+Y*d,o,W,Y,1)}}static quadrilateralToSquare(n,o,l,f,m,g,s,d){return zt.squareToQuadrilateral(n,o,l,f,m,g,s,d).buildAdjoint()}buildAdjoint(){return new zt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new zt(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class br extends Ba{sampleGrid(n,o,l,f,m,g,s,d,x,w,S,T,D,L,z,W,Y,Q,ee){const $=zt.quadrilateralToQuadrilateral(f,m,g,s,d,x,w,S,T,D,L,z,W,Y,Q,ee);return this.sampleGridWithTransform(n,o,l,$)}sampleGridWithTransform(n,o,l,f){if(o<=0||l<=0)throw new ce;const m=new me(o,l),g=new Float32Array(2*o);for(let s=0;s<l;s++){const d=g.length,x=s+.5;for(let w=0;w<d;w+=2)g[w]=w/2+.5,g[w+1]=x;f.transformPoints(g),Ba.checkAndNudgePoints(n,g);try{for(let w=0;w<d;w+=2)n.get(Math.floor(g[w]),Math.floor(g[w+1]))&&m.set(w/2,s)}catch{throw new ce}}return m}}class Rr{static setGridSampler(n){Rr.gridSampler=n}static getInstance(){return Rr.gridSampler}}Rr.gridSampler=new br;class Kn{constructor(n,o){this.x=n,this.y=o}toResultPoint(){return new Qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ba{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(n){let g=l[0];l[0]=l[2],l[2]=g}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),m=this.getMatrixCornerPoints(l);return new Dr(f,m,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new ce;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(n[0],n[1],o),this.sampleLine(n[1],n[2],o),this.sampleLine(n[2],n[3],o),this.sampleLine(n[3],n[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let g=0;g<4;g++){let s=l[(this.shift+g)%4];this.compact?(f<<=7,f+=s>>1&127):(f<<=10,f+=(s>>2&992)+(s>>1&31))}let m=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(m>>6)+1,this.nbDataBlocks=(m&63)+1):(this.nbLayers=(m>>11)+1,this.nbDataBlocks=(m&2047)+1)}getRotation(n,o){let l=0;n.forEach((f,m,g)=>{let s=(f>>o-2<<1)+(f&1);l=(l<<3)+s}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(H.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ce}getCorrectedParameterData(n,o){let l,f;o?(l=7,f=2):(l=10,f=4);let m=l-f,g=new Int32Array(l);for(let d=l-1;d>=0;--d)g[d]=n&15,n>>=4;try{new vr(mt.AZTEC_PARAM).decode(g,m)}catch{throw new ce}let s=0;for(let d=0;d<f;d++)s=(s<<4)+g[d];return s}getBullsEyeCorners(n){let o=n,l=n,f=n,m=n,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(o,g,1,-1),T=this.getFirstDifferent(l,g,1,1),D=this.getFirstDifferent(f,g,-1,1),L=this.getFirstDifferent(m,g,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(L,S)*this.nbCenterLayers/(this.distancePoint(m,o)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(S,T,D,L))break}o=S,l=T,f=D,m=L,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ce;this.compact=this.nbCenterLayers===5;let s=new Qe(o.getX()+.5,o.getY()-.5),d=new Qe(l.getX()+.5,l.getY()+.5),x=new Qe(f.getX()-.5,f.getY()+.5),w=new Qe(m.getX()-.5,m.getY()-.5);return this.expandSquare([s,d,x,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,o,l,f;try{let s=new Dn(this.image).detect();n=s[0],o=s[1],l=s[2],f=s[3]}catch{let d=this.image.getWidth()/2,x=this.image.getHeight()/2;n=this.getFirstDifferent(new Kn(d+7,x-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Kn(d+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Kn(d-7,x+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Kn(d-7,x-7),!1,-1,-1).toResultPoint()}let m=Rt.round((n.getX()+f.getX()+o.getX()+l.getX())/4),g=Rt.round((n.getY()+f.getY()+o.getY()+l.getY())/4);try{let s=new Dn(this.image,15,m,g).detect();n=s[0],o=s[1],l=s[2],f=s[3]}catch{n=this.getFirstDifferent(new Kn(m+7,g-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Kn(m+7,g+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Kn(m-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Kn(m-7,g-7),!1,-1,-1).toResultPoint()}return m=Rt.round((n.getX()+f.getX()+o.getX()+l.getX())/4),g=Rt.round((n.getY()+f.getY()+o.getY()+l.getY())/4),new Kn(m,g)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,o,l,f,m){let g=Rr.getInstance(),s=this.getDimension(),d=s/2-this.nbCenterLayers,x=s/2+this.nbCenterLayers;return g.sampleGrid(n,s,s,d,d,x,d,x,x,d,x,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),m.getX(),m.getY())}sampleLine(n,o,l){let f=0,m=this.distanceResultPoint(n,o),g=m/l,s=n.getX(),d=n.getY(),x=g*(o.getX()-n.getX())/m,w=g*(o.getY()-n.getY())/m;for(let S=0;S<l;S++)this.image.get(Rt.round(s+S*x),Rt.round(d+S*w))&&(f|=1<<l-S-1);return f}isWhiteOrBlackRectangle(n,o,l,f){let m=3;n=new Kn(n.getX()-m,n.getY()+m),o=new Kn(o.getX()-m,o.getY()-m),l=new Kn(l.getX()+m,l.getY()-m),f=new Kn(f.getX()+m,f.getY()+m);let g=this.getColor(f,n);if(g===0)return!1;let s=this.getColor(n,o);return s!==g||(s=this.getColor(o,l),s!==g)?!1:(s=this.getColor(l,f),s===g)}getColor(n,o){let l=this.distancePoint(n,o),f=(o.getX()-n.getX())/l,m=(o.getY()-n.getY())/l,g=0,s=n.getX(),d=n.getY(),x=this.image.get(n.getX(),n.getY()),w=Math.ceil(l);for(let T=0;T<w;T++)s+=f,d+=m,this.image.get(Rt.round(s),Rt.round(d))!==x&&g++;let S=g/l;return S>.1&&S<.9?0:S<=.1===x?1:-1}getFirstDifferent(n,o,l,f){let m=n.getX()+l,g=n.getY()+f;for(;this.isValid(m,g)&&this.image.get(m,g)===o;)m+=l,g+=f;for(m-=l,g-=f;this.isValid(m,g)&&this.image.get(m,g)===o;)m+=l;for(m-=l;this.isValid(m,g)&&this.image.get(m,g)===o;)g+=f;return g-=f,new Kn(m,g)}expandSquare(n,o,l){let f=l/(2*o),m=n[0].getX()-n[2].getX(),g=n[0].getY()-n[2].getY(),s=(n[0].getX()+n[2].getX())/2,d=(n[0].getY()+n[2].getY())/2,x=new Qe(s+f*m,d+f*g),w=new Qe(s-f*m,d-f*g);m=n[1].getX()-n[3].getX(),g=n[1].getY()-n[3].getY(),s=(n[1].getX()+n[3].getX())/2,d=(n[1].getY()+n[3].getY())/2;let S=new Qe(s+f*m,d+f*g),T=new Qe(s-f*m,d-f*g);return[x,S,w,T]}isValid(n,o){return n>=0&&n<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(n){let o=Rt.round(n.getX()),l=Rt.round(n.getY());return this.isValid(o,l)}distancePoint(n,o){return Rt.distance(n.getX(),n.getY(),o.getX(),o.getY())}distanceResultPoint(n,o){return Rt.distance(n.getX(),n.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class La{decode(n,o=null){let l=null,f=new ba(n.getBlackMatrix()),m=null,g=null;try{let w=f.detectMirror(!1);m=w.getPoints(),this.reportFoundResultPoints(o,m),g=new Yt().decode(w)}catch(w){l=w}if(g==null)try{let w=f.detectMirror(!0);m=w.getPoints(),this.reportFoundResultPoints(o,m),g=new Yt().decode(w)}catch(w){throw l??w}let s=new Oe(g.getText(),g.getRawBytes(),g.getNumBits(),m,Le.AZTEC,P.currentTimeMillis()),d=g.getByteSegments();d!=null&&s.putMetadata(et.BYTE_SEGMENTS,d);let x=g.getECLevel();return x!=null&&s.putMetadata(et.ERROR_CORRECTION_LEVEL,x),s}reportFoundResultPoints(n,o){if(n!=null){let l=n.get(re.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,m,g)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class wa extends Ie{constructor(n=500){super(new La,n)}}class an{decode(n,o){try{return this.doDecode(n,o)}catch{if(o&&o.get(re.TRY_HARDER)===!0&&n.isRotateSupported()){const m=n.rotateCounterClockwise(),g=this.doDecode(m,o),s=g.getResultMetadata();let d=270;s!==null&&s.get(et.ORIENTATION)===!0&&(d=d+s.get(et.ORIENTATION)%360),g.putMetadata(et.ORIENTATION,d);const x=g.getResultPoints();if(x!==null){const w=m.getHeight();for(let S=0;S<x.length;S++)x[S]=new Qe(w-x[S].getY()-1,x[S].getX())}return g}else throw new ce}}reset(){}doDecode(n,o){const l=n.getWidth(),f=n.getHeight();let m=new q(l);const g=o&&o.get(re.TRY_HARDER)===!0,s=Math.max(1,f>>(g?8:5));let d;g?d=f:d=15;const x=Math.trunc(f/2);for(let w=0;w<d;w++){const S=Math.trunc((w+1)/2),T=(w&1)===0,D=x+s*(T?S:-S);if(D<0||D>=f)break;try{m=n.getBlackRow(D,m)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(m.reverse(),o&&o.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;o.forEach((W,Y)=>z.set(Y,W)),z.delete(re.NEED_RESULT_POINT_CALLBACK),o=z}try{const z=this.decodeRow(D,m,o);if(L===1){z.putMetadata(et.ORIENTATION,180);const W=z.getResultPoints();W!==null&&(W[0]=new Qe(l-W[0].getX()-1,W[0].getY()),W[1]=new Qe(l-W[1].getX()-1,W[1].getY()))}return z}catch{}}}throw new ce}static recordPattern(n,o,l){const f=l.length;for(let x=0;x<f;x++)l[x]=0;const m=n.getSize();if(o>=m)throw new ce;let g=!n.get(o),s=0,d=o;for(;d<m;){if(n.get(d)!==g)l[s]++;else{if(++s===f)break;l[s]=1,g=!g}d++}if(!(s===f||s===f-1&&d===m))throw new ce}static recordPatternInReverse(n,o,l){let f=l.length,m=n.get(o);for(;o>0&&f>=0;)n.get(--o)!==m&&(f--,m=!m);if(f>=0)throw new ce;an.recordPattern(n,o+1,l)}static patternMatchVariance(n,o,l){const f=n.length;let m=0,g=0;for(let x=0;x<f;x++)m+=n[x],g+=o[x];if(m<g)return Number.POSITIVE_INFINITY;const s=m/g;l*=s;let d=0;for(let x=0;x<f;x++){const w=n[x],S=o[x]*s,T=w>S?w-S:S-w;if(T>l)return Number.POSITIVE_INFINITY;d+=T}return d/m}}class qe extends an{static findStartPattern(n){const o=n.getSize(),l=n.getNextSet(0);let f=0,m=Int32Array.from([0,0,0,0,0,0]),g=l,s=!1;const d=6;for(let x=l;x<o;x++)if(n.get(x)!==s)m[f]++;else{if(f===d-1){let w=qe.MAX_AVG_VARIANCE,S=-1;for(let T=qe.CODE_START_A;T<=qe.CODE_START_C;T++){const D=an.patternMatchVariance(m,qe.CODE_PATTERNS[T],qe.MAX_INDIVIDUAL_VARIANCE);D<w&&(w=D,S=T)}if(S>=0&&n.isRange(Math.max(0,g-(x-g)/2),g,!1))return Int32Array.from([g,x,S]);g+=m[0]+m[1],m=m.slice(2,m.length-1),m[f-1]=0,m[f]=0,f--}else f++;m[f]=1,s=!s}throw new ce}static decodeCode(n,o,l){an.recordPattern(n,l,o);let f=qe.MAX_AVG_VARIANCE,m=-1;for(let g=0;g<qe.CODE_PATTERNS.length;g++){const s=qe.CODE_PATTERNS[g],d=this.patternMatchVariance(o,s,qe.MAX_INDIVIDUAL_VARIANCE);d<f&&(f=d,m=g)}if(m>=0)return m;throw new ce}decodeRow(n,o,l){const f=l&&l.get(re.ASSUME_GS1)===!0,m=qe.findStartPattern(o),g=m[2];let s=0;const d=new Uint8Array(20);d[s++]=g;let x;switch(g){case qe.CODE_START_A:x=qe.CODE_CODE_A;break;case qe.CODE_START_B:x=qe.CODE_CODE_B;break;case qe.CODE_START_C:x=qe.CODE_CODE_C;break;default:throw new V}let w=!1,S=!1,T="",D=m[0],L=m[1];const z=Int32Array.from([0,0,0,0,0,0]);let W=0,Y=0,Q=g,ee=0,$=!0,se=!1,oe=!1;for(;!w;){const Ge=S;switch(S=!1,W=Y,Y=qe.decodeCode(o,z,L),d[s++]=Y,Y!==qe.CODE_STOP&&($=!0),Y!==qe.CODE_STOP&&(ee++,Q+=ee*Y),D=L,L+=z.reduce((at,$e)=>at+$e,0),Y){case qe.CODE_START_A:case qe.CODE_START_B:case qe.CODE_START_C:throw new V}switch(x){case qe.CODE_CODE_A:if(Y<64)oe===se?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),oe=!1;else if(Y<96)oe===se?T+=String.fromCharCode(Y-64):T+=String.fromCharCode(Y+64),oe=!1;else switch(Y!==qe.CODE_STOP&&($=!1),Y){case qe.CODE_FNC_1:f&&(T.length===0?T+="]C1":T+="");break;case qe.CODE_FNC_2:case qe.CODE_FNC_3:break;case qe.CODE_FNC_4_A:!se&&oe?(se=!0,oe=!1):se&&oe?(se=!1,oe=!1):oe=!0;break;case qe.CODE_SHIFT:S=!0,x=qe.CODE_CODE_B;break;case qe.CODE_CODE_B:x=qe.CODE_CODE_B;break;case qe.CODE_CODE_C:x=qe.CODE_CODE_C;break;case qe.CODE_STOP:w=!0;break}break;case qe.CODE_CODE_B:if(Y<96)oe===se?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),oe=!1;else switch(Y!==qe.CODE_STOP&&($=!1),Y){case qe.CODE_FNC_1:f&&(T.length===0?T+="]C1":T+="");break;case qe.CODE_FNC_2:case qe.CODE_FNC_3:break;case qe.CODE_FNC_4_B:!se&&oe?(se=!0,oe=!1):se&&oe?(se=!1,oe=!1):oe=!0;break;case qe.CODE_SHIFT:S=!0,x=qe.CODE_CODE_A;break;case qe.CODE_CODE_A:x=qe.CODE_CODE_A;break;case qe.CODE_CODE_C:x=qe.CODE_CODE_C;break;case qe.CODE_STOP:w=!0;break}break;case qe.CODE_CODE_C:if(Y<100)Y<10&&(T+="0"),T+=Y;else switch(Y!==qe.CODE_STOP&&($=!1),Y){case qe.CODE_FNC_1:f&&(T.length===0?T+="]C1":T+="");break;case qe.CODE_CODE_A:x=qe.CODE_CODE_A;break;case qe.CODE_CODE_B:x=qe.CODE_CODE_B;break;case qe.CODE_STOP:w=!0;break}break}Ge&&(x=x===qe.CODE_CODE_A?qe.CODE_CODE_B:qe.CODE_CODE_A)}const pe=L-D;if(L=o.getNextUnset(L),!o.isRange(L,Math.min(o.getSize(),L+(L-D)/2),!1))throw new ce;if(Q-=ee*W,Q%103!==W)throw new M;const be=T.length;if(be===0)throw new ce;be>0&&$&&(x===qe.CODE_CODE_C?T=T.substring(0,be-2):T=T.substring(0,be-1));const he=(m[1]+m[0])/2,Se=D+pe/2,Pe=d.length,Ye=new Uint8Array(Pe);for(let Ge=0;Ge<Pe;Ge++)Ye[Ge]=d[Ge];const We=[new Qe(he,n),new Qe(Se,n)];return new Oe(T,Ye,0,We,Le.CODE_128,new Date().getTime())}}qe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],qe.MAX_AVG_VARIANCE=.25,qe.MAX_INDIVIDUAL_VARIANCE=.7,qe.CODE_SHIFT=98,qe.CODE_CODE_C=99,qe.CODE_CODE_B=100,qe.CODE_CODE_A=101,qe.CODE_FNC_1=102,qe.CODE_FNC_2=97,qe.CODE_FNC_3=96,qe.CODE_FNC_4_A=101,qe.CODE_FNC_4_B=100,qe.CODE_START_A=103,qe.CODE_START_B=104,qe.CODE_START_C=105,qe.CODE_STOP=106;class Gt extends an{constructor(n=!1,o=!1){super(),this.usingCheckDigit=n,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let m=Gt.findAsteriskPattern(o,f),g=o.getNextSet(m[1]),s=o.getSize(),d,x;do{Gt.recordPattern(o,g,f);let z=Gt.toNarrowWidePattern(f);if(z<0)throw new ce;d=Gt.patternToChar(z),this.decodeRowResult+=d,x=g;for(let W of f)g+=W;g=o.getNextSet(g)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let z of f)w+=z;let S=g-x-w;if(g!==s&&S*2<w)throw new ce;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,W=0;for(let Y=0;Y<z;Y++)W+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(z)!==Gt.ALPHABET_STRING.charAt(W%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new ce;let T;this.extendedMode?T=Gt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let D=(m[1]+m[0])/2,L=x+w/2;return new Oe(T,null,0,[new Qe(D,n),new Qe(L,n)],Le.CODE_39,new Date().getTime())}static findAsteriskPattern(n,o){let l=n.getSize(),f=n.getNextSet(0),m=0,g=f,s=!1,d=o.length;for(let x=f;x<l;x++)if(n.get(x)!==s)o[m]++;else{if(m===d-1){if(this.toNarrowWidePattern(o)===Gt.ASTERISK_ENCODING&&n.isRange(Math.max(0,g-Math.floor((x-g)/2)),g,!1))return[g,x];g+=o[0]+o[1],o.copyWithin(0,2,2+m-1),o[m-1]=0,o[m]=0,m--}else m++;o[m]=1,s=!s}throw new ce}static toNarrowWidePattern(n){let o=n.length,l=0,f;do{let m=2147483647;for(let d of n)d<m&&d>l&&(m=d);l=m,f=0;let g=0,s=0;for(let d=0;d<o;d++){let x=n[d];x>l&&(s|=1<<o-1-d,f++,g+=x)}if(f===3){for(let d=0;d<o&&f>0;d++){let x=n[d];if(x>l&&(f--,x*2>=g))return-1}return s}}while(f>3);return-1}static patternToChar(n){for(let o=0;o<Gt.CHARACTER_ENCODINGS.length;o++)if(Gt.CHARACTER_ENCODINGS[o]===n)return Gt.ALPHABET_STRING.charAt(o);if(n===Gt.ASTERISK_ENCODING)return"*";throw new ce}static decodeExtended(n){let o=n.length,l="";for(let f=0;f<o;f++){let m=n.charAt(f);if(m==="+"||m==="$"||m==="%"||m==="/"){let g=n.charAt(f+1),s="\0";switch(m){case"+":if(g>="A"&&g<="Z")s=String.fromCharCode(g.charCodeAt(0)+32);else throw new V;break;case"$":if(g>="A"&&g<="Z")s=String.fromCharCode(g.charCodeAt(0)-64);else throw new V;break;case"%":if(g>="A"&&g<="E")s=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")s=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")s=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")s=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")s="\0";else if(g==="V")s="@";else if(g==="W")s="`";else if(g==="X"||g==="Y"||g==="Z")s="";else throw new V;break;case"/":if(g>="A"&&g<="O")s=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")s=":";else throw new V;break}l+=s,f++}else l+=m}return l}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class He extends an{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,o,l){let f=this.decodeStart(o),m=this.decodeEnd(o),g=new Ue;He.decodeMiddle(o,f[1],m[0],g);let s=g.toString(),d=null;l!=null&&(d=l.get(re.ALLOWED_LENGTHS)),d==null&&(d=He.DEFAULT_ALLOWED_LENGTHS);let x=s.length,w=!1,S=0;for(let L of d){if(x===L){w=!0;break}L>S&&(S=L)}if(!w&&x>S&&(w=!0),!w)throw new V;const T=[new Qe(f[1],n),new Qe(m[0],n)];return new Oe(s,null,0,T,Le.ITF,new Date().getTime())}static decodeMiddle(n,o,l,f){let m=new Int32Array(10),g=new Int32Array(5),s=new Int32Array(5);for(m.fill(0),g.fill(0),s.fill(0);o<l;){an.recordPattern(n,o,m);for(let x=0;x<5;x++){let w=2*x;g[x]=m[w],s[x]=m[w+1]}let d=He.decodeDigit(g);f.append(d.toString()),d=this.decodeDigit(s),f.append(d.toString()),m.forEach(function(x){o+=x})}}decodeStart(n){let o=He.skipWhiteSpace(n),l=He.findGuardPattern(n,o,He.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(n,l[0]),l}validateQuietZone(n,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!n.get(f);f--)l--;if(l!==0)throw new ce}static skipWhiteSpace(n){const o=n.getSize(),l=n.getNextSet(0);if(l===o)throw new ce;return l}decodeEnd(n){n.reverse();try{let o=He.skipWhiteSpace(n),l;try{l=He.findGuardPattern(n,o,He.END_PATTERN_REVERSED[0])}catch(m){m instanceof ce&&(l=He.findGuardPattern(n,o,He.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,l[0]);let f=l[0];return l[0]=n.getSize()-l[1],l[1]=n.getSize()-f,l}finally{n.reverse()}}static findGuardPattern(n,o,l){let f=l.length,m=new Int32Array(f),g=n.getSize(),s=!1,d=0,x=o;m.fill(0);for(let w=o;w<g;w++)if(n.get(w)!==s)m[d]++;else{if(d===f-1){if(an.patternMatchVariance(m,l,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return[x,w];x+=m[0]+m[1],P.arraycopy(m,2,m,0,d-1),m[d-1]=0,m[d]=0,d--}else d++;m[d]=1,s=!s}throw new ce}static decodeDigit(n){let o=He.MAX_AVG_VARIANCE,l=-1,f=He.PATTERNS.length;for(let m=0;m<f;m++){let g=He.PATTERNS[m],s=an.patternMatchVariance(n,g,He.MAX_INDIVIDUAL_VARIANCE);s<o?(o=s,l=m):s===o&&(l=-1)}if(l>=0)return l%10;throw new ce}}He.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],He.MAX_AVG_VARIANCE=.38,He.MAX_INDIVIDUAL_VARIANCE=.5,He.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],He.START_PATTERN=Int32Array.from([1,1,1,1]),He.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class pn extends an{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let o=!1,l,f=0,m=Int32Array.from([0,0,0]);for(;!o;){m=Int32Array.from([0,0,0]),l=pn.findGuardPattern(n,f,!1,this.START_END_PATTERN,m);let g=l[0];f=l[1];let s=g-(f-g);s>=0&&(o=n.isRange(s,g,!1))}return l}static checkChecksum(n){return pn.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let o=n.length;if(o===0)return!1;let l=parseInt(n.charAt(o-1),10);return pn.getStandardUPCEANChecksum(n.substring(0,o-1))===l}static getStandardUPCEANChecksum(n){let o=n.length,l=0;for(let f=o-1;f>=0;f-=2){let m=n.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new V;l+=m}l*=3;for(let f=o-2;f>=0;f-=2){let m=n.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new V;l+=m}return(1e3-l)%10}static decodeEnd(n,o){return pn.findGuardPattern(n,o,!1,pn.START_END_PATTERN,new Int32Array(pn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,o,l,f){return this.findGuardPattern(n,o,l,f,new Int32Array(f.length))}static findGuardPattern(n,o,l,f,m){let g=n.getSize();o=l?n.getNextUnset(o):n.getNextSet(o);let s=0,d=o,x=f.length,w=l;for(let S=o;S<g;S++)if(n.get(S)!==w)m[s]++;else{if(s===x-1){if(an.patternMatchVariance(m,f,pn.MAX_INDIVIDUAL_VARIANCE)<pn.MAX_AVG_VARIANCE)return Int32Array.from([d,S]);d+=m[0]+m[1];let T=m.slice(2,m.length-1);for(let D=0;D<s-1;D++)m[D]=T[D];m[s-1]=0,m[s]=0,s--}else s++;m[s]=1,w=!w}throw new ce}static decodeDigit(n,o,l,f){this.recordPattern(n,l,o);let m=this.MAX_AVG_VARIANCE,g=-1,s=f.length;for(let d=0;d<s;d++){let x=f[d],w=an.patternMatchVariance(o,x,pn.MAX_INDIVIDUAL_VARIANCE);w<m&&(m=w,g=d)}if(g>=0)return g;throw new ce}}pn.MAX_AVG_VARIANCE=.48,pn.MAX_INDIVIDUAL_VARIANCE=.7,pn.START_END_PATTERN=Int32Array.from([1,1,1]),pn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),pn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,o,l){let f=this.decodeRowStringBuffer,m=this.decodeMiddle(o,l,f),g=f.toString(),s=Lr.parseExtensionString(g),d=[new Qe((l[0]+l[1])/2,n),new Qe(m,n)],x=new Oe(g,null,0,d,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&x.putAllMetadata(s),x}decodeMiddle(n,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=n.getSize(),g=o[1],s=0;for(let x=0;x<5&&g<m;x++){let w=pn.decodeDigit(n,f,g,pn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+w%10);for(let S of f)g+=S;w>=10&&(s|=1<<4-x),x!==4&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(l.length!==5)throw new ce;let d=this.determineCheckDigit(s);if(Lr.extensionChecksum(l.toString())!==d)throw new ce;return g}static extensionChecksum(n){let o=n.length,l=0;for(let f=o-2;f>=0;f-=2)l+=n.charAt(f).charCodeAt(0)-48;l*=3;for(let f=o-1;f>=0;f-=2)l+=n.charAt(f).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(n){for(let o=0;o<10;o++)if(n===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ce}static parseExtensionString(n){if(n.length!==5)return null;let o=Lr.parseExtension5String(n);return o==null?null:new Map([[et.SUGGESTED_PRICE,o]])}static parseExtension5String(n){let o;switch(n.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(n.substring(1)),f=(l/100).toString(),m=l%100,g=m<10?"0"+m:m.toString();return o+f+"."+g}}class ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,o,l){let f=this.decodeRowStringBuffer,m=this.decodeMiddle(o,l,f),g=f.toString(),s=ja.parseExtensionString(g),d=[new Qe((l[0]+l[1])/2,n),new Qe(m,n)],x=new Oe(g,null,0,d,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&x.putAllMetadata(s),x}decodeMiddle(n,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=n.getSize(),g=o[1],s=0;for(let d=0;d<2&&g<m;d++){let x=pn.decodeDigit(n,f,g,pn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+x%10);for(let w of f)g+=w;x>=10&&(s|=1<<1-d),d!==1&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(l.length!==2)throw new ce;if(parseInt(l.toString())%4!==s)throw new ce;return g}static parseExtensionString(n){return n.length!==2?null:new Map([[et.ISSUE_NUMBER,parseInt(n)]])}}class Ze{static decodeRow(n,o,l){let f=pn.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lr().decodeRow(n,o,f)}catch{return new ja().decodeRow(n,o,f)}}}Ze.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ft extends pn{constructor(){super(),this.decodeRowStringBuffer="",Ft.L_AND_G_PATTERNS=Ft.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let o=Ft.L_PATTERNS[n-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];Ft.L_AND_G_PATTERNS[n]=l}}decodeRow(n,o,l){let f=Ft.findStartGuardPattern(o),m=l==null?null:l.get(re.NEED_RESULT_POINT_CALLBACK);if(m!=null){const $=new Qe((f[0]+f[1])/2,n);m.foundPossibleResultPoint($)}let g=this.decodeMiddle(o,f,this.decodeRowStringBuffer),s=g.rowOffset,d=g.resultString;if(m!=null){const $=new Qe(s,n);m.foundPossibleResultPoint($)}let x=this.decodeEnd(o,s);if(m!=null){const $=new Qe((x[0]+x[1])/2,n);m.foundPossibleResultPoint($)}let w=x[1],S=w+(w-x[0]);if(S>=o.getSize()||!o.isRange(w,S,!1))throw new ce;let T=d.toString();if(T.length<8)throw new V;if(!Ft.checkChecksum(T))throw new M;let D=(f[1]+f[0])/2,L=(x[1]+x[0])/2,z=this.getBarcodeFormat(),W=[new Qe(D,n),new Qe(L,n)],Y=new Oe(T,null,0,W,z,new Date().getTime()),Q=0;try{let $=Ze.decodeRow(n,o,x[1]);Y.putMetadata(et.UPC_EAN_EXTENSION,$.getText()),Y.putAllMetadata($.getResultMetadata()),Y.addResultPoints($.getResultPoints()),Q=$.getText().length}catch{}let ee=l==null?null:l.get(re.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let $=!1;for(let se in ee)if(Q.toString()===se){$=!0;break}if(!$)throw new ce}return Y}decodeEnd(n,o){return Ft.findGuardPattern(n,o,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Ft.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let o=n.length;if(o===0)return!1;let l=parseInt(n.charAt(o-1),10);return Ft.getStandardUPCEANChecksum(n.substring(0,o-1))===l}static getStandardUPCEANChecksum(n){let o=n.length,l=0;for(let f=o-1;f>=0;f-=2){let m=n.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new V;l+=m}l*=3;for(let f=o-2;f>=0;f-=2){let m=n.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new V;l+=m}return(1e3-l)%10}}class Or extends Ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=n.getSize(),g=o[1],s=0;for(let x=0;x<6&&g<m;x++){let w=Ft.decodeDigit(n,f,g,Ft.L_AND_G_PATTERNS);l+=String.fromCharCode(48+w%10);for(let S of f)g+=S;w>=10&&(s|=1<<5-x)}l=Or.determineFirstDigit(l,s),g=Ft.findGuardPattern(n,g,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&g<m;x++){let w=Ft.decodeDigit(n,f,g,Ft.L_PATTERNS);l+=String.fromCharCode(48+w);for(let S of f)g+=S}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return Le.EAN_13}static determineFirstDigit(n,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return n=String.fromCharCode(48+l)+n,n;throw new ce}}Or.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class rr extends Ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=n.getSize(),g=o[1];for(let d=0;d<4&&g<m;d++){let x=Ft.decodeDigit(n,f,g,Ft.L_PATTERNS);l+=String.fromCharCode(48+x);for(let w of f)g+=w}g=Ft.findGuardPattern(n,g,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&g<m;d++){let x=Ft.decodeDigit(n,f,g,Ft.L_PATTERNS);l+=String.fromCharCode(48+x);for(let w of f)g+=w}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return Le.EAN_8}}class ii extends Ft{constructor(){super(...arguments),this.ean13Reader=new Or}getBarcodeFormat(){return Le.UPC_A}decode(n,o){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,o,l))}decodeMiddle(n,o,l){return this.ean13Reader.decodeMiddle(n,o,l)}maybeReturnResult(n){let o=n.getText();if(o.charAt(0)==="0"){let l=new Oe(o.substring(1),null,null,n.getResultPoints(),Le.UPC_A);return n.getResultMetadata()!=null&&l.putAllMetadata(n.getResultMetadata()),l}else throw new ce}reset(){this.ean13Reader.reset()}}class lt extends Ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,o,l){const f=this.decodeMiddleCounters.map(x=>x);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const m=n.getSize();let g=o[1],s=0;for(let x=0;x<6&&g<m;x++){const w=lt.decodeDigit(n,f,g,lt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+w%10);for(let S of f)g+=S;w>=10&&(s|=1<<5-x)}let d=lt.determineNumSysAndCheckDigit(l,s);return{rowOffset:g,resultString:d}}decodeEnd(n,o){return lt.findGuardPatternWithoutCounters(n,o,!0,lt.MIDDLE_END_PATTERN)}checkChecksum(n){return Ft.checkChecksum(lt.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let m=String.fromCharCode(48+l),g=String.fromCharCode(48+f);return m+n+g}throw ce.getNotFoundInstance()}getBarcodeFormat(){return Le.UPC_E}static convertUPCEtoUPCA(n){const o=n.slice(1,7).split("").map(m=>m.charCodeAt(0)),l=new Ue;l.append(n.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return n.length>=8&&l.append(n.charAt(7)),l.toString()}}lt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $t extends an{constructor(n){super();let o=n==null?null:n.get(re.POSSIBLE_FORMATS),l=[];c(o)?(l.push(new Or),l.push(new ii),l.push(new rr),l.push(new lt)):(o.indexOf(Le.EAN_13)>-1&&l.push(new Or),o.indexOf(Le.UPC_A)>-1&&l.push(new ii),o.indexOf(Le.EAN_8)>-1&&l.push(new rr),o.indexOf(Le.UPC_E)>-1&&l.push(new lt)),this.readers=l}decodeRow(n,o,l){for(let f of this.readers)try{const m=f.decodeRow(n,o,l),g=m.getBarcodeFormat()===Le.EAN_13&&m.getText().charAt(0)==="0",s=l==null?null:l.get(re.POSSIBLE_FORMATS),d=s==null||s.includes(Le.UPC_A);if(g&&d){const x=m.getRawBytes(),w=new Oe(m.getText().substring(1),x,x?x.length:null,m.getResultPoints(),Le.UPC_A);return w.putAllMetadata(m.getResultMetadata()),w}return m}catch{}throw new ce}reset(){for(let n of this.readers)n.reset()}}class Ot extends an{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,o){for(let l=0;l<o.length;l++)if(an.patternMatchVariance(n,o[l],Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return l;throw new ce}static count(n){return Rt.sum(new Int32Array(n))}static increment(n,o){let l=0,f=o[0];for(let m=1;m<n.length;m++)o[m]>f&&(f=o[m],l=m);n[l]++}static decrement(n,o){let l=0,f=o[0];for(let m=1;m<n.length;m++)o[m]<f&&(f=o[m],l=m);n[l]--}static isFinderPattern(n){let o=n[0]+n[1],l=o+n[2]+n[3],f=o/l;if(f>=Ot.MIN_FINDER_PATTERN_RATIO&&f<=Ot.MAX_FINDER_PATTERN_RATIO){let m=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let s of n)s>g&&(g=s),s<m&&(m=s);return g<10*m}return!1}}Ot.MAX_AVG_VARIANCE=.2,Ot.MAX_INDIVIDUAL_VARIANCE=.45,Ot.MIN_FINDER_PATTERN_RATIO=9.5/12,Ot.MAX_FINDER_PATTERN_RATIO=12.5/14;class Tn{constructor(n,o){this.value=n,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Tn))return!1;const o=n;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nn{constructor(n,o,l,f,m){this.value=n,this.startEnd=o,this.value=n,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Qe(l,m)),this.resultPoints.push(new Qe(f,m))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Nn))return!1;const o=n;return this.value===o.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(n,o,l){let f=0;for(let d of n)f+=d;let m=0,g=0,s=n.length;for(let d=0;d<s-1;d++){let x;for(x=1,g|=1<<d;x<n[d];x++,g&=~(1<<d)){let w=Yn.combins(f-x-1,s-d-2);if(l&&g===0&&f-x-(s-d-1)>=s-d-1&&(w-=Yn.combins(f-x-(s-d),s-d-2)),s-d-1>1){let S=0;for(let T=f-x-(s-d-2);T>o;T--)S+=Yn.combins(f-x-T-1,s-d-3);w-=S*(s-1-d)}else f-x>o&&w--;m+=w}f-=x}return m}static combins(n,o){let l,f;n-o>o?(f=o,l=n-o):(f=n-o,l=o);let m=1,g=1;for(let s=n;s>l;s--)m*=s,g<=f&&(m/=g,g++);for(;g<=f;)m/=g,g++;return m}}class jr{static buildBitArray(n){let o=n.length*2-1;n[n.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new q(l),m=0,s=n[0].getRightChar().getValue();for(let d=11;d>=0;--d)(s&1<<d)!=0&&f.set(m),m++;for(let d=1;d<n.length;++d){let x=n[d],w=x.getLeftChar().getValue();for(let S=11;S>=0;--S)(w&1<<S)!=0&&f.set(m),m++;if(x.getRightChar()!=null){let S=x.getRightChar().getValue();for(let T=11;T>=0;--T)(S&1<<T)!=0&&f.set(m),m++}}return f}}class Tt{constructor(n,o){o?this.decodedInformation=null:(this.finished=n,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class fn{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class wr extends fn{constructor(n,o){super(n),this.value=o}getValue(){return this.value}isFNC1(){return this.value===wr.FNC1}}wr.FNC1="$";class Qr extends fn{constructor(n,o,l){super(n),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Er extends fn{constructor(n,o,l){if(super(n),o<0||o>10||l<0||l>10)throw new V;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Er.FNC1}isSecondDigitFNC1(){return this.secondDigit===Er.FNC1}isAnyFNC1(){return this.firstDigit===Er.FNC1||this.secondDigit===Er.FNC1}}Er.FNC1=10;class nt{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new ce;let o=n.substring(0,2);for(let m of nt.TWO_DIGIT_DATA_LENGTH)if(m[0]===o)return m[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(2,m[2],n):nt.processFixedAI(2,m[1],n);if(n.length<3)throw new ce;let l=n.substring(0,3);for(let m of nt.THREE_DIGIT_DATA_LENGTH)if(m[0]===l)return m[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(3,m[2],n):nt.processFixedAI(3,m[1],n);for(let m of nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(m[0]===l)return m[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(4,m[2],n):nt.processFixedAI(4,m[1],n);if(n.length<4)throw new ce;let f=n.substring(0,4);for(let m of nt.FOUR_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(4,m[2],n):nt.processFixedAI(4,m[1],n);throw new ce}static processFixedAI(n,o,l){if(l.length<n)throw new ce;let f=l.substring(0,n);if(l.length<n+o)throw new ce;let m=l.substring(n,n+o),g=l.substring(n+o),s="("+f+")"+m,d=nt.parseFieldsInGeneralPurpose(g);return d==null?s:s+d}static processVariableAI(n,o,l){let f=l.substring(0,n),m;l.length<n+o?m=l.length:m=n+o;let g=l.substring(n,m),s=l.substring(m),d="("+f+")"+g,x=nt.parseFieldsInGeneralPurpose(s);return x==null?d:d+x}}nt.VARIABLE_LENGTH=[],nt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",nt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",nt.VARIABLE_LENGTH,20],["22",nt.VARIABLE_LENGTH,29],["30",nt.VARIABLE_LENGTH,8],["37",nt.VARIABLE_LENGTH,8],["90",nt.VARIABLE_LENGTH,30],["91",nt.VARIABLE_LENGTH,30],["92",nt.VARIABLE_LENGTH,30],["93",nt.VARIABLE_LENGTH,30],["94",nt.VARIABLE_LENGTH,30],["95",nt.VARIABLE_LENGTH,30],["96",nt.VARIABLE_LENGTH,30],["97",nt.VARIABLE_LENGTH,3],["98",nt.VARIABLE_LENGTH,30],["99",nt.VARIABLE_LENGTH,30]],nt.THREE_DIGIT_DATA_LENGTH=[["240",nt.VARIABLE_LENGTH,30],["241",nt.VARIABLE_LENGTH,30],["242",nt.VARIABLE_LENGTH,6],["250",nt.VARIABLE_LENGTH,30],["251",nt.VARIABLE_LENGTH,30],["253",nt.VARIABLE_LENGTH,17],["254",nt.VARIABLE_LENGTH,20],["400",nt.VARIABLE_LENGTH,30],["401",nt.VARIABLE_LENGTH,30],["402",17],["403",nt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",nt.VARIABLE_LENGTH,20],["421",nt.VARIABLE_LENGTH,15],["422",3],["423",nt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",nt.VARIABLE_LENGTH,15],["391",nt.VARIABLE_LENGTH,18],["392",nt.VARIABLE_LENGTH,15],["393",nt.VARIABLE_LENGTH,18],["703",nt.VARIABLE_LENGTH,30]],nt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",nt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",nt.VARIABLE_LENGTH,20],["8003",nt.VARIABLE_LENGTH,30],["8004",nt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",nt.VARIABLE_LENGTH,30],["8008",nt.VARIABLE_LENGTH,12],["8018",18],["8020",nt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",nt.VARIABLE_LENGTH,70],["8200",nt.VARIABLE_LENGTH,70]];class Fr{constructor(n){this.buffer=new Ue,this.information=n}decodeAllCodes(n,o){let l=o,f=null;do{let m=this.decodeGeneralPurposeField(l,f),g=nt.parseFieldsInGeneralPurpose(m.getNewString());if(g!=null&&n.append(g),m.isRemaining()?f=""+m.getRemainingValue():f=null,l===m.getNewPosition())break;l=m.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let o=n;o<n+3;++o)if(this.information.get(o))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let m=this.extractNumericValueFromBitArray(n,4);return m===0?new Er(this.information.getSize(),Er.FNC1,Er.FNC1):new Er(this.information.getSize(),m-1,Er.FNC1)}let o=this.extractNumericValueFromBitArray(n,7),l=(o-8)/11,f=(o-8)%11;return new Er(n+7,l,f)}extractNumericValueFromBitArray(n,o){return Fr.extractNumericValueFromBitArray(this.information,n,o)}static extractNumericValueFromBitArray(n,o,l){let f=0;for(let m=0;m<l;++m)n.get(o+m)&&(f|=1<<l-m-1);return f}decodeGeneralPurposeField(n,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(n);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Qr(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),n=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),n=o.isFinished()):(o=this.parseNumericBlock(),n=o.isFinished()),!(l!==this.current.getPosition())&&!n)break}while(!n);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let o;return n.isSecondDigitFNC1()?o=new Qr(this.current.getPosition(),this.buffer.toString()):o=new Qr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Tt(!0,o)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let o=new Qr(this.current.getPosition(),this.buffer.toString());return new Tt(!0,o)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Tt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let o=new Qr(this.current.getPosition(),this.buffer.toString());return new Tt(!0,o)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Tt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let o=new Qr(this.current.getPosition(),this.buffer.toString());return new Tt(!0,o)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Tt(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,5);if(o>=5&&o<16)return!0;if(n+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,7);if(l>=64&&l<116)return!0;if(n+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(n,8);return f>=232&&f<253}decodeIsoIec646(n){let o=this.extractNumericValueFromBitArray(n,5);if(o===15)return new wr(n+5,wr.FNC1);if(o>=5&&o<15)return new wr(n+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(n,7);if(l>=64&&l<90)return new wr(n+7,""+(l+1));if(l>=90&&l<116)return new wr(n+7,""+(l+7));let f=this.extractNumericValueFromBitArray(n,8),m;switch(f){case 232:m="!";break;case 233:m='"';break;case 234:m="%";break;case 235:m="&";break;case 236:m="'";break;case 237:m="(";break;case 238:m=")";break;case 239:m="*";break;case 240:m="+";break;case 241:m=",";break;case 242:m="-";break;case 243:m=".";break;case 244:m="/";break;case 245:m=":";break;case 246:m=";";break;case 247:m="<";break;case 248:m="=";break;case 249:m=">";break;case 250:m="?";break;case 251:m="_";break;case 252:m=" ";break;default:throw new V}return new wr(n+8,m)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,5);if(o>=5&&o<16)return!0;if(n+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,6);return l>=16&&l<63}decodeAlphanumeric(n){let o=this.extractNumericValueFromBitArray(n,5);if(o===15)return new wr(n+5,wr.FNC1);if(o>=5&&o<15)return new wr(n+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(n,6);if(l>=32&&l<58)return new wr(n+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new wn("Decoding invalid alphanumeric value: "+l)}return new wr(n+6,f)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let o=0;o<5&&o+n<this.information.getSize();++o)if(o===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+o))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let o=n;o<n+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let o=0;o<4&&o+n<this.information.getSize();++o)if(this.information.get(n+o))return!1;return!0}}class En{constructor(n){this.information=n,this.generalDecoder=new Fr(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jt extends En{constructor(n){super(n)}encodeCompressedGtin(n,o){n.append("(01)");let l=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,o,l)}encodeCompressedGtinWithoutAI(n,o,l){for(let f=0;f<4;++f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);m/100===0&&n.append("0"),m/10===0&&n.append("0"),n.append(m)}Jt.appendCheckDigit(n,l)}static appendCheckDigit(n,o){let l=0;for(let f=0;f<13;f++){let m=n.charAt(f+o).charCodeAt(0)-48;l+=(f&1)===0?3*m:m}l=10-l%10,l===10&&(l=0),n.append(l)}}Jt.GTIN_SIZE=40;class sr extends Jt{constructor(n){super(n)}parseInformation(){let n=new Ue;n.append("(01)");let o=n.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE,4);return n.append(l),this.encodeCompressedGtinWithoutAI(n,sr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(n,sr.HEADER_SIZE+44)}}sr.HEADER_SIZE=4;class Fa extends En{constructor(n){super(n)}parseInformation(){let n=new Ue;return this.getGeneralDecoder().decodeAllCodes(n,Fa.HEADER_SIZE)}}Fa.HEADER_SIZE=5;class Ko extends Jt{constructor(n){super(n)}encodeCompressedWeight(n,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(n,f);let m=this.checkWeight(f),g=1e5;for(let s=0;s<5;++s)m/g===0&&n.append("0"),g/=10;n.append(m)}}class mr extends Ko{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=mr.HEADER_SIZE+Ko.GTIN_SIZE+mr.WEIGHT_SIZE)throw new ce;let n=new Ue;return this.encodeCompressedGtin(n,mr.HEADER_SIZE),this.encodeCompressedWeight(n,mr.HEADER_SIZE+Ko.GTIN_SIZE,mr.WEIGHT_SIZE),n.toString()}}mr.HEADER_SIZE=5,mr.WEIGHT_SIZE=15;class Ys extends mr{constructor(n){super(n)}addWeightCode(n,o){n.append("(3103)")}checkWeight(n){return n}}class ua extends mr{constructor(n){super(n)}addWeightCode(n,o){o<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Ur extends Jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ur.HEADER_SIZE+Jt.GTIN_SIZE)throw new ce;let n=new Ue;this.encodeCompressedGtin(n,Ur.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ur.HEADER_SIZE+Jt.GTIN_SIZE,Ur.LAST_DIGIT_SIZE);n.append("(392"),n.append(o),n.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ur.HEADER_SIZE+Jt.GTIN_SIZE+Ur.LAST_DIGIT_SIZE,null);return n.append(l.getNewString()),n.toString()}}Ur.HEADER_SIZE=8,Ur.LAST_DIGIT_SIZE=2;class qn extends Jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<qn.HEADER_SIZE+Jt.GTIN_SIZE)throw new ce;let n=new Ue;this.encodeCompressedGtin(n,qn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE+Jt.GTIN_SIZE,qn.LAST_DIGIT_SIZE);n.append("(393"),n.append(o),n.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE+Jt.GTIN_SIZE+qn.LAST_DIGIT_SIZE,qn.FIRST_THREE_DIGITS_SIZE);l/100==0&&n.append("0"),l/10==0&&n.append("0"),n.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(qn.HEADER_SIZE+Jt.GTIN_SIZE+qn.LAST_DIGIT_SIZE+qn.FIRST_THREE_DIGITS_SIZE,null);return n.append(f.getNewString()),n.toString()}}qn.HEADER_SIZE=8,qn.LAST_DIGIT_SIZE=2,qn.FIRST_THREE_DIGITS_SIZE=10;class Et extends Ko{constructor(n,o,l){super(n),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new ce;let n=new Ue;return this.encodeCompressedGtin(n,Et.HEADER_SIZE),this.encodeCompressedWeight(n,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(n,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Et.DATE_SIZE);if(l==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let f=l%32;l/=32;let m=l%12+1;l/=12;let g=l;g/10==0&&n.append("0"),n.append(g),m/10==0&&n.append("0"),n.append(m),f/10==0&&n.append("0"),n.append(f)}addWeightCode(n,o){n.append("("),n.append(this.firstAIdigits),n.append(o/1e5),n.append(")")}checkWeight(n){return n%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function $r(F){try{if(F.get(1))return new sr(F);if(!F.get(2))return new Fa(F);switch(Fr.extractNumericValueFromBitArray(F,1,4)){case 4:return new Ys(F);case 5:return new ua(F)}switch(Fr.extractNumericValueFromBitArray(F,1,5)){case 12:return new Ur(F);case 13:return new qn(F)}switch(Fr.extractNumericValueFromBitArray(F,1,7)){case 56:return new Et(F,"310","11");case 57:return new Et(F,"320","11");case 58:return new Et(F,"310","13");case 59:return new Et(F,"320","13");case 60:return new Et(F,"310","15");case 61:return new Et(F,"320","15");case 62:return new Et(F,"310","17");case 63:return new Et(F,"320","17")}}catch(n){throw console.log(n),new wn("unknown decoder: "+F)}}class Wn{constructor(n,o,l,f){this.leftchar=n,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,o){return n instanceof Wn?Wn.equalsOrNull(n.leftchar,o.leftchar)&&Wn.equalsOrNull(n.rightchar,o.rightchar)&&Wn.equalsOrNull(n.finderpattern,o.finderpattern):!1}static equalsOrNull(n,o){return n===null?o===null:Wn.equals(n,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zn{constructor(n,o,l){this.pairs=n,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,o){return n instanceof Zn?this.checkEqualitity(n,o)&&n.wasReversed===o.wasReversed:!1}checkEqualitity(n,o){if(!n||!o)return;let l;return n.forEach((f,m)=>{o.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(l=!0)})}),l}}class je extends Ot{constructor(n){super(...arguments),this.pairs=new Array(je.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,o,l){this.pairs.length=0,this.startFromEven=!1;try{return je.constructResult(this.decodeRow2pairs(n,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,je.constructResult(this.decodeRow2pairs(n,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,n))}catch(m){if(m instanceof ce){if(!this.pairs.length)throw new ce;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(n,!1),f){let m=this.checkRowsBoolean(!1);if(m!=null||(m=this.checkRowsBoolean(!0),m!=null))return m}throw new ce}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return n&&(this.rows=this.rows.reverse()),o}checkRows(n,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let g of n)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!je.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let m=new Array(n);m.push(f);try{return this.checkRows(m,l+1)}catch(g){this.verbose&&console.log(g)}}throw new ce}static isValidSequence(n){for(let o of je.FINDER_PATTERN_SEQUENCES){if(n.length>o.length)continue;let l=!0;for(let f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(n,o){let l=0,f=!1,m=!1;for(;l<this.rows.length;){let g=this.rows[l];if(g.getRowNumber()>n){m=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),l++}m||f||je.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Zn(this.pairs,n,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,o){for(let l of o)if(l.getPairs().length!==n.length){for(let f of l.getPairs())for(let m of n)if(Wn.equals(f,m))break}}static isPartialRow(n,o){for(let l of o){let f=!0;for(let m of n){let g=!1;for(let s of l.getPairs())if(m.equals(s)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(n){let o=jr.buildBitArray(n),f=$r(o).parseInformation(),m=n[0].getFinderPattern().getResultPoints(),g=n[n.length-1].getFinderPattern().getResultPoints(),s=[m[0],m[1],g[0],g[1]];return new Oe(f,null,null,s,Le.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),o=n.getLeftChar(),l=n.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),m=2;for(let s=1;s<this.pairs.size();++s){let d=this.pairs.get(s);f+=d.getLeftChar().getChecksumPortion(),m++;let x=d.getRightChar();x!=null&&(f+=x.getChecksumPortion(),m++)}return f%=211,211*(m-4)+f==o.getValue()}static getNextSecondBar(n,o){let l;return n.get(o)?(l=n.getNextUnset(o),l=n.getNextSet(l)):(l=n.getNextSet(o),l=n.getNextUnset(l)),l}retrieveNextPair(n,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let m,g=!0,s=-1;do this.findNextPair(n,o,s),m=this.parseFoundFinderPattern(n,l,f),m==null?s=je.getNextSecondBar(n,this.startEnd[0]):g=!1;while(g);let d=this.decodeDataCharacter(n,m,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ce;let x;try{x=this.decodeDataCharacter(n,m,f,!1)}catch(w){x=null,this.verbose&&console.log(w)}return new Wn(d,x,m,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=n.getSize(),g;l>=0?g=l:this.isEmptyPair(o)?g=0:g=o[o.length-1].getFinderPattern().getStartEnd()[1];let s=o.length%2!=0;this.startFromEven&&(s=!s);let d=!1;for(;g<m&&(d=!n.get(g),!!d);)g++;let x=0,w=g;for(let S=g;S<m;S++)if(n.get(S)!=d)f[x]++;else{if(x==3){if(s&&je.reverseCounters(f),je.isFinderPattern(f)){this.startEnd[0]=w,this.startEnd[1]=S;return}s&&je.reverseCounters(f),w+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,x--}else x++;f[x]=1,d=!d}throw new ce}static reverseCounters(n){let o=n.length;for(let l=0;l<o/2;++l){let f=n[l];n[l]=n[o-l-1],n[o-l-1]=f}}parseFoundFinderPattern(n,o,l){let f,m,g;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!n.get(x);)x--;x++,f=this.startEnd[0]-x,m=x,g=this.startEnd[1]}else m=this.startEnd[0],g=n.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let s=this.getDecodeFinderCounters();P.arraycopy(s,0,s,1,s.length-1),s[0]=f;let d;try{d=this.parseFinderValue(s,je.FINDER_PATTERNS)}catch{return null}return new Nn(d,[m,g],m,g,o)}decodeDataCharacter(n,o,l,f){let m=this.getDataCharacterCounters();for(let Se=0;Se<m.length;Se++)m[Se]=0;if(f)je.recordPatternInReverse(n,o.getStartEnd()[0],m);else{je.recordPattern(n,o.getStartEnd()[1],m);for(let Se=0,Pe=m.length-1;Se<Pe;Se++,Pe--){let Ye=m[Se];m[Se]=m[Pe],m[Pe]=Ye}}let g=17,s=Rt.sum(new Int32Array(m))/g,d=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(s-d)/d>.3)throw new ce;let x=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let Se=0;Se<m.length;Se++){let Pe=1*m[Se]/s,Ye=Pe+.5;if(Ye<1){if(Pe<.3)throw new ce;Ye=1}else if(Ye>8){if(Pe>8.7)throw new ce;Ye=8}let We=Se/2;(Se&1)==0?(x[We]=Ye,S[We]=Pe-Ye):(w[We]=Ye,T[We]=Pe-Ye)}this.adjustOddEvenCounts(g);let D=4*o.getValue()+(l?0:2)+(f?0:1)-1,L=0,z=0;for(let Se=x.length-1;Se>=0;Se--){if(je.isNotA1left(o,l,f)){let Pe=je.WEIGHTS[D][2*Se];z+=x[Se]*Pe}L+=x[Se]}let W=0;for(let Se=w.length-1;Se>=0;Se--)if(je.isNotA1left(o,l,f)){let Pe=je.WEIGHTS[D][2*Se+1];W+=w[Se]*Pe}let Y=z+W;if((L&1)!=0||L>13||L<4)throw new ce;let Q=(13-L)/2,ee=je.SYMBOL_WIDEST[Q],$=9-ee,se=Yn.getRSSvalue(x,ee,!0),oe=Yn.getRSSvalue(w,$,!1),pe=je.EVEN_TOTAL_SUBSET[Q],be=je.GSUM[Q],he=se*pe+oe+be;return new Tn(he,Y)}static isNotA1left(n,o,l){return!(n.getValue()==0&&o&&l)}adjustOddEvenCounts(n){let o=Rt.sum(new Int32Array(this.getOddCounts())),l=Rt.sum(new Int32Array(this.getEvenCounts())),f=!1,m=!1;o>13?m=!0:o<4&&(f=!0);let g=!1,s=!1;l>13?s=!0:l<4&&(g=!0);let d=o+l-n,x=(o&1)==1,w=(l&1)==0;if(d==1)if(x){if(w)throw new ce;m=!0}else{if(!w)throw new ce;s=!0}else if(d==-1)if(x){if(w)throw new ce;f=!0}else{if(!w)throw new ce;g=!0}else if(d==0){if(x){if(!w)throw new ce;o<l?(f=!0,s=!0):(m=!0,g=!0)}else if(w)throw new ce}else throw new ce;if(f){if(m)throw new ce;je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(s)throw new ce;je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}je.SYMBOL_WIDEST=[7,5,4,3,1],je.EVEN_TOTAL_SUBSET=[4,20,52,104,204],je.GSUM=[0,348,1388,2948,3988],je.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],je.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],je.FINDER_PAT_A=0,je.FINDER_PAT_B=1,je.FINDER_PAT_C=2,je.FINDER_PAT_D=3,je.FINDER_PAT_E=4,je.FINDER_PAT_F=5,je.FINDER_PATTERN_SEQUENCES=[[je.FINDER_PAT_A,je.FINDER_PAT_A],[je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B],[je.FINDER_PAT_A,je.FINDER_PAT_C,je.FINDER_PAT_B,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_C],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F]],je.MAX_PAIRS=11;class co extends Tn{constructor(n,o,l){super(n,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dn extends Ot{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,o,l){const f=this.decodePair(o,!1,n,l);dn.addOrTally(this.possibleLeftPairs,f),o.reverse();let m=this.decodePair(o,!0,n,l);dn.addOrTally(this.possibleRightPairs,m),o.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let s of this.possibleRightPairs)if(s.getCount()>1&&dn.checkChecksum(g,s))return dn.constructResult(g,s)}throw new ce}static addOrTally(n,o){if(o==null)return;let l=!1;for(let f of n)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||n.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,o){let l=4537077*n.getValue()+o.getValue(),f=new String(l).toString(),m=new Ue;for(let x=13-f.length;x>0;x--)m.append("0");m.append(f);let g=0;for(let x=0;x<13;x++){let w=m.charAt(x).charCodeAt(0)-48;g+=(x&1)===0?3*w:w}g=10-g%10,g===10&&(g=0),m.append(g.toString());let s=n.getFinderPattern().getResultPoints(),d=o.getFinderPattern().getResultPoints();return new Oe(m.toString(),null,0,[s[0],s[1],d[0],d[1]],Le.RSS_14,new Date().getTime())}static checkChecksum(n,o){let l=(n.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*n.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(n,o,l,f){try{let m=this.findFinderPattern(n,o),g=this.parseFoundFinderPattern(n,l,o,m),s=f==null?null:f.get(re.NEED_RESULT_POINT_CALLBACK);if(s!=null){let w=(m[0]+m[1])/2;o&&(w=n.getSize()-1-w),s.foundPossibleResultPoint(new Qe(w,l))}let d=this.decodeDataCharacter(n,g,!0),x=this.decodeDataCharacter(n,g,!1);return new co(1597*d.getValue()+x.getValue(),d.getChecksumPortion()+4*x.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(n,o,l){let f=this.getDataCharacterCounters();for(let W=0;W<f.length;W++)f[W]=0;if(l)an.recordPatternInReverse(n,o.getStartEnd()[0],f);else{an.recordPattern(n,o.getStartEnd()[1]+1,f);for(let W=0,Y=f.length-1;W<Y;W++,Y--){let Q=f[W];f[W]=f[Y],f[Y]=Q}}let m=l?16:15,g=Rt.sum(new Int32Array(f))/m,s=this.getOddCounts(),d=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let W=0;W<f.length;W++){let Y=f[W]/g,Q=Math.floor(Y+.5);Q<1?Q=1:Q>8&&(Q=8);let ee=Math.floor(W/2);(W&1)===0?(s[ee]=Q,x[ee]=Y-Q):(d[ee]=Q,w[ee]=Y-Q)}this.adjustOddEvenCounts(l,m);let S=0,T=0;for(let W=s.length-1;W>=0;W--)T*=9,T+=s[W],S+=s[W];let D=0,L=0;for(let W=d.length-1;W>=0;W--)D*=9,D+=d[W],L+=d[W];let z=T+3*D;if(l){if((S&1)!==0||S>12||S<4)throw new ce;let W=(12-S)/2,Y=dn.OUTSIDE_ODD_WIDEST[W],Q=9-Y,ee=Yn.getRSSvalue(s,Y,!1),$=Yn.getRSSvalue(d,Q,!0),se=dn.OUTSIDE_EVEN_TOTAL_SUBSET[W],oe=dn.OUTSIDE_GSUM[W];return new Tn(ee*se+$+oe,z)}else{if((L&1)!==0||L>10||L<4)throw new ce;let W=(10-L)/2,Y=dn.INSIDE_ODD_WIDEST[W],Q=9-Y,ee=Yn.getRSSvalue(s,Y,!0),$=Yn.getRSSvalue(d,Q,!1),se=dn.INSIDE_ODD_TOTAL_SUBSET[W],oe=dn.INSIDE_GSUM[W];return new Tn($*se+ee+oe,z)}}findFinderPattern(n,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=n.getSize(),m=!1,g=0;for(;g<f&&(m=!n.get(g),o!==m);)g++;let s=0,d=g;for(let x=g;x<f;x++)if(n.get(x)!==m)l[s]++;else{if(s===3){if(Ot.isFinderPattern(l))return[d,x];d+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,s--}else s++;l[s]=1,m=!m}throw new ce}parseFoundFinderPattern(n,o,l,f){let m=n.get(f[0]),g=f[0]-1;for(;g>=0&&m!==n.get(g);)g--;g++;const s=f[0]-g,d=this.getDecodeFinderCounters(),x=new Int32Array(d.length);P.arraycopy(d,0,x,1,d.length-1),x[0]=s;const w=this.parseFinderValue(x,dn.FINDER_PATTERNS);let S=g,T=f[1];return l&&(S=n.getSize()-1-S,T=n.getSize()-1-T),new Nn(w,[g,f[1]],S,T,o)}adjustOddEvenCounts(n,o){let l=Rt.sum(new Int32Array(this.getOddCounts())),f=Rt.sum(new Int32Array(this.getEvenCounts())),m=!1,g=!1,s=!1,d=!1;n?(l>12?g=!0:l<4&&(m=!0),f>12?d=!0:f<4&&(s=!0)):(l>11?g=!0:l<5&&(m=!0),f>10?d=!0:f<4&&(s=!0));let x=l+f-o,w=(l&1)===(n?1:0),S=(f&1)===1;if(x===1)if(w){if(S)throw new ce;g=!0}else{if(!S)throw new ce;d=!0}else if(x===-1)if(w){if(S)throw new ce;m=!0}else{if(!S)throw new ce;s=!0}else if(x===0){if(w){if(!S)throw new ce;l<f?(m=!0,d=!0):(g=!0,s=!0)}else if(S)throw new ce}else throw new ce;if(m){if(g)throw new ce;Ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(d)throw new ce;Ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dn.OUTSIDE_GSUM=[0,161,961,2015,2715],dn.INSIDE_GSUM=[0,336,1036,1516],dn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dn.INSIDE_ODD_WIDEST=[2,4,6,8],dn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zr extends an{constructor(n,o){super(),this.readers=[],this.verbose=o===!0;const l=n?n.get(re.POSSIBLE_FORMATS):null,f=n&&n.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Le.EAN_13)||l.includes(Le.UPC_A)||l.includes(Le.EAN_8)||l.includes(Le.UPC_E))&&this.readers.push(new $t(n)),l.includes(Le.CODE_39)&&this.readers.push(new Gt(f)),l.includes(Le.CODE_128)&&this.readers.push(new qe),l.includes(Le.ITF)&&this.readers.push(new He),l.includes(Le.RSS_14)&&this.readers.push(new dn),l.includes(Le.RSS_EXPANDED)&&this.readers.push(new je(this.verbose))):(this.readers.push(new $t(n)),this.readers.push(new Gt),this.readers.push(new $t(n)),this.readers.push(new qe),this.readers.push(new He),this.readers.push(new dn),this.readers.push(new je(this.verbose)))}decodeRow(n,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(n,o,l)}catch{}throw new ce}reset(){this.readers.forEach(n=>n.reset())}}class vi extends Ie{constructor(n=500,o){super(new zr(o),n,o)}}class en{constructor(n,o,l){this.ecCodewords=n,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xt{constructor(n,o){this.count=n,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(n,o,l,f,m,g){this.versionNumber=n,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=m,this.ecBlocks=g;let s=0;const d=g.getECCodewords(),x=g.getECBlocks();for(let w of x)s+=w.getCount()*(w.getDataCodewords()+d);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,o){if((n&1)!==0||(o&1)!==0)throw new V;for(let l of qt.VERSIONS)if(l.symbolSizeRows===n&&l.symbolSizeColumns===o)return l;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new qt(1,10,10,8,8,new en(5,new Xt(1,3))),new qt(2,12,12,10,10,new en(7,new Xt(1,5))),new qt(3,14,14,12,12,new en(10,new Xt(1,8))),new qt(4,16,16,14,14,new en(12,new Xt(1,12))),new qt(5,18,18,16,16,new en(14,new Xt(1,18))),new qt(6,20,20,18,18,new en(18,new Xt(1,22))),new qt(7,22,22,20,20,new en(20,new Xt(1,30))),new qt(8,24,24,22,22,new en(24,new Xt(1,36))),new qt(9,26,26,24,24,new en(28,new Xt(1,44))),new qt(10,32,32,14,14,new en(36,new Xt(1,62))),new qt(11,36,36,16,16,new en(42,new Xt(1,86))),new qt(12,40,40,18,18,new en(48,new Xt(1,114))),new qt(13,44,44,20,20,new en(56,new Xt(1,144))),new qt(14,48,48,22,22,new en(68,new Xt(1,174))),new qt(15,52,52,24,24,new en(42,new Xt(2,102))),new qt(16,64,64,14,14,new en(56,new Xt(2,140))),new qt(17,72,72,16,16,new en(36,new Xt(4,92))),new qt(18,80,80,18,18,new en(48,new Xt(4,114))),new qt(19,88,88,20,20,new en(56,new Xt(4,144))),new qt(20,96,96,22,22,new en(68,new Xt(4,174))),new qt(21,104,104,24,24,new en(56,new Xt(6,136))),new qt(22,120,120,18,18,new en(68,new Xt(6,175))),new qt(23,132,132,20,20,new en(62,new Xt(8,163))),new qt(24,144,144,22,22,new en(62,new Xt(8,156),new Xt(2,155))),new qt(25,8,18,6,16,new en(7,new Xt(1,5))),new qt(26,8,32,6,14,new en(11,new Xt(1,10))),new qt(27,12,26,10,24,new en(14,new Xt(1,16))),new qt(28,12,36,10,16,new en(18,new Xt(1,22))),new qt(29,16,36,14,16,new en(24,new Xt(1,32))),new qt(30,16,48,14,22,new en(28,new Xt(1,49)))]}}qt.VERSIONS=qt.buildVersions();class Pt{constructor(n){const o=n.getHeight();if(o<8||o>144||(o&1)!==0)throw new V;this.version=Pt.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const o=n.getHeight(),l=n.getWidth();return qt.getVersionForDimensions(o,l)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const m=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let s=!1,d=!1,x=!1,w=!1;do if(l===m&&f===0&&!s)n[o++]=this.readCorner1(m,g)&255,l-=2,f+=2,s=!0;else if(l===m-2&&f===0&&(g&3)!==0&&!d)n[o++]=this.readCorner2(m,g)&255,l-=2,f+=2,d=!0;else if(l===m+4&&f===2&&(g&7)===0&&!x)n[o++]=this.readCorner3(m,g)&255,l-=2,f+=2,x=!0;else if(l===m-2&&f===0&&(g&7)===4&&!w)n[o++]=this.readCorner4(m,g)&255,l-=2,f+=2,w=!0;else{do l<m&&f>=0&&!this.readMappingMatrix.get(f,l)&&(n[o++]=this.readUtah(l,f,m,g)&255),l-=2,f+=2;while(l>=0&&f<g);l+=1,f+=3;do l>=0&&f<g&&!this.readMappingMatrix.get(f,l)&&(n[o++]=this.readUtah(l,f,m,g)&255),l+=2,f-=2;while(l<m&&f>=0);l+=3,f+=1}while(l<m||f<g);if(o!==this.version.getTotalCodewords())throw new V;return n}readModule(n,o,l,f){return n<0&&(n+=l,o+=4-(l+4&7)),o<0&&(o+=f,n+=4-(f+4&7)),this.readMappingMatrix.set(o,n),this.mappingBitMatrix.get(o,n)}readUtah(n,o,l,f){let m=0;return this.readModule(n-2,o-2,l,f)&&(m|=1),m<<=1,this.readModule(n-2,o-1,l,f)&&(m|=1),m<<=1,this.readModule(n-1,o-2,l,f)&&(m|=1),m<<=1,this.readModule(n-1,o-1,l,f)&&(m|=1),m<<=1,this.readModule(n-1,o,l,f)&&(m|=1),m<<=1,this.readModule(n,o-2,l,f)&&(m|=1),m<<=1,this.readModule(n,o-1,l,f)&&(m|=1),m<<=1,this.readModule(n,o,l,f)&&(m|=1),m}readCorner1(n,o){let l=0;return this.readModule(n-1,0,n,o)&&(l|=1),l<<=1,this.readModule(n-1,1,n,o)&&(l|=1),l<<=1,this.readModule(n-1,2,n,o)&&(l|=1),l<<=1,this.readModule(0,o-2,n,o)&&(l|=1),l<<=1,this.readModule(0,o-1,n,o)&&(l|=1),l<<=1,this.readModule(1,o-1,n,o)&&(l|=1),l<<=1,this.readModule(2,o-1,n,o)&&(l|=1),l<<=1,this.readModule(3,o-1,n,o)&&(l|=1),l}readCorner2(n,o){let l=0;return this.readModule(n-3,0,n,o)&&(l|=1),l<<=1,this.readModule(n-2,0,n,o)&&(l|=1),l<<=1,this.readModule(n-1,0,n,o)&&(l|=1),l<<=1,this.readModule(0,o-4,n,o)&&(l|=1),l<<=1,this.readModule(0,o-3,n,o)&&(l|=1),l<<=1,this.readModule(0,o-2,n,o)&&(l|=1),l<<=1,this.readModule(0,o-1,n,o)&&(l|=1),l<<=1,this.readModule(1,o-1,n,o)&&(l|=1),l}readCorner3(n,o){let l=0;return this.readModule(n-1,0,n,o)&&(l|=1),l<<=1,this.readModule(n-1,o-1,n,o)&&(l|=1),l<<=1,this.readModule(0,o-3,n,o)&&(l|=1),l<<=1,this.readModule(0,o-2,n,o)&&(l|=1),l<<=1,this.readModule(0,o-1,n,o)&&(l|=1),l<<=1,this.readModule(1,o-3,n,o)&&(l|=1),l<<=1,this.readModule(1,o-2,n,o)&&(l|=1),l<<=1,this.readModule(1,o-1,n,o)&&(l|=1),l}readCorner4(n,o){let l=0;return this.readModule(n-3,0,n,o)&&(l|=1),l<<=1,this.readModule(n-2,0,n,o)&&(l|=1),l<<=1,this.readModule(n-1,0,n,o)&&(l|=1),l<<=1,this.readModule(0,o-2,n,o)&&(l|=1),l<<=1,this.readModule(0,o-1,n,o)&&(l|=1),l<<=1,this.readModule(1,o-1,n,o)&&(l|=1),l<<=1,this.readModule(2,o-1,n,o)&&(l|=1),l<<=1,this.readModule(3,o-1,n,o)&&(l|=1),l}extractDataRegion(n){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(n.getHeight()!==o)throw new N("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),m=this.version.getDataRegionSizeColumns(),g=o/f|0,s=l/m|0,d=g*f,x=s*m,w=new me(x,d);for(let S=0;S<g;++S){const T=S*f;for(let D=0;D<s;++D){const L=D*m;for(let z=0;z<f;++z){const W=S*(f+2)+1+z,Y=T+z;for(let Q=0;Q<m;++Q){const ee=D*(m+2)+1+Q;if(n.get(ee,W)){const $=L+Q;w.set($,Y)}}}}}return w}}class bi{constructor(n,o){this.numDataCodewords=n,this.codewords=o}static getDataBlocks(n,o){const l=o.getECBlocks();let f=0;const m=l.getECBlocks();for(let z of m)f+=z.getCount();const g=new Array(f);let s=0;for(let z of m)for(let W=0;W<z.getCount();W++){const Y=z.getDataCodewords(),Q=l.getECCodewords()+Y;g[s++]=new bi(Y,new Uint8Array(Q))}const x=g[0].codewords.length-l.getECCodewords(),w=x-1;let S=0;for(let z=0;z<w;z++)for(let W=0;W<s;W++)g[W].codewords[z]=n[S++];const T=o.getVersionNumber()===24,D=T?8:s;for(let z=0;z<D;z++)g[z].codewords[x-1]=n[S++];const L=g[0].codewords.length;for(let z=x;z<L;z++)for(let W=0;W<s;W++){const Y=T?(W+8)%s:W,Q=T&&Y>7?z-1:z;g[Y].codewords[Q]=n[S++]}if(S!==n.length)throw new N;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jr{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new N(""+n);let o=0,l=this.bitOffset,f=this.byteOffset;const m=this.bytes;if(l>0){const g=8-l,s=n<g?n:g,d=g-s,x=255>>8-s<<d;o=(m[f]&x)>>d,n-=s,l+=s,l===8&&(l=0,f++)}if(n>0){for(;n>=8;)o=o<<8|m[f]&255,f++,n-=8;if(n>0){const g=8-n,s=255>>g<<g;o=o<<n|(m[f]&s)>>g,l+=n}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Wt;(function(F){F[F.PAD_ENCODE=0]="PAD_ENCODE",F[F.ASCII_ENCODE=1]="ASCII_ENCODE",F[F.C40_ENCODE=2]="C40_ENCODE",F[F.TEXT_ENCODE=3]="TEXT_ENCODE",F[F.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",F[F.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",F[F.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wt||(Wt={}));class Vr{static decode(n){const o=new Jr(n),l=new Ue,f=new Ue,m=new Array;let g=Wt.ASCII_ENCODE;do if(g===Wt.ASCII_ENCODE)g=this.decodeAsciiSegment(o,l,f);else{switch(g){case Wt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Wt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Wt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Wt.BASE256_ENCODE:this.decodeBase256Segment(o,l,m);break;default:throw new V}g=Wt.ASCII_ENCODE}while(g!==Wt.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new ft(n,l.toString(),m.length===0?null:m,null)}static decodeAsciiSegment(n,o,l){let f=!1;do{let m=n.readBits(8);if(m===0)throw new V;if(m<=128)return f&&(m+=128),o.append(String.fromCharCode(m-1)),Wt.ASCII_ENCODE;if(m===129)return Wt.PAD_ENCODE;if(m<=229){const g=m-130;g<10&&o.append("0"),o.append(""+g)}else switch(m){case 230:return Wt.C40_ENCODE;case 231:return Wt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Wt.ANSIX12_ENCODE;case 239:return Wt.TEXT_ENCODE;case 240:return Wt.EDIFACT_ENCODE;case 241:break;default:if(m!==254||n.available()!==0)throw new V;break}}while(n.available()>0);return Wt.ASCII_ENCODE}static decodeC40Segment(n,o){let l=!1;const f=[];let m=0;do{if(n.available()===8)return;const g=n.readBits(8);if(g===254)return;this.parseTwoBytes(g,n.readBits(8),f);for(let s=0;s<3;s++){const d=f[s];switch(m){case 0:if(d<3)m=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[d];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else throw new V;break;case 1:l?(o.append(String.fromCharCode(d+128)),l=!1):o.append(String.fromCharCode(d)),m=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[d];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else switch(d){case 27:o.append("");break;case 30:l=!0;break;default:throw new V}m=0;break;case 3:l?(o.append(String.fromCharCode(d+224)),l=!1):o.append(String.fromCharCode(d+96)),m=0;break;default:throw new V}}}while(n.available()>0)}static decodeTextSegment(n,o){let l=!1,f=[],m=0;do{if(n.available()===8)return;const g=n.readBits(8);if(g===254)return;this.parseTwoBytes(g,n.readBits(8),f);for(let s=0;s<3;s++){const d=f[s];switch(m){case 0:if(d<3)m=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[d];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else throw new V;break;case 1:l?(o.append(String.fromCharCode(d+128)),l=!1):o.append(String.fromCharCode(d)),m=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[d];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x)}else switch(d){case 27:o.append("");break;case 30:l=!0;break;default:throw new V}m=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[d];l?(o.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):o.append(x),m=0}else throw new V;break;default:throw new V}}}while(n.available()>0)}static decodeAnsiX12Segment(n,o){const l=[];do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let m=0;m<3;m++){const g=l[m];switch(g){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(g<14)o.append(String.fromCharCode(g+44));else if(g<40)o.append(String.fromCharCode(g+51));else throw new V;break}}}while(n.available()>0)}static parseTwoBytes(n,o,l){let f=(n<<8)+o-1,m=Math.floor(f/1600);l[0]=m,f-=m*1600,m=Math.floor(f/40),l[1]=m,l[2]=f-m*40}static decodeEdifactSegment(n,o){do{if(n.available()<=16)return;for(let l=0;l<4;l++){let f=n.readBits(6);if(f===31){const m=8-n.getBitOffset();m!==8&&n.readBits(m);return}(f&32)===0&&(f|=64),o.append(String.fromCharCode(f))}}while(n.available()>0)}static decodeBase256Segment(n,o,l){let f=1+n.getByteOffset();const m=this.unrandomize255State(n.readBits(8),f++);let g;if(m===0?g=n.available()/8|0:m<250?g=m:g=250*(m-249)+this.unrandomize255State(n.readBits(8),f++),g<0)throw new V;const s=new Uint8Array(g);for(let d=0;d<g;d++){if(n.available()<8)throw new V;s[d]=this.unrandomize255State(n.readBits(8),f++)}l.push(s);try{o.append(Re.decode(s,xe.ISO88591))}catch(d){throw new wn("Platform does not support required encoding: "+d.message)}}static unrandomize255State(n,o){const l=149*o%255+1,f=n-l;return f>=0?f:f+256}}Vr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vr.TEXT_SHIFT2_SET_CHARS=Vr.C40_SHIFT2_SET_CHARS,Vr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ll{constructor(){this.rsDecoder=new vr(mt.DATA_MATRIX_FIELD_256)}decode(n){const o=new Pt(n),l=o.getVersion(),f=o.readCodewords(),m=bi.getDataBlocks(f,l);let g=0;for(let x of m)g+=x.getNumDataCodewords();const s=new Uint8Array(g),d=m.length;for(let x=0;x<d;x++){const w=m[x],S=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(S,T);for(let D=0;D<T;D++)s[D*d+x]=S[D]}return Vr.decode(s)}correctErrors(n,o){const l=new Int32Array(n);try{this.rsDecoder.decode(l,n.length-o)}catch{throw new M}for(let f=0;f<o;f++)n[f]=l[f]}}class Pn{constructor(n){this.image=n,this.rectangleDetector=new Dn(this.image)}detect(){const n=this.rectangleDetector.detect();let o=this.detectSolid1(n);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ce;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],m=o[2],g=o[3];let s=this.transitionsBetween(l,g)+1,d=this.transitionsBetween(m,g)+1;(s&1)===1&&(s+=1),(d&1)===1&&(d+=1),4*s<7*d&&4*d<7*s&&(s=d=Math.max(s,d));let x=Pn.sampleGrid(this.image,l,f,m,g,s,d);return new ai(x,[l,f,m,g])}static shiftPoint(n,o,l){let f=(o.getX()-n.getX())/(l+1),m=(o.getY()-n.getY())/(l+1);return new Qe(n.getX()+f,n.getY()+m)}static moveAway(n,o,l){let f=n.getX(),m=n.getY();return f<o?f-=1:f+=1,m<l?m-=1:m+=1,new Qe(f,m)}detectSolid1(n){let o=n[0],l=n[1],f=n[3],m=n[2],g=this.transitionsBetween(o,l),s=this.transitionsBetween(l,f),d=this.transitionsBetween(f,m),x=this.transitionsBetween(m,o),w=g,S=[m,o,l,f];return w>s&&(w=s,S[0]=o,S[1]=l,S[2]=f,S[3]=m),w>d&&(w=d,S[0]=l,S[1]=f,S[2]=m,S[3]=o),w>x&&(S[0]=f,S[1]=m,S[2]=o,S[3]=l),S}detectSolid2(n){let o=n[0],l=n[1],f=n[2],m=n[3],g=this.transitionsBetween(o,m),s=Pn.shiftPoint(l,f,(g+1)*4),d=Pn.shiftPoint(f,l,(g+1)*4),x=this.transitionsBetween(s,o),w=this.transitionsBetween(d,m);return x<w?(n[0]=o,n[1]=l,n[2]=f,n[3]=m):(n[0]=l,n[1]=f,n[2]=m,n[3]=o),n}correctTopRight(n){let o=n[0],l=n[1],f=n[2],m=n[3],g=this.transitionsBetween(o,m),s=this.transitionsBetween(l,m),d=Pn.shiftPoint(o,l,(s+1)*4),x=Pn.shiftPoint(f,l,(g+1)*4);g=this.transitionsBetween(d,m),s=this.transitionsBetween(x,m);let w=new Qe(m.getX()+(f.getX()-l.getX())/(g+1),m.getY()+(f.getY()-l.getY())/(g+1)),S=new Qe(m.getX()+(o.getX()-l.getX())/(s+1),m.getY()+(o.getY()-l.getY())/(s+1));if(!this.isValid(w))return this.isValid(S)?S:null;if(!this.isValid(S))return w;let T=this.transitionsBetween(d,w)+this.transitionsBetween(x,w),D=this.transitionsBetween(d,S)+this.transitionsBetween(x,S);return T>D?w:S}shiftToModuleCenter(n){let o=n[0],l=n[1],f=n[2],m=n[3],g=this.transitionsBetween(o,m)+1,s=this.transitionsBetween(f,m)+1,d=Pn.shiftPoint(o,l,s*4),x=Pn.shiftPoint(f,l,g*4);g=this.transitionsBetween(d,m)+1,s=this.transitionsBetween(x,m)+1,(g&1)===1&&(g+=1),(s&1)===1&&(s+=1);let w=(o.getX()+l.getX()+f.getX()+m.getX())/4,S=(o.getY()+l.getY()+f.getY()+m.getY())/4;o=Pn.moveAway(o,w,S),l=Pn.moveAway(l,w,S),f=Pn.moveAway(f,w,S),m=Pn.moveAway(m,w,S);let T,D;return d=Pn.shiftPoint(o,l,s*4),d=Pn.shiftPoint(d,m,g*4),T=Pn.shiftPoint(l,o,s*4),T=Pn.shiftPoint(T,f,g*4),x=Pn.shiftPoint(f,m,s*4),x=Pn.shiftPoint(x,l,g*4),D=Pn.shiftPoint(m,f,s*4),D=Pn.shiftPoint(D,o,g*4),[d,T,x,D]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,o,l,f,m,g,s){return Rr.getInstance().sampleGrid(n,g,s,.5,.5,g-.5,.5,g-.5,s-.5,.5,s-.5,o.getX(),o.getY(),m.getX(),m.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(n,o){let l=Math.trunc(n.getX()),f=Math.trunc(n.getY()),m=Math.trunc(o.getX()),g=Math.trunc(o.getY()),s=Math.abs(g-f)>Math.abs(m-l);if(s){let z=l;l=f,f=z,z=m,m=g,g=z}let d=Math.abs(m-l),x=Math.abs(g-f),w=-d/2,S=f<g?1:-1,T=l<m?1:-1,D=0,L=this.image.get(s?f:l,s?l:f);for(let z=l,W=f;z!==m;z+=T){let Y=this.image.get(s?W:z,s?z:W);if(Y!==L&&(D++,L=Y),w+=x,w>0){if(W===g)break;W+=S,w-=d}}return D}}class Ea{constructor(){this.decoder=new Ll}decode(n,o=null){let l,f;if(o!=null&&o.has(re.PURE_BARCODE)){const x=Ea.extractPureBits(n.getBlackMatrix());l=this.decoder.decode(x),f=Ea.NO_POINTS}else{const x=new Pn(n.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),f=x.getPoints()}const m=l.getRawBytes(),g=new Oe(l.getText(),m,8*m.length,f,Le.DATA_MATRIX,P.currentTimeMillis()),s=l.getByteSegments();s!=null&&g.putMetadata(et.BYTE_SEGMENTS,s);const d=l.getECLevel();return d!=null&&g.putMetadata(et.ERROR_CORRECTION_LEVEL,d),g}reset(){}static extractPureBits(n){const o=n.getTopLeftOnBit(),l=n.getBottomRightOnBit();if(o==null||l==null)throw new ce;const f=this.moduleSize(o,n);let m=o[1];const g=l[1];let s=o[0];const x=(l[0]-s+1)/f,w=(g-m+1)/f;if(x<=0||w<=0)throw new ce;const S=f/2;m+=S,s+=S;const T=new me(x,w);for(let D=0;D<w;D++){const L=m+D*f;for(let z=0;z<x;z++)n.get(s+z*f,L)&&T.set(z,D)}return T}static moduleSize(n,o){const l=o.getWidth();let f=n[0];const m=n[1];for(;f<l&&o.get(f,m);)f++;if(f===l)throw new ce;const g=f-n[0];if(g===0)throw new ce;return g}}Ea.NO_POINTS=[];class hn extends Ie{constructor(n=500){super(new Ea,n)}}var Ca;(function(F){F[F.L=0]="L",F[F.M=1]="M",F[F.Q=2]="Q",F[F.H=3]="H"})(Ca||(Ca={}));class Mt{constructor(n,o,l){this.value=n,this.stringValue=o,this.bits=l,Mt.FOR_BITS.set(l,this),Mt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new I(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Mt))return!1;const o=n;return this.value===o.value}static forBits(n){if(n<0||n>=Mt.FOR_BITS.size)throw new N;return Mt.FOR_BITS.get(n)}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.L=new Mt(Ca.L,"L",1),Mt.M=new Mt(Ca.M,"M",0),Mt.Q=new Mt(Ca.Q,"Q",3),Mt.H=new Mt(Ca.H,"H",2);class Un{constructor(n){this.errorCorrectionLevel=Mt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,o){return H.bitCount(n^o)}static decodeFormatInformation(n,o){const l=Un.doDecodeFormatInformation(n,o);return l!==null?l:Un.doDecodeFormatInformation(n^Un.FORMAT_INFO_MASK_QR,o^Un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const m of Un.FORMAT_INFO_DECODE_LOOKUP){const g=m[0];if(g===n||g===o)return new Un(m[1]);let s=Un.numBitsDiffering(n,g);s<l&&(f=m[1],l=s),n!==o&&(s=Un.numBitsDiffering(o,g),s<l&&(f=m[1],l=s))}return l<=3?new Un(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Un))return!1;const o=n;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Un.FORMAT_INFO_MASK_QR=21522,Un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ve{constructor(n,...o){this.ecCodewordsPerBlock=n,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const o=this.ecBlocks;for(const l of o)n+=l.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class J{constructor(n,o){this.count=n,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(n,o,...l){this.versionNumber=n,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const m=l[0].getECCodewordsPerBlock(),g=l[0].getECBlocks();for(const s of g)f+=s.getCount()*(s.getDataCodewords()+m);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new V;try{return this.getVersionForNumber((n-17)/4)}catch{throw new V}}static getVersionForNumber(n){if(n<1||n>40)throw new N;return ot.VERSIONS[n-1]}static decodeVersionInformation(n){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<ot.VERSION_DECODE_INFO.length;f++){const m=ot.VERSION_DECODE_INFO[f];if(m===n)return ot.getVersionForNumber(f+7);const g=Un.numBitsDiffering(n,m);g<o&&(l=f+7,o=g)}return o<=3?ot.getVersionForNumber(l):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),o=new me(n);o.setRegion(0,0,9,9),o.setRegion(n-8,0,8,9),o.setRegion(0,n-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const m=this.alignmentPatternCenters[f]-2;for(let g=0;g<l;g++)f===0&&(g===0||g===l-1)||f===l-1&&g===0||o.setRegion(this.alignmentPatternCenters[g]-2,m,5,5)}return o.setRegion(6,9,1,n-17),o.setRegion(9,6,n-17,1),this.versionNumber>6&&(o.setRegion(n-11,0,3,6),o.setRegion(0,n-11,6,3)),o}toString(){return""+this.versionNumber}}ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ot.VERSIONS=[new ot(1,new Int32Array(0),new ve(7,new J(1,19)),new ve(10,new J(1,16)),new ve(13,new J(1,13)),new ve(17,new J(1,9))),new ot(2,Int32Array.from([6,18]),new ve(10,new J(1,34)),new ve(16,new J(1,28)),new ve(22,new J(1,22)),new ve(28,new J(1,16))),new ot(3,Int32Array.from([6,22]),new ve(15,new J(1,55)),new ve(26,new J(1,44)),new ve(18,new J(2,17)),new ve(22,new J(2,13))),new ot(4,Int32Array.from([6,26]),new ve(20,new J(1,80)),new ve(18,new J(2,32)),new ve(26,new J(2,24)),new ve(16,new J(4,9))),new ot(5,Int32Array.from([6,30]),new ve(26,new J(1,108)),new ve(24,new J(2,43)),new ve(18,new J(2,15),new J(2,16)),new ve(22,new J(2,11),new J(2,12))),new ot(6,Int32Array.from([6,34]),new ve(18,new J(2,68)),new ve(16,new J(4,27)),new ve(24,new J(4,19)),new ve(28,new J(4,15))),new ot(7,Int32Array.from([6,22,38]),new ve(20,new J(2,78)),new ve(18,new J(4,31)),new ve(18,new J(2,14),new J(4,15)),new ve(26,new J(4,13),new J(1,14))),new ot(8,Int32Array.from([6,24,42]),new ve(24,new J(2,97)),new ve(22,new J(2,38),new J(2,39)),new ve(22,new J(4,18),new J(2,19)),new ve(26,new J(4,14),new J(2,15))),new ot(9,Int32Array.from([6,26,46]),new ve(30,new J(2,116)),new ve(22,new J(3,36),new J(2,37)),new ve(20,new J(4,16),new J(4,17)),new ve(24,new J(4,12),new J(4,13))),new ot(10,Int32Array.from([6,28,50]),new ve(18,new J(2,68),new J(2,69)),new ve(26,new J(4,43),new J(1,44)),new ve(24,new J(6,19),new J(2,20)),new ve(28,new J(6,15),new J(2,16))),new ot(11,Int32Array.from([6,30,54]),new ve(20,new J(4,81)),new ve(30,new J(1,50),new J(4,51)),new ve(28,new J(4,22),new J(4,23)),new ve(24,new J(3,12),new J(8,13))),new ot(12,Int32Array.from([6,32,58]),new ve(24,new J(2,92),new J(2,93)),new ve(22,new J(6,36),new J(2,37)),new ve(26,new J(4,20),new J(6,21)),new ve(28,new J(7,14),new J(4,15))),new ot(13,Int32Array.from([6,34,62]),new ve(26,new J(4,107)),new ve(22,new J(8,37),new J(1,38)),new ve(24,new J(8,20),new J(4,21)),new ve(22,new J(12,11),new J(4,12))),new ot(14,Int32Array.from([6,26,46,66]),new ve(30,new J(3,115),new J(1,116)),new ve(24,new J(4,40),new J(5,41)),new ve(20,new J(11,16),new J(5,17)),new ve(24,new J(11,12),new J(5,13))),new ot(15,Int32Array.from([6,26,48,70]),new ve(22,new J(5,87),new J(1,88)),new ve(24,new J(5,41),new J(5,42)),new ve(30,new J(5,24),new J(7,25)),new ve(24,new J(11,12),new J(7,13))),new ot(16,Int32Array.from([6,26,50,74]),new ve(24,new J(5,98),new J(1,99)),new ve(28,new J(7,45),new J(3,46)),new ve(24,new J(15,19),new J(2,20)),new ve(30,new J(3,15),new J(13,16))),new ot(17,Int32Array.from([6,30,54,78]),new ve(28,new J(1,107),new J(5,108)),new ve(28,new J(10,46),new J(1,47)),new ve(28,new J(1,22),new J(15,23)),new ve(28,new J(2,14),new J(17,15))),new ot(18,Int32Array.from([6,30,56,82]),new ve(30,new J(5,120),new J(1,121)),new ve(26,new J(9,43),new J(4,44)),new ve(28,new J(17,22),new J(1,23)),new ve(28,new J(2,14),new J(19,15))),new ot(19,Int32Array.from([6,30,58,86]),new ve(28,new J(3,113),new J(4,114)),new ve(26,new J(3,44),new J(11,45)),new ve(26,new J(17,21),new J(4,22)),new ve(26,new J(9,13),new J(16,14))),new ot(20,Int32Array.from([6,34,62,90]),new ve(28,new J(3,107),new J(5,108)),new ve(26,new J(3,41),new J(13,42)),new ve(30,new J(15,24),new J(5,25)),new ve(28,new J(15,15),new J(10,16))),new ot(21,Int32Array.from([6,28,50,72,94]),new ve(28,new J(4,116),new J(4,117)),new ve(26,new J(17,42)),new ve(28,new J(17,22),new J(6,23)),new ve(30,new J(19,16),new J(6,17))),new ot(22,Int32Array.from([6,26,50,74,98]),new ve(28,new J(2,111),new J(7,112)),new ve(28,new J(17,46)),new ve(30,new J(7,24),new J(16,25)),new ve(24,new J(34,13))),new ot(23,Int32Array.from([6,30,54,78,102]),new ve(30,new J(4,121),new J(5,122)),new ve(28,new J(4,47),new J(14,48)),new ve(30,new J(11,24),new J(14,25)),new ve(30,new J(16,15),new J(14,16))),new ot(24,Int32Array.from([6,28,54,80,106]),new ve(30,new J(6,117),new J(4,118)),new ve(28,new J(6,45),new J(14,46)),new ve(30,new J(11,24),new J(16,25)),new ve(30,new J(30,16),new J(2,17))),new ot(25,Int32Array.from([6,32,58,84,110]),new ve(26,new J(8,106),new J(4,107)),new ve(28,new J(8,47),new J(13,48)),new ve(30,new J(7,24),new J(22,25)),new ve(30,new J(22,15),new J(13,16))),new ot(26,Int32Array.from([6,30,58,86,114]),new ve(28,new J(10,114),new J(2,115)),new ve(28,new J(19,46),new J(4,47)),new ve(28,new J(28,22),new J(6,23)),new ve(30,new J(33,16),new J(4,17))),new ot(27,Int32Array.from([6,34,62,90,118]),new ve(30,new J(8,122),new J(4,123)),new ve(28,new J(22,45),new J(3,46)),new ve(30,new J(8,23),new J(26,24)),new ve(30,new J(12,15),new J(28,16))),new ot(28,Int32Array.from([6,26,50,74,98,122]),new ve(30,new J(3,117),new J(10,118)),new ve(28,new J(3,45),new J(23,46)),new ve(30,new J(4,24),new J(31,25)),new ve(30,new J(11,15),new J(31,16))),new ot(29,Int32Array.from([6,30,54,78,102,126]),new ve(30,new J(7,116),new J(7,117)),new ve(28,new J(21,45),new J(7,46)),new ve(30,new J(1,23),new J(37,24)),new ve(30,new J(19,15),new J(26,16))),new ot(30,Int32Array.from([6,26,52,78,104,130]),new ve(30,new J(5,115),new J(10,116)),new ve(28,new J(19,47),new J(10,48)),new ve(30,new J(15,24),new J(25,25)),new ve(30,new J(23,15),new J(25,16))),new ot(31,Int32Array.from([6,30,56,82,108,134]),new ve(30,new J(13,115),new J(3,116)),new ve(28,new J(2,46),new J(29,47)),new ve(30,new J(42,24),new J(1,25)),new ve(30,new J(23,15),new J(28,16))),new ot(32,Int32Array.from([6,34,60,86,112,138]),new ve(30,new J(17,115)),new ve(28,new J(10,46),new J(23,47)),new ve(30,new J(10,24),new J(35,25)),new ve(30,new J(19,15),new J(35,16))),new ot(33,Int32Array.from([6,30,58,86,114,142]),new ve(30,new J(17,115),new J(1,116)),new ve(28,new J(14,46),new J(21,47)),new ve(30,new J(29,24),new J(19,25)),new ve(30,new J(11,15),new J(46,16))),new ot(34,Int32Array.from([6,34,62,90,118,146]),new ve(30,new J(13,115),new J(6,116)),new ve(28,new J(14,46),new J(23,47)),new ve(30,new J(44,24),new J(7,25)),new ve(30,new J(59,16),new J(1,17))),new ot(35,Int32Array.from([6,30,54,78,102,126,150]),new ve(30,new J(12,121),new J(7,122)),new ve(28,new J(12,47),new J(26,48)),new ve(30,new J(39,24),new J(14,25)),new ve(30,new J(22,15),new J(41,16))),new ot(36,Int32Array.from([6,24,50,76,102,128,154]),new ve(30,new J(6,121),new J(14,122)),new ve(28,new J(6,47),new J(34,48)),new ve(30,new J(46,24),new J(10,25)),new ve(30,new J(2,15),new J(64,16))),new ot(37,Int32Array.from([6,28,54,80,106,132,158]),new ve(30,new J(17,122),new J(4,123)),new ve(28,new J(29,46),new J(14,47)),new ve(30,new J(49,24),new J(10,25)),new ve(30,new J(24,15),new J(46,16))),new ot(38,Int32Array.from([6,32,58,84,110,136,162]),new ve(30,new J(4,122),new J(18,123)),new ve(28,new J(13,46),new J(32,47)),new ve(30,new J(48,24),new J(14,25)),new ve(30,new J(42,15),new J(32,16))),new ot(39,Int32Array.from([6,26,54,82,110,138,166]),new ve(30,new J(20,117),new J(4,118)),new ve(28,new J(40,47),new J(7,48)),new ve(30,new J(43,24),new J(22,25)),new ve(30,new J(10,15),new J(67,16))),new ot(40,Int32Array.from([6,30,58,86,114,142,170]),new ve(30,new J(19,118),new J(6,119)),new ve(28,new J(18,47),new J(31,48)),new ve(30,new J(34,24),new J(34,25)),new ve(30,new J(20,15),new J(61,16)))];var er;(function(F){F[F.DATA_MASK_000=0]="DATA_MASK_000",F[F.DATA_MASK_001=1]="DATA_MASK_001",F[F.DATA_MASK_010=2]="DATA_MASK_010",F[F.DATA_MASK_011=3]="DATA_MASK_011",F[F.DATA_MASK_100=4]="DATA_MASK_100",F[F.DATA_MASK_101=5]="DATA_MASK_101",F[F.DATA_MASK_110=6]="DATA_MASK_110",F[F.DATA_MASK_111=7]="DATA_MASK_111"})(er||(er={}));class Cr{constructor(n,o){this.value=n,this.isMasked=o}unmaskBitMatrix(n,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&n.flip(f,l)}}Cr.values=new Map([[er.DATA_MASK_000,new Cr(er.DATA_MASK_000,(F,n)=>(F+n&1)===0)],[er.DATA_MASK_001,new Cr(er.DATA_MASK_001,(F,n)=>(F&1)===0)],[er.DATA_MASK_010,new Cr(er.DATA_MASK_010,(F,n)=>n%3===0)],[er.DATA_MASK_011,new Cr(er.DATA_MASK_011,(F,n)=>(F+n)%3===0)],[er.DATA_MASK_100,new Cr(er.DATA_MASK_100,(F,n)=>(Math.floor(F/2)+Math.floor(n/3)&1)===0)],[er.DATA_MASK_101,new Cr(er.DATA_MASK_101,(F,n)=>F*n%6===0)],[er.DATA_MASK_110,new Cr(er.DATA_MASK_110,(F,n)=>F*n%6<3)],[er.DATA_MASK_111,new Cr(er.DATA_MASK_111,(F,n)=>(F+n+F*n%3&1)===0)]]);class wi{constructor(n){const o=n.getHeight();if(o<21||(o&3)!==1)throw new V;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let m=0;m<6;m++)n=this.copyBit(m,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let m=5;m>=0;m--)n=this.copyBit(8,m,n);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let m=o-1;m>=f;m--)l=this.copyBit(8,m,l);for(let m=o-8;m<o;m++)l=this.copyBit(m,8,l);if(this.parsedFormatInfo=Un.decodeFormatInformation(n,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),o=Math.floor((n-17)/4);if(o<=6)return ot.getVersionForNumber(o);let l=0;const f=n-11;for(let g=5;g>=0;g--)for(let s=n-9;s>=f;s--)l=this.copyBit(s,g,l);let m=ot.decodeVersionInformation(l);if(m!==null&&m.getDimensionForVersion()===n)return this.parsedVersion=m,m;l=0;for(let g=5;g>=0;g--)for(let s=n-9;s>=f;s--)l=this.copyBit(g,s,l);if(m=ot.decodeVersionInformation(l),m!==null&&m.getDimensionForVersion()===n)return this.parsedVersion=m,m;throw new V}copyBit(n,o,l){return(this.isMirror?this.bitMatrix.get(o,n):this.bitMatrix.get(n,o))?l<<1|1:l<<1}readCodewords(){const n=this.readFormatInformation(),o=this.readVersion(),l=Cr.values.get(n.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const m=o.buildFunctionPattern();let g=!0;const s=new Uint8Array(o.getTotalCodewords());let d=0,x=0,w=0;for(let S=f-1;S>0;S-=2){S===6&&S--;for(let T=0;T<f;T++){const D=g?f-1-T:T;for(let L=0;L<2;L++)m.get(S-L,D)||(w++,x<<=1,this.bitMatrix.get(S-L,D)&&(x|=1),w===8&&(s[d++]=x,w=0,x=0))}g=!g}if(d!==o.getTotalCodewords())throw new V;return s}remask(){if(this.parsedFormatInfo===null)return;const n=Cr.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,o)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let o=0,l=n.getWidth();o<l;o++)for(let f=o+1,m=n.getHeight();f<m;f++)n.get(o,f)!==n.get(f,o)&&(n.flip(f,o),n.flip(o,f))}}class Ws{constructor(n,o){this.numDataCodewords=n,this.codewords=o}static getDataBlocks(n,o,l){if(n.length!==o.getTotalCodewords())throw new N;const f=o.getECBlocksForLevel(l);let m=0;const g=f.getECBlocks();for(const L of g)m+=L.getCount();const s=new Array(m);let d=0;for(const L of g)for(let z=0;z<L.getCount();z++){const W=L.getDataCodewords(),Y=f.getECCodewordsPerBlock()+W;s[d++]=new Ws(W,new Uint8Array(Y))}const x=s[0].codewords.length;let w=s.length-1;for(;w>=0&&s[w].codewords.length!==x;)w--;w++;const S=x-f.getECCodewordsPerBlock();let T=0;for(let L=0;L<S;L++)for(let z=0;z<d;z++)s[z].codewords[L]=n[T++];for(let L=w;L<d;L++)s[L].codewords[S]=n[T++];const D=s[0].codewords.length;for(let L=S;L<D;L++)for(let z=0;z<d;z++){const W=z<w?L:L+1;s[z].codewords[W]=n[T++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _t;(function(F){F[F.TERMINATOR=0]="TERMINATOR",F[F.NUMERIC=1]="NUMERIC",F[F.ALPHANUMERIC=2]="ALPHANUMERIC",F[F.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",F[F.BYTE=4]="BYTE",F[F.ECI=5]="ECI",F[F.KANJI=6]="KANJI",F[F.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",F[F.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",F[F.HANZI=9]="HANZI"})(_t||(_t={}));class pt{constructor(n,o,l,f){this.value=n,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,pt.FOR_BITS.set(f,this),pt.FOR_VALUE.set(n,this)}static forBits(n){const o=pt.FOR_BITS.get(n);if(o===void 0)throw new N;return o}getCharacterCountBits(n){const o=n.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof pt))return!1;const o=n;return this.value===o.value}toString(){return this.stringValue}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.TERMINATOR=new pt(_t.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pt.NUMERIC=new pt(_t.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pt.ALPHANUMERIC=new pt(_t.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pt.STRUCTURED_APPEND=new pt(_t.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pt.BYTE=new pt(_t.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pt.ECI=new pt(_t.ECI,"ECI",Int32Array.from([0,0,0]),7),pt.KANJI=new pt(_t.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pt.FNC1_FIRST_POSITION=new pt(_t.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pt.FNC1_SECOND_POSITION=new pt(_t.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pt.HANZI=new pt(_t.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rn{static decode(n,o,l,f){const m=new Jr(n);let g=new Ue;const s=new Array;let d=-1,x=-1;try{let w=null,S=!1,T;do{if(m.available()<4)T=pt.TERMINATOR;else{const D=m.readBits(4);T=pt.forBits(D)}switch(T){case pt.TERMINATOR:break;case pt.FNC1_FIRST_POSITION:case pt.FNC1_SECOND_POSITION:S=!0;break;case pt.STRUCTURED_APPEND:if(m.available()<16)throw new V;d=m.readBits(8),x=m.readBits(8);break;case pt.ECI:const D=Rn.parseECIValue(m);if(w=te.getCharacterSetECIByValue(D),w===null)throw new V;break;case pt.HANZI:const L=m.readBits(4),z=m.readBits(T.getCharacterCountBits(o));L===Rn.GB2312_SUBSET&&Rn.decodeHanziSegment(m,g,z);break;default:const W=m.readBits(T.getCharacterCountBits(o));switch(T){case pt.NUMERIC:Rn.decodeNumericSegment(m,g,W);break;case pt.ALPHANUMERIC:Rn.decodeAlphanumericSegment(m,g,W,S);break;case pt.BYTE:Rn.decodeByteSegment(m,g,W,w,s,f);break;case pt.KANJI:Rn.decodeKanjiSegment(m,g,W);break;default:throw new V}break}}while(T!==pt.TERMINATOR)}catch{throw new V}return new ft(n,g.toString(),s.length===0?null:s,l===null?null:l.toString(),d,x)}static decodeHanziSegment(n,o,l){if(l*13>n.available())throw new V;const f=new Uint8Array(2*l);let m=0;for(;l>0;){const g=n.readBits(13);let s=g/96<<8&4294967295|g%96;s<959?s+=41377:s+=42657,f[m]=s>>8&255,f[m+1]=s&255,m+=2,l--}try{o.append(Re.decode(f,xe.GB2312))}catch(g){throw new V(g)}}static decodeKanjiSegment(n,o,l){if(l*13>n.available())throw new V;const f=new Uint8Array(2*l);let m=0;for(;l>0;){const g=n.readBits(13);let s=g/192<<8&4294967295|g%192;s<7936?s+=33088:s+=49472,f[m]=s>>8,f[m+1]=s,m+=2,l--}try{o.append(Re.decode(f,xe.SHIFT_JIS))}catch(g){throw new V(g)}}static decodeByteSegment(n,o,l,f,m,g){if(8*l>n.available())throw new V;const s=new Uint8Array(l);for(let x=0;x<l;x++)s[x]=n.readBits(8);let d;f===null?d=xe.guessEncoding(s,g):d=f.getName();try{o.append(Re.decode(s,d))}catch(x){throw new V(x)}m.push(s)}static toAlphaNumericChar(n){if(n>=Rn.ALPHANUMERIC_CHARS.length)throw new V;return Rn.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,o,l,f){const m=o.length();for(;l>1;){if(n.available()<11)throw new V;const g=n.readBits(11);o.append(Rn.toAlphaNumericChar(Math.floor(g/45))),o.append(Rn.toAlphaNumericChar(g%45)),l-=2}if(l===1){if(n.available()<6)throw new V;o.append(Rn.toAlphaNumericChar(n.readBits(6)))}if(f)for(let g=m;g<o.length();g++)o.charAt(g)==="%"&&(g<o.length()-1&&o.charAt(g+1)==="%"?o.deleteCharAt(g+1):o.setCharAt(g,""))}static decodeNumericSegment(n,o,l){for(;l>=3;){if(n.available()<10)throw new V;const f=n.readBits(10);if(f>=1e3)throw new V;o.append(Rn.toAlphaNumericChar(Math.floor(f/100))),o.append(Rn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(Rn.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(n.available()<7)throw new V;const f=n.readBits(7);if(f>=100)throw new V;o.append(Rn.toAlphaNumericChar(Math.floor(f/10))),o.append(Rn.toAlphaNumericChar(f%10))}else if(l===1){if(n.available()<4)throw new V;const f=n.readBits(4);if(f>=10)throw new V;o.append(Rn.toAlphaNumericChar(f))}}static parseECIValue(n){const o=n.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const l=n.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=n.readBits(16);return(o&31)<<16&4294967295|l}throw new V}}Rn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rn.GB2312_SUBSET=1;class jl{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const o=n[0];n[0]=n[2],n[2]=o}}class Hr{constructor(){this.rsDecoder=new vr(mt.QR_CODE_FIELD_256)}decodeBooleanArray(n,o){return this.decodeBitMatrix(me.parseFromBooleanArray(n),o)}decodeBitMatrix(n,o){const l=new wi(n);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(m){f=m}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const m=this.decodeBitMatrixParser(l,o);return m.setOther(new jl(!0)),m}catch(m){throw f!==null?f:m}}decodeBitMatrixParser(n,o){const l=n.readVersion(),f=n.readFormatInformation().getErrorCorrectionLevel(),m=n.readCodewords(),g=Ws.getDataBlocks(m,l,f);let s=0;for(const w of g)s+=w.getNumDataCodewords();const d=new Uint8Array(s);let x=0;for(const w of g){const S=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(S,T);for(let D=0;D<T;D++)d[x++]=S[D]}return Rn.decode(d,l,f,o)}correctErrors(n,o){const l=new Int32Array(n);try{this.rsDecoder.decode(l,n.length-o)}catch{throw new M}for(let f=0;f<o;f++)n[f]=l[f]}}class fa extends Qe{constructor(n,o,l){super(n,o),this.estimatedModuleSize=l}aboutEquals(n,o,l){if(Math.abs(o-this.getY())<=n&&Math.abs(l-this.getX())<=n){const f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(n,o,l){const f=(this.getX()+o)/2,m=(this.getY()+n)/2,g=(this.estimatedModuleSize+l)/2;return new fa(f,m,g)}}class Ir{constructor(n,o,l,f,m,g,s){this.image=n,this.startX=o,this.startY=l,this.width=f,this.height=m,this.moduleSize=g,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,o=this.height,l=this.width,f=n+l,m=this.startY+o/2,g=new Int32Array(3),s=this.image;for(let d=0;d<o;d++){const x=m+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));g[0]=0,g[1]=0,g[2]=0;let w=n;for(;w<f&&!s.get(w,x);)w++;let S=0;for(;w<f;){if(s.get(w,x))if(S===1)g[1]++;else if(S===2){if(this.foundPatternCross(g)){const T=this.handlePossibleCenter(g,x,w);if(T!==null)return T}g[0]=g[2],g[1]=1,g[2]=0,S=1}else g[++S]++;else S===1&&S++,g[S]++;w++}if(this.foundPatternCross(g)){const T=this.handlePossibleCenter(g,x,f);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ce}static centerFromEnd(n,o){return o-n[2]-n[1]/2}foundPatternCross(n){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-n[f])>=l)return!1;return!0}crossCheckVertical(n,o,l,f){const m=this.image,g=m.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let d=n;for(;d>=0&&m.get(o,d)&&s[1]<=l;)s[1]++,d--;if(d<0||s[1]>l)return NaN;for(;d>=0&&!m.get(o,d)&&s[0]<=l;)s[0]++,d--;if(s[0]>l)return NaN;for(d=n+1;d<g&&m.get(o,d)&&s[1]<=l;)s[1]++,d++;if(d===g||s[1]>l)return NaN;for(;d<g&&!m.get(o,d)&&s[2]<=l;)s[2]++,d++;if(s[2]>l)return NaN;const x=s[0]+s[1]+s[2];return 5*Math.abs(x-f)>=2*f?NaN:this.foundPatternCross(s)?Ir.centerFromEnd(s,d):NaN}handlePossibleCenter(n,o,l){const f=n[0]+n[1]+n[2],m=Ir.centerFromEnd(n,l),g=this.crossCheckVertical(o,m,2*n[1],f);if(!isNaN(g)){const s=(n[0]+n[1]+n[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(s,g,m))return x.combineEstimate(g,m,s);const d=new fa(m,g,s);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class ea extends Qe{constructor(n,o,l,f){super(n,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,o,l){if(Math.abs(o-this.getY())<=n&&Math.abs(l-this.getX())<=n){const f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(n,o,l){const f=this.count+1,m=(this.count*this.getX()+o)/f,g=(this.count*this.getY()+n)/f,s=(this.count*this.estimatedModuleSize+l)/f;return new ea(m,g,s,f)}}class Yo{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kn{constructor(n,o){this.image=n,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const o=n!=null&&n.get(re.TRY_HARDER)!==void 0,l=n!=null&&n.get(re.PURE_BARCODE)!==void 0,f=this.image,m=f.getHeight(),g=f.getWidth();let s=Math.floor(3*m/(4*kn.MAX_MODULES));(s<kn.MIN_SKIP||o)&&(s=kn.MIN_SKIP);let d=!1;const x=new Int32Array(5);for(let S=s-1;S<m&&!d;S+=s){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let D=0;D<g;D++)if(f.get(D,S))(T&1)===1&&T++,x[T]++;else if((T&1)===0)if(T===4)if(kn.foundPatternCross(x)){if(this.handlePossibleCenter(x,S,D,l)===!0)if(s=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>x[2]&&(S+=z-x[2]-s,D=g-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;else x[T]++;kn.foundPatternCross(x)&&this.handlePossibleCenter(x,S,g,l)===!0&&(s=x[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Qe.orderBestPatterns(w),new Yo(w)}static centerFromEnd(n,o){return o-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let o=0;for(let m=0;m<5;m++){const g=n[m];if(g===0)return!1;o+=g}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-n[0])<f&&Math.abs(l-n[1])<f&&Math.abs(3*l-n[2])<3*f&&Math.abs(l-n[3])<f&&Math.abs(l-n[4])<f}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,o,l,f){const m=this.getCrossCheckStateCount();let g=0;const s=this.image;for(;n>=g&&o>=g&&s.get(o-g,n-g);)m[2]++,g++;if(n<g||o<g)return!1;for(;n>=g&&o>=g&&!s.get(o-g,n-g)&&m[1]<=l;)m[1]++,g++;if(n<g||o<g||m[1]>l)return!1;for(;n>=g&&o>=g&&s.get(o-g,n-g)&&m[0]<=l;)m[0]++,g++;if(m[0]>l)return!1;const d=s.getHeight(),x=s.getWidth();for(g=1;n+g<d&&o+g<x&&s.get(o+g,n+g);)m[2]++,g++;if(n+g>=d||o+g>=x)return!1;for(;n+g<d&&o+g<x&&!s.get(o+g,n+g)&&m[3]<l;)m[3]++,g++;if(n+g>=d||o+g>=x||m[3]>=l)return!1;for(;n+g<d&&o+g<x&&s.get(o+g,n+g)&&m[4]<l;)m[4]++,g++;if(m[4]>=l)return!1;const w=m[0]+m[1]+m[2]+m[3]+m[4];return Math.abs(w-f)<2*f&&kn.foundPatternCross(m)}crossCheckVertical(n,o,l,f){const m=this.image,g=m.getHeight(),s=this.getCrossCheckStateCount();let d=n;for(;d>=0&&m.get(o,d);)s[2]++,d--;if(d<0)return NaN;for(;d>=0&&!m.get(o,d)&&s[1]<=l;)s[1]++,d--;if(d<0||s[1]>l)return NaN;for(;d>=0&&m.get(o,d)&&s[0]<=l;)s[0]++,d--;if(s[0]>l)return NaN;for(d=n+1;d<g&&m.get(o,d);)s[2]++,d++;if(d===g)return NaN;for(;d<g&&!m.get(o,d)&&s[3]<l;)s[3]++,d++;if(d===g||s[3]>=l)return NaN;for(;d<g&&m.get(o,d)&&s[4]<l;)s[4]++,d++;if(s[4]>=l)return NaN;const x=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(x-f)>=2*f?NaN:kn.foundPatternCross(s)?kn.centerFromEnd(s,d):NaN}crossCheckHorizontal(n,o,l,f){const m=this.image,g=m.getWidth(),s=this.getCrossCheckStateCount();let d=n;for(;d>=0&&m.get(d,o);)s[2]++,d--;if(d<0)return NaN;for(;d>=0&&!m.get(d,o)&&s[1]<=l;)s[1]++,d--;if(d<0||s[1]>l)return NaN;for(;d>=0&&m.get(d,o)&&s[0]<=l;)s[0]++,d--;if(s[0]>l)return NaN;for(d=n+1;d<g&&m.get(d,o);)s[2]++,d++;if(d===g)return NaN;for(;d<g&&!m.get(d,o)&&s[3]<l;)s[3]++,d++;if(d===g||s[3]>=l)return NaN;for(;d<g&&m.get(d,o)&&s[4]<l;)s[4]++,d++;if(s[4]>=l)return NaN;const x=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(x-f)>=f?NaN:kn.foundPatternCross(s)?kn.centerFromEnd(s,d):NaN}handlePossibleCenter(n,o,l,f){const m=n[0]+n[1]+n[2]+n[3]+n[4];let g=kn.centerFromEnd(n,l),s=this.crossCheckVertical(o,Math.floor(g),n[2],m);if(!isNaN(s)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(s),n[2],m),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(s),Math.floor(g),n[2],m)))){const d=m/7;let x=!1;const w=this.possibleCenters;for(let S=0,T=w.length;S<T;S++){const D=w[S];if(D.aboutEquals(d,s,g)){w[S]=D.combineEstimate(s,g,d),x=!0;break}}if(!x){const S=new ea(g,s,d);w.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=kn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,o=0;const l=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=kn.CENTER_QUORUM&&(n++,o+=g.getEstimatedModuleSize());if(n<3)return!1;const f=o/l;let m=0;for(const g of this.possibleCenters)m+=Math.abs(g.getEstimatedModuleSize()-f);return m<=.05*o}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new ce;const o=this.possibleCenters;let l;if(n>3){let f=0,m=0;for(const d of this.possibleCenters){const x=d.getEstimatedModuleSize();f+=x,m+=x*x}l=f/n;let g=Math.sqrt(m/n-l*l);o.sort((d,x)=>{const w=Math.abs(x.getEstimatedModuleSize()-l),S=Math.abs(d.getEstimatedModuleSize()-l);return w<S?-1:w>S?1:0});const s=Math.max(.2*l,g);for(let d=0;d<o.length&&o.length>3;d++){const x=o[d];Math.abs(x.getEstimatedModuleSize()-l)>s&&(o.splice(d,1),d--)}}if(o.length>3){let f=0;for(const m of o)f+=m.getEstimatedModuleSize();l=f/o.length,o.sort((m,g)=>{if(g.getCount()===m.getCount()){const s=Math.abs(g.getEstimatedModuleSize()-l),d=Math.abs(m.getEstimatedModuleSize()-l);return s<d?1:s>d?-1:0}else return g.getCount()-m.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}kn.CENTER_QUORUM=2,kn.MIN_SKIP=3,kn.MAX_MODULES=57;class vn{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(re.NEED_RESULT_POINT_CALLBACK);const l=new kn(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(l)}processFinderPatternInfo(n){const o=n.getTopLeft(),l=n.getTopRight(),f=n.getBottomLeft(),m=this.calculateModuleSize(o,l,f);if(m<1)throw new ce("No pattern found in proccess finder.");const g=vn.computeDimension(o,l,f,m),s=ot.getProvisionalVersionForDimension(g),d=s.getDimensionForVersion()-7;let x=null;if(s.getAlignmentPatternCenters().length>0){const D=l.getX()-o.getX()+f.getX(),L=l.getY()-o.getY()+f.getY(),z=1-3/d,W=Math.floor(o.getX()+z*(D-o.getX())),Y=Math.floor(o.getY()+z*(L-o.getY()));for(let Q=4;Q<=16;Q<<=1)try{x=this.findAlignmentInRegion(m,W,Y,Q);break}catch(ee){if(!(ee instanceof ce))throw ee}}const w=vn.createTransform(o,l,f,x,g),S=vn.sampleGrid(this.image,w,g);let T;return x===null?T=[f,o,l]:T=[f,o,l,x],new ai(S,T)}static createTransform(n,o,l,f,m){const g=m-3.5;let s,d,x,w;return f!==null?(s=f.getX(),d=f.getY(),x=g-3,w=x):(s=o.getX()-n.getX()+l.getX(),d=o.getY()-n.getY()+l.getY(),x=g,w=g),zt.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,x,w,3.5,g,n.getX(),n.getY(),o.getX(),o.getY(),s,d,l.getX(),l.getY())}static sampleGrid(n,o,l){return Rr.getInstance().sampleGridWithTransform(n,l,l,o)}static computeDimension(n,o,l,f){const m=Rt.round(Qe.distance(n,o)/f),g=Rt.round(Qe.distance(n,l)/f);let s=Math.floor((m+g)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ce("Dimensions could be not found.")}return s}calculateModuleSize(n,o,l){return(this.calculateModuleSizeOneWay(n,o)+this.calculateModuleSizeOneWay(n,l))/2}calculateModuleSizeOneWay(n,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(n,o,l,f){let m=this.sizeOfBlackWhiteBlackRun(n,o,l,f),g=1,s=n-(l-n);s<0?(g=n/(n-s),s=0):s>=this.image.getWidth()&&(g=(this.image.getWidth()-1-n)/(s-n),s=this.image.getWidth()-1);let d=Math.floor(o-(f-o)*g);return g=1,d<0?(g=o/(o-d),d=0):d>=this.image.getHeight()&&(g=(this.image.getHeight()-1-o)/(d-o),d=this.image.getHeight()-1),s=Math.floor(n+(s-n)*g),m+=this.sizeOfBlackWhiteBlackRun(n,o,s,d),m-1}sizeOfBlackWhiteBlackRun(n,o,l,f){const m=Math.abs(f-o)>Math.abs(l-n);if(m){let D=n;n=o,o=D,D=l,l=f,f=D}const g=Math.abs(l-n),s=Math.abs(f-o);let d=-g/2;const x=n<l?1:-1,w=o<f?1:-1;let S=0;const T=l+x;for(let D=n,L=o;D!==T;D+=x){const z=m?L:D,W=m?D:L;if(S===1===this.image.get(z,W)){if(S===2)return Rt.distance(D,L,n,o);S++}if(d+=s,d>0){if(L===f)break;L+=w,d-=g}}return S===2?Rt.distance(l+x,f,n,o):NaN}findAlignmentInRegion(n,o,l,f){const m=Math.floor(f*n),g=Math.max(0,o-m),s=Math.min(this.image.getWidth()-1,o+m);if(s-g<n*3)throw new ce("Alignment top exceeds estimated module size.");const d=Math.max(0,l-m),x=Math.min(this.image.getHeight()-1,l+m);if(x-d<n*3)throw new ce("Alignment bottom exceeds estimated module size.");return new Ir(this.image,g,d,s-g,x-d,n,this.resultPointCallback).find()}}class lr{constructor(){this.decoder=new Hr}getDecoder(){return this.decoder}decode(n,o){let l,f;if(o!=null&&o.get(re.PURE_BARCODE)!==void 0){const d=lr.extractPureBits(n.getBlackMatrix());l=this.decoder.decodeBitMatrix(d,o),f=lr.NO_POINTS}else{const d=new vn(n.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(d.getBits(),o),f=d.getPoints()}l.getOther()instanceof jl&&l.getOther().applyMirroredCorrection(f);const m=new Oe(l.getText(),l.getRawBytes(),void 0,f,Le.QR_CODE,void 0),g=l.getByteSegments();g!==null&&m.putMetadata(et.BYTE_SEGMENTS,g);const s=l.getECLevel();return s!==null&&m.putMetadata(et.ERROR_CORRECTION_LEVEL,s),l.hasStructuredAppend()&&(m.putMetadata(et.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),m.putMetadata(et.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),m}reset(){}static extractPureBits(n){const o=n.getTopLeftOnBit(),l=n.getBottomRightOnBit();if(o===null||l===null)throw new ce;const f=this.moduleSize(o,n);let m=o[1],g=l[1],s=o[0],d=l[0];if(s>=d||m>=g)throw new ce;if(g-m!==d-s&&(d=s+(g-m),d>=n.getWidth()))throw new ce;const x=Math.round((d-s+1)/f),w=Math.round((g-m+1)/f);if(x<=0||w<=0)throw new ce;if(w!==x)throw new ce;const S=Math.floor(f/2);m+=S,s+=S;const T=s+Math.floor((x-1)*f)-d;if(T>0){if(T>S)throw new ce;s-=T}const D=m+Math.floor((w-1)*f)-g;if(D>0){if(D>S)throw new ce;m-=D}const L=new me(x,w);for(let z=0;z<w;z++){const W=m+Math.floor(z*f);for(let Y=0;Y<x;Y++)n.get(s+Math.floor(Y*f),W)&&L.set(Y,z)}return L}static moduleSize(n,o){const l=o.getHeight(),f=o.getWidth();let m=n[0],g=n[1],s=!0,d=0;for(;m<f&&g<l;){if(s!==o.get(m,g)){if(++d===5)break;s=!s}m++,g++}if(m===f||g===l)throw new ce;return(m-n[0])/7}}lr.NO_POINTS=new Array;class gt{PDF417Common(){}static getBitCountSum(n){return Rt.sum(n)}static toIntArray(n){if(n==null||!n.length)return gt.EMPTY_INT_ARRAY;const o=new Int32Array(n.length);let l=0;for(const f of n)o[l++]=f;return o}static getCodeword(n){const o=G.binarySearch(gt.SYMBOL_TABLE,n&262143);return o<0?-1:(gt.CODEWORD_TABLE[o]-1)%gt.NUMBER_OF_CODEWORDS}}gt.NUMBER_OF_CODEWORDS=929,gt.MAX_CODEWORDS_IN_BARCODE=gt.NUMBER_OF_CODEWORDS-1,gt.MIN_ROWS_IN_BARCODE=3,gt.MAX_ROWS_IN_BARCODE=90,gt.MODULES_IN_CODEWORD=17,gt.MODULES_IN_STOP_PATTERN=18,gt.BARS_IN_MODULE=8,gt.EMPTY_INT_ARRAY=new Int32Array([]),gt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),gt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zi{constructor(n,o){this.bits=n,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class St{static detectMultiple(n,o,l){let f=n.getBlackMatrix(),m=St.detect(l,f);return m.length||(f=f.clone(),f.rotate180(),m=St.detect(l,f)),new zi(f,m)}static detect(n,o){const l=new Array;let f=0,m=0,g=!1;for(;f<o.getHeight();){const s=St.findVertices(o,f,m);if(s[0]==null&&s[3]==null){if(!g)break;g=!1,m=0;for(const d of l)d[1]!=null&&(f=Math.trunc(Math.max(f,d[1].getY()))),d[3]!=null&&(f=Math.max(f,Math.trunc(d[3].getY())));f+=St.ROW_STEP;continue}if(g=!0,l.push(s),!n)break;s[2]!=null?(m=Math.trunc(s[2].getX()),f=Math.trunc(s[2].getY())):(m=Math.trunc(s[4].getX()),f=Math.trunc(s[4].getY()))}return l}static findVertices(n,o,l){const f=n.getHeight(),m=n.getWidth(),g=new Array(8);return St.copyToResult(g,St.findRowsWithPattern(n,f,m,o,l,St.START_PATTERN),St.INDEXES_START_PATTERN),g[4]!=null&&(l=Math.trunc(g[4].getX()),o=Math.trunc(g[4].getY())),St.copyToResult(g,St.findRowsWithPattern(n,f,m,o,l,St.STOP_PATTERN),St.INDEXES_STOP_PATTERN),g}static copyToResult(n,o,l){for(let f=0;f<l.length;f++)n[l[f]]=o[f]}static findRowsWithPattern(n,o,l,f,m,g){const s=new Array(4);let d=!1;const x=new Int32Array(g.length);for(;f<o;f+=St.ROW_STEP){let S=St.findGuardPattern(n,m,f,l,!1,g,x);if(S!=null){for(;f>0;){const T=St.findGuardPattern(n,m,--f,l,!1,g,x);if(T!=null)S=T;else{f++;break}}s[0]=new Qe(S[0],f),s[1]=new Qe(S[1],f),d=!0;break}}let w=f+1;if(d){let S=0,T=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;w<o;w++){const D=St.findGuardPattern(n,T[0],w,l,!1,g,x);if(D!=null&&Math.abs(T[0]-D[0])<St.MAX_PATTERN_DRIFT&&Math.abs(T[1]-D[1])<St.MAX_PATTERN_DRIFT)T=D,S=0;else{if(S>St.SKIPPED_ROW_COUNT_MAX)break;S++}}w-=S+1,s[2]=new Qe(T[0],w),s[3]=new Qe(T[1],w)}return w-f<St.BARCODE_MIN_HEIGHT&&G.fill(s,null),s}static findGuardPattern(n,o,l,f,m,g,s){G.fillWithin(s,0,s.length,0);let d=o,x=0;for(;n.get(d,l)&&d>0&&x++<St.MAX_PIXEL_DRIFT;)d--;let w=d,S=0,T=g.length;for(let D=m;w<f;w++)if(n.get(w,l)!==D)s[S]++;else{if(S===T-1){if(St.patternMatchVariance(s,g,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return new Int32Array([d,w]);d+=s[0]+s[1],P.arraycopy(s,2,s,0,S-1),s[S-1]=0,s[S]=0,S--}else S++;s[S]=1,D=!D}return S===T-1&&St.patternMatchVariance(s,g,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE?new Int32Array([d,w-1]):null}static patternMatchVariance(n,o,l){let f=n.length,m=0,g=0;for(let x=0;x<f;x++)m+=n[x],g+=o[x];if(m<g)return 1/0;let s=m/g;l*=s;let d=0;for(let x=0;x<f;x++){let w=n[x],S=o[x]*s,T=w>S?w-S:S-w;if(T>l)return 1/0;d+=T}return d/m}}St.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),St.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),St.MAX_AVG_VARIANCE=.42,St.MAX_INDIVIDUAL_VARIANCE=.8,St.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),St.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),St.MAX_PIXEL_DRIFT=3,St.MAX_PATTERN_DRIFT=5,St.SKIPPED_ROW_COUNT_MAX=25,St.ROW_STEP=5,St.BARCODE_MIN_HEIGHT=10;class tn{constructor(n,o){if(o.length===0)throw new N;this.field=n;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),P.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let f=0;for(let m of this.coefficients)f=this.field.add(f,m);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(n,o),this.coefficients[f]);return o}add(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let o=this.coefficients,l=n.coefficients;if(o.length>l.length){let g=o;o=l,l=g}let f=new Int32Array(l.length),m=l.length-o.length;P.arraycopy(l,0,f,0,m);for(let g=m;g<l.length;g++)f[g]=this.field.add(o[g-m],l[g]);return new tn(this.field,f)}subtract(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof tn?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new tn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=n.coefficients,m=f.length,g=new Int32Array(l+m-1);for(let s=0;s<l;s++){let d=o[s];for(let x=0;x<m;x++)g[s+x]=this.field.add(g[s+x],this.field.multiply(d,f[x]))}return new tn(this.field,g)}negative(){let n=this.coefficients.length,o=new Int32Array(n);for(let l=0;l<n;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new tn(this.field,o)}multiplyScalar(n){if(n===0)return new tn(this.field,new Int32Array([0]));if(n===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],n);return new tn(this.field,l)}multiplyByMonomial(n,o){if(n<0)throw new N;if(o===0)return new tn(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+n);for(let m=0;m<l;m++)f[m]=this.field.multiply(this.coefficients[m],o);return new tn(this.field,f)}toString(){let n=new Ue;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(n.append(" - "),l=-l):n.length()>0&&n.append(" + "),(o===0||l!==1)&&n.append(l),o!==0&&(o===1?n.append("x"):(n.append("x^"),n.append(o))))}return n.toString()}}class Zs{add(n,o){return(n+o)%this.modulus}subtract(n,o){return(this.modulus+n-o)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}inverse(n){if(n===0)throw new rt;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,o){return n===0||o===0?0:this.expTable[(this.logTable[n]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Sr extends Zs{constructor(n,o){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let l=1;for(let f=0;f<n;f++)this.expTable[f]=l,l=l*o%n;for(let f=0;f<n-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,o){if(n<0)throw new N;if(o===0)return this.zero;let l=new Int32Array(n+1);return l[0]=o,new tn(this,l)}}Sr.PDF417_GF=new Sr(gt.NUMBER_OF_CODEWORDS,3);class da{constructor(){this.field=Sr.PDF417_GF}decode(n,o,l){let f=new tn(this.field,n),m=new Int32Array(o),g=!1;for(let L=o;L>0;L--){let z=f.evaluateAt(this.field.exp(L));m[o-L]=z,z!==0&&(g=!0)}if(!g)return 0;let s=this.field.getOne();if(l!=null)for(const L of l){let z=this.field.exp(n.length-1-L),W=new tn(this.field,new Int32Array([this.field.subtract(0,z),1]));s=s.multiply(W)}let d=new tn(this.field,m),x=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),d,o),w=x[0],S=x[1],T=this.findErrorLocations(w),D=this.findErrorMagnitudes(S,w,T);for(let L=0;L<T.length;L++){let z=n.length-1-this.field.log(T[L]);if(z<0)throw M.getChecksumInstance();n[z]=this.field.subtract(n[z],D[L])}return T.length}runEuclideanAlgorithm(n,o,l){if(n.getDegree()<o.getDegree()){let T=n;n=o,o=T}let f=n,m=o,g=this.field.getZero(),s=this.field.getOne();for(;m.getDegree()>=Math.round(l/2);){let T=f,D=g;if(f=m,g=s,f.isZero())throw M.getChecksumInstance();m=T;let L=this.field.getZero(),z=f.getCoefficient(f.getDegree()),W=this.field.inverse(z);for(;m.getDegree()>=f.getDegree()&&!m.isZero();){let Y=m.getDegree()-f.getDegree(),Q=this.field.multiply(m.getCoefficient(m.getDegree()),W);L=L.add(this.field.buildMonomial(Y,Q)),m=m.subtract(f.multiplyByMonomial(Y,Q))}s=L.multiply(g).subtract(D).negative()}let d=s.getCoefficient(0);if(d===0)throw M.getChecksumInstance();let x=this.field.inverse(d),w=s.multiply(x),S=m.multiply(x);return[w,S]}findErrorLocations(n){let o=n.getDegree(),l=new Int32Array(o),f=0;for(let m=1;m<this.field.getSize()&&f<o;m++)n.evaluateAt(m)===0&&(l[f]=this.field.inverse(m),f++);if(f!==o)throw M.getChecksumInstance();return l}findErrorMagnitudes(n,o,l){let f=o.getDegree(),m=new Int32Array(f);for(let x=1;x<=f;x++)m[f-x]=this.field.multiply(x,o.getCoefficient(x));let g=new tn(this.field,m),s=l.length,d=new Int32Array(s);for(let x=0;x<s;x++){let w=this.field.inverse(l[x]),S=this.field.subtract(0,n.evaluateAt(w)),T=this.field.inverse(g.evaluateAt(w));d[x]=this.field.multiply(S,T)}return d}}class Sa{constructor(n,o,l,f,m){n instanceof Sa?this.constructor_2(n):this.constructor_1(n,o,l,f,m)}constructor_1(n,o,l,f,m){const g=o==null||l==null,s=f==null||m==null;if(g&&s)throw new ce;g?(o=new Qe(0,f.getY()),l=new Qe(0,m.getY())):s&&(f=new Qe(n.getWidth()-1,o.getY()),m=new Qe(n.getWidth()-1,l.getY())),this.image=n,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=m,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),m.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),m.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,o){return n==null?o:o==null?n:new Sa(n.image,n.topLeft,n.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(n,o,l){let f=this.topLeft,m=this.bottomLeft,g=this.topRight,s=this.bottomRight;if(n>0){let d=l?this.topLeft:this.topRight,x=Math.trunc(d.getY()-n);x<0&&(x=0);let w=new Qe(d.getX(),x);l?f=w:g=w}if(o>0){let d=l?this.bottomLeft:this.bottomRight,x=Math.trunc(d.getY()+o);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let w=new Qe(d.getX(),x);l?m=w:s=w}return new Sa(this.image,f,m,g,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vi{constructor(n,o,l,f){this.columnCount=n,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Aa{constructor(){this.buffer=""}static form(n,o){let l=-1;function f(g,s,d,x,w,S){if(g==="%%")return"%";if(o[++l]===void 0)return;g=x?parseInt(x.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,D;switch(S){case"s":D=o[l];break;case"c":D=o[l][0];break;case"f":D=parseFloat(o[l]).toFixed(g);break;case"p":D=parseFloat(o[l]).toPrecision(g);break;case"e":D=parseFloat(o[l]).toExponential(g);break;case"x":D=parseInt(o[l]).toString(T||16);break;case"d":D=parseFloat(parseInt(o[l],T||10).toPrecision(g)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let L=parseInt(d),z=d&&d[0]+""=="0"?"0":" ";for(;D.length<L;)D=s!==void 0?D+z:z+D;return D}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(m,f)}format(n,...o){this.buffer+=Aa.form(n,o)}toString(){return this.buffer}}class _a{constructor(n){this.boundingBox=new Sa(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let o=this.getCodeword(n);if(o!=null)return o;for(let l=1;l<_a.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(n)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(n)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,o){this.codewords[this.imageRowToCodewordIndex(n)]=o}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Aa;let o=0;for(const l of this.codewords){if(l==null){n.format("%3d:    |   %n",o++);continue}n.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return n.toString()}}_a.MAX_NEARBY_DISTANCE=5;class Ua{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let o=this.values.get(n);o==null&&(o=0),o++,this.values.set(n,o)}getValue(){let n=-1,o=new Array;for(const[l,f]of this.values.entries()){const m={getKey:()=>l,getValue:()=>f};m.getValue()>n?(n=m.getValue(),o=[],o.push(m.getKey())):m.getValue()===n&&o.push(m.getKey())}return gt.toIntArray(o)}getConfidence(n){return this.values.get(n)}}class Qs extends _a{constructor(n,o){super(n),this._isLeft=o}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,n);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),m=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),s=this.imageRowToCodewordIndex(Math.trunc(m.getY())),d=-1,x=1,w=0;for(let S=g;S<s;S++){if(o[S]==null)continue;let T=o[S],D=T.getRowNumber()-d;if(D===0)w++;else if(D===1)x=Math.max(x,w),w=1,d=T.getRowNumber();else if(D<0||T.getRowNumber()>=n.getRowCount()||D>S)o[S]=null;else{let L;x>2?L=(x-2)*D:L=D;let z=L>=S;for(let W=1;W<=L&&!z;W++)z=o[S-W]!=null;z?o[S]=null:(d=T.getRowNumber(),w=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let o=new Int32Array(n.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(n){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),s=this.getCodewords(),d=-1;for(let x=m;x<g;x++){if(s[x]==null)continue;let w=s[x];w.setRowNumberAsRowIndicatorColumn();let S=w.getRowNumber()-d;S===0||(S===1?d=w.getRowNumber():w.getRowNumber()>=n.getRowCount()?s[x]=null:d=w.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),o=new Ua,l=new Ua,f=new Ua,m=new Ua;for(let s of n){if(s==null)continue;s.setRowNumberAsRowIndicatorColumn();let d=s.getValue()%30,x=s.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(d*3+1);break;case 1:m.setValue(d/3),f.setValue(d%3);break;case 2:o.setValue(d+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||m.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<gt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>gt.MAX_ROWS_IN_BARCODE)return null;let g=new Vi(o.getValue()[0],l.getValue()[0],f.getValue()[0],m.getValue()[0]);return this.removeIncorrectCodewords(n,g),g}removeIncorrectCodewords(n,o){for(let l=0;l<n.length;l++){let f=n[l];if(n[l]==null)continue;let m=f.getValue()%30,g=f.getRowNumber();if(g>o.getRowCount()){n[l]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:m*3+1!==o.getRowCountUpperPart()&&(n[l]=null);break;case 1:(Math.trunc(m/3)!==o.getErrorCorrectionLevel()||m%3!==o.getRowCountLowerPart())&&(n[l]=null);break;case 2:m+1!==o.getColumnCount()&&(n[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xn{constructor(n,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=gt.MAX_CODEWORDS_IN_BARCODE,o;do o=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<n.length;l++)if(n[l]!=null&&o[l]!=null&&n[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(m.setRowNumber(n[l].getRowNumber()),m.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),m=0;for(let g=this.barcodeColumnCount+1;g>0&&m<this.ADJUST_ROW_NUMBER_SKIP;g--){let s=this.detectionResultColumns[g].getCodewords()[l];s!=null&&(m=Xn.adjustRowNumberIfValid(f,m,s),s.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),m=0;for(let g=1;g<this.barcodeColumnCount+1&&m<this.ADJUST_ROW_NUMBER_SKIP;g++){let s=this.detectionResultColumns[g].getCodewords()[l];s!=null&&(m=Xn.adjustRowNumberIfValid(f,m,s),s.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(n)?(l.setRowNumber(n),o=0):++o),o}adjustRowNumbers(n,o,l){if(!this.detectionResultColumns[n-1])return;let f=l[o],m=this.detectionResultColumns[n-1].getCodewords(),g=m;this.detectionResultColumns[n+1]!=null&&(g=this.detectionResultColumns[n+1].getCodewords());let s=new Array(14);s[2]=m[o],s[3]=g[o],o>0&&(s[0]=l[o-1],s[4]=m[o-1],s[5]=g[o-1]),o>1&&(s[8]=l[o-2],s[10]=m[o-2],s[11]=g[o-2]),o<l.length-1&&(s[1]=l[o+1],s[6]=m[o+1],s[7]=g[o+1]),o<l.length-2&&(s[9]=l[o+2],s[12]=m[o+2],s[13]=g[o+2]);for(let d of s)if(Xn.adjustRowNumber(f,d))return}static adjustRowNumber(n,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===n.getBucket()?(n.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,o){this.detectionResultColumns[n]=o}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Aa;for(let l=0;l<n.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let m=this.detectionResultColumns[f].getCodewords()[l];if(m==null){o.format("    |   ");continue}o.format(" %3d|%3d",m.getRowNumber(),m.getValue())}o.format("%n")}return o.toString()}}class ha{constructor(n,o,l,f){this.rowNumber=ha.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==ha.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}ha.BARCODE_ROW_UNKNOWN=-1;class pr{static initialize(){for(let n=0;n<gt.SYMBOL_TABLE.length;n++){let o=gt.SYMBOL_TABLE[n],l=o&1;for(let f=0;f<gt.BARS_IN_MODULE;f++){let m=0;for(;(o&1)===l;)m+=1,o>>=1;l=o&1,pr.RATIOS_TABLE[n]||(pr.RATIOS_TABLE[n]=new Array(gt.BARS_IN_MODULE)),pr.RATIOS_TABLE[n][gt.BARS_IN_MODULE-f-1]=Math.fround(m/gt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let o=pr.getDecodedCodewordValue(pr.sampleBitCounts(n));return o!==-1?o:pr.getClosestDecodedValue(n)}static sampleBitCounts(n){let o=Rt.sum(n),l=new Int32Array(gt.BARS_IN_MODULE),f=0,m=0;for(let g=0;g<gt.MODULES_IN_CODEWORD;g++){let s=o/(2*gt.MODULES_IN_CODEWORD)+g*o/gt.MODULES_IN_CODEWORD;m+n[f]<=s&&(m+=n[f],f++),l[f]++}return l}static getDecodedCodewordValue(n){let o=pr.getBitValue(n);return gt.getCodeword(o)===-1?-1:o}static getBitValue(n){let o=0;for(let l=0;l<n.length;l++)for(let f=0;f<n[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(n){let o=Rt.sum(n),l=new Array(gt.BARS_IN_MODULE);if(o>1)for(let g=0;g<l.length;g++)l[g]=Math.fround(n[g]/o);let f=ca.MAX_VALUE,m=-1;this.bSymbolTableReady||pr.initialize();for(let g=0;g<pr.RATIOS_TABLE.length;g++){let s=0,d=pr.RATIOS_TABLE[g];for(let x=0;x<gt.BARS_IN_MODULE;x++){let w=Math.fround(d[x]-l[x]);if(s+=Math.fround(w*w),s>=f)break}s<f&&(f=s,m=gt.SYMBOL_TABLE[g])}return m}}pr.bSymbolTableReady=!1,pr.RATIOS_TABLE=new Array(gt.SYMBOL_TABLE.length).map(F=>new Array(gt.BARS_IN_MODULE));class za{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class uo{static parseLong(n,o=void 0){return parseInt(n,o)}}class Hi extends E{}Hi.kind="NullPointerException";class $s{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,o,l){if(n==null)throw new Hi;if(o<0||o>n.length||l<0||o+l>n.length||o+l<0)throw new j;if(l===0)return;for(let f=0;f<l;f++)this.write(n[o+f])}flush(){}close(){}}class fo extends E{}class Wo extends $s{constructor(n=32){if(super(),this.count=0,n<0)throw new N("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let l=this.buf.length<<1;if(l-n<0&&(l=n),l<0){if(n<0)throw new fo;l=H.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,l)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,o,l){if(o<0||o>n.length||l<0||o+l-n.length>0)throw new j;this.ensureCapacity(this.count+l),P.arraycopy(n,o,this.buf,this.count,l),this.count+=l}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var on;(function(F){F[F.ALPHA=0]="ALPHA",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.PUNCT=3]="PUNCT",F[F.ALPHA_SHIFT=4]="ALPHA_SHIFT",F[F.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(on||(on={}));function Zo(){if(typeof window<"u")return window.BigInt||null;if(typeof Du<"u")return Du.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ho;function ma(F){if(typeof ho>"u"&&(ho=Zo()),ho===null)throw new Error("BigInt is not supported!");return ho(F)}function Gi(){let F=[];F[0]=ma(1);let n=ma(900);F[1]=n;for(let o=2;o<16;o++)F[o]=F[o-1]*n;return F}class _e{static decode(n,o){let l=new Ue(""),f=te.ISO8859_1;l.enableDecoding(f);let m=1,g=n[m++],s=new za;for(;m<n[0];){switch(g){case _e.TEXT_COMPACTION_MODE_LATCH:m=_e.textCompaction(n,m,l);break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:m=_e.byteCompaction(g,n,f,m,l);break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[m++]);break;case _e.NUMERIC_COMPACTION_MODE_LATCH:m=_e.numericCompaction(n,m,l);break;case _e.ECI_CHARSET:te.getCharacterSetECIByValue(n[m++]);break;case _e.ECI_GENERAL_PURPOSE:m+=2;break;case _e.ECI_USER_DEFINED:m++;break;case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:m=_e.decodeMacroBlock(n,m,s);break;case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:throw new V;default:m--,m=_e.textCompaction(n,m,l);break}if(m<n.length)g=n[m++];else throw V.getFormatInstance()}if(l.length()===0)throw V.getFormatInstance();let d=new ft(null,l.toString(),null,o);return d.setOther(s),d}static decodeMacroBlock(n,o,l){if(o+_e.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw V.getFormatInstance();let f=new Int32Array(_e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<_e.NUMBER_OF_SEQUENCE_CODEWORDS;s++,o++)f[s]=n[o];l.setSegmentIndex(H.parseInt(_e.decodeBase900toBase10(f,_e.NUMBER_OF_SEQUENCE_CODEWORDS)));let m=new Ue;o=_e.textCompaction(n,o,m),l.setFileId(m.toString());let g=-1;for(n[o]===_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=o+1);o<n[0];)switch(n[o]){case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,n[o]){case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let s=new Ue;o=_e.textCompaction(n,o+1,s),l.setFileName(s.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Ue;o=_e.textCompaction(n,o+1,d),l.setSender(d.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ue;o=_e.textCompaction(n,o+1,x),l.setAddressee(x.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ue;o=_e.numericCompaction(n,o+1,w),l.setSegmentCount(H.parseInt(w.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Ue;o=_e.numericCompaction(n,o+1,S),l.setTimestamp(uo.parseLong(S.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ue;o=_e.numericCompaction(n,o+1,T),l.setChecksum(H.parseInt(T.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Ue;o=_e.numericCompaction(n,o+1,D),l.setFileSize(uo.parseLong(D.toString()));break;default:throw V.getFormatInstance()}break;case _e.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(g!==-1){let s=o-g;l.isLastSegment()&&s--,l.setOptionalData(G.copyOfRange(n,g,g+s))}return o}static textCompaction(n,o,l){let f=new Int32Array((n[0]-o)*2),m=new Int32Array((n[0]-o)*2),g=0,s=!1;for(;o<n[0]&&!s;){let d=n[o++];if(d<_e.TEXT_COMPACTION_MODE_LATCH)f[g]=d/30,f[g+1]=d%30,g+=2;else switch(d){case _e.TEXT_COMPACTION_MODE_LATCH:f[g++]=_e.TEXT_COMPACTION_MODE_LATCH;break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:o--,s=!0;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=n[o++],m[g]=d,g++;break}}return _e.decodeTextCompaction(f,m,g,l),o}static decodeTextCompaction(n,o,l,f){let m=on.ALPHA,g=on.ALPHA,s=0;for(;s<l;){let d=n[s],x="";switch(m){case on.ALPHA:if(d<26)x=String.fromCharCode(65+d);else switch(d){case 26:x=" ";break;case _e.LL:m=on.LOWER;break;case _e.ML:m=on.MIXED;break;case _e.PS:g=m,m=on.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[s]);break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break;case on.LOWER:if(d<26)x=String.fromCharCode(97+d);else switch(d){case 26:x=" ";break;case _e.AS:g=m,m=on.ALPHA_SHIFT;break;case _e.ML:m=on.MIXED;break;case _e.PS:g=m,m=on.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[s]);break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break;case on.MIXED:if(d<_e.PL)x=_e.MIXED_CHARS[d];else switch(d){case _e.PL:m=on.PUNCT;break;case 26:x=" ";break;case _e.LL:m=on.LOWER;break;case _e.AL:m=on.ALPHA;break;case _e.PS:g=m,m=on.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[s]);break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break;case on.PUNCT:if(d<_e.PAL)x=_e.PUNCT_CHARS[d];else switch(d){case _e.PAL:m=on.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[s]);break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break;case on.ALPHA_SHIFT:if(m=g,d<26)x=String.fromCharCode(65+d);else switch(d){case 26:x=" ";break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break;case on.PUNCT_SHIFT:if(m=g,d<_e.PAL)x=_e.PUNCT_CHARS[d];else switch(d){case _e.PAL:m=on.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[s]);break;case _e.TEXT_COMPACTION_MODE_LATCH:m=on.ALPHA;break}break}x!==""&&f.append(x),s++}}static byteCompaction(n,o,l,f,m){let g=new Wo,s=0,d=0,x=!1;switch(n){case _e.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),S=o[f++];for(;f<o[0]&&!x;)switch(w[s++]=S,d=900*d+S,S=o[f++],S){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:f--,x=!0;break;default:if(s%5===0&&s>0){for(let T=0;T<6;++T)g.write(Number(ma(d)>>ma(8*(5-T))));d=0,s=0}break}f===o[0]&&S<_e.TEXT_COMPACTION_MODE_LATCH&&(w[s++]=S);for(let T=0;T<s;T++)g.write(w[T]);break;case _e.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!x;){let T=o[f++];if(T<_e.TEXT_COMPACTION_MODE_LATCH)s++,d=900*d+T;else switch(T){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:f--,x=!0;break}if(s%5===0&&s>0){for(let D=0;D<6;++D)g.write(Number(ma(d)>>ma(8*(5-D))));d=0,s=0}}break}return m.append(Re.decode(g.toByteArray(),l)),f}static numericCompaction(n,o,l){let f=0,m=!1,g=new Int32Array(_e.MAX_NUMERIC_CODEWORDS);for(;o<n[0]&&!m;){let s=n[o++];if(o===n[0]&&(m=!0),s<_e.TEXT_COMPACTION_MODE_LATCH)g[f]=s,f++;else switch(s){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:o--,m=!0;break}(f%_e.MAX_NUMERIC_CODEWORDS===0||s===_e.NUMERIC_COMPACTION_MODE_LATCH||m)&&f>0&&(l.append(_e.decodeBase900toBase10(g,f)),f=0)}return o}static decodeBase900toBase10(n,o){let l=ma(0);for(let m=0;m<o;m++)l+=_e.EXP900[o-m-1]*ma(n[m]);let f=l.toString();if(f.charAt(0)!=="1")throw new V;return f.substring(1)}}_e.TEXT_COMPACTION_MODE_LATCH=900,_e.BYTE_COMPACTION_MODE_LATCH=901,_e.NUMERIC_COMPACTION_MODE_LATCH=902,_e.BYTE_COMPACTION_MODE_LATCH_6=924,_e.ECI_USER_DEFINED=925,_e.ECI_GENERAL_PURPOSE=926,_e.ECI_CHARSET=927,_e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_e.MACRO_PDF417_TERMINATOR=922,_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_e.MAX_NUMERIC_CODEWORDS=15,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_e.PL=25,_e.LL=27,_e.AS=27,_e.ML=28,_e.AL=28,_e.PS=29,_e.PAL=29,_e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_e.EXP900=Zo()?Gi():[],_e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class kt{constructor(){}static decode(n,o,l,f,m,g,s){let d=new Sa(n,o,l,f,m),x=null,w=null,S;for(let L=!0;;L=!1){if(o!=null&&(x=kt.getRowIndicatorColumn(n,d,o,!0,g,s)),f!=null&&(w=kt.getRowIndicatorColumn(n,d,f,!1,g,s)),S=kt.merge(x,w),S==null)throw ce.getNotFoundInstance();let z=S.getBoundingBox();if(L&&z!=null&&(z.getMinY()<d.getMinY()||z.getMaxY()>d.getMaxY()))d=z;else break}S.setBoundingBox(d);let T=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,x),S.setDetectionResultColumn(T,w);let D=x!=null;for(let L=1;L<=T;L++){let z=D?L:T-L;if(S.getDetectionResultColumn(z)!==void 0)continue;let W;z===0||z===T?W=new Qs(d,z===0):W=new _a(d),S.setDetectionResultColumn(z,W);let Y=-1,Q=Y;for(let ee=d.getMinY();ee<=d.getMaxY();ee++){if(Y=kt.getStartColumn(S,z,ee,D),Y<0||Y>d.getMaxX()){if(Q===-1)continue;Y=Q}let $=kt.detectCodeword(n,d.getMinX(),d.getMaxX(),D,Y,ee,g,s);$!=null&&(W.setCodeword(ee,$),Q=Y,g=Math.min(g,$.getWidth()),s=Math.max(s,$.getWidth()))}}return kt.createDecoderResult(S)}static merge(n,o){if(n==null&&o==null)return null;let l=kt.getBarcodeMetadata(n,o);if(l==null)return null;let f=Sa.merge(kt.adjustBoundingBox(n),kt.adjustBoundingBox(o));return new Xn(l,f)}static adjustBoundingBox(n){if(n==null)return null;let o=n.getRowHeights();if(o==null)return null;let l=kt.getMax(o),f=0;for(let s of o)if(f+=l-s,s>0)break;let m=n.getCodewords();for(let s=0;f>0&&m[s]==null;s++)f--;let g=0;for(let s=o.length-1;s>=0&&(g+=l-o[s],!(o[s]>0));s--);for(let s=m.length-1;g>0&&m[s]==null;s--)g--;return n.getBoundingBox().addMissingRows(f,g,n.isLeft())}static getMax(n){let o=-1;for(let l of n)o=Math.max(o,l);return o}static getBarcodeMetadata(n,o){let l;if(n==null||(l=n.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(n,o,l,f,m,g){let s=new Qs(o,f);for(let d=0;d<2;d++){let x=d===0?1:-1,w=Math.trunc(Math.trunc(l.getX()));for(let S=Math.trunc(Math.trunc(l.getY()));S<=o.getMaxY()&&S>=o.getMinY();S+=x){let T=kt.detectCodeword(n,0,n.getWidth(),f,w,S,m,g);T!=null&&(s.setCodeword(S,T),f?w=T.getStartX():w=T.getEndX())}}return s}static adjustCodewordCount(n,o){let l=o[0][1],f=l.getValue(),m=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-kt.getNumberOfECCodeWords(n.getBarcodeECLevel());if(f.length===0){if(m<1||m>gt.MAX_CODEWORDS_IN_BARCODE)throw ce.getNotFoundInstance();l.setValue(m)}else f[0]!==m&&l.setValue(m)}static createDecoderResult(n){let o=kt.createBarcodeMatrix(n);kt.adjustCodewordCount(n,o);let l=new Array,f=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),m=[],g=new Array;for(let d=0;d<n.getBarcodeRowCount();d++)for(let x=0;x<n.getBarcodeColumnCount();x++){let w=o[d][x+1].getValue(),S=d*n.getBarcodeColumnCount()+x;w.length===0?l.push(S):w.length===1?f[S]=w[0]:(g.push(S),m.push(w))}let s=new Array(m.length);for(let d=0;d<s.length;d++)s[d]=m[d];return kt.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),f,gt.toIntArray(l),gt.toIntArray(g),s)}static createDecoderResultFromAmbiguousValues(n,o,l,f,m){let g=new Int32Array(f.length),s=100;for(;s-- >0;){for(let d=0;d<g.length;d++)o[f[d]]=m[d][g[d]];try{return kt.decodeCodewords(o,n,l)}catch(d){if(!(d instanceof M))throw d}if(g.length===0)throw M.getChecksumInstance();for(let d=0;d<g.length;d++)if(g[d]<m[d].length-1){g[d]++;break}else if(g[d]=0,d===g.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(n){let o=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let m=0;m<o[f].length;m++)o[f][m]=new Ua;let l=0;for(let f of n.getDetectionResultColumns()){if(f!=null){for(let m of f.getCodewords())if(m!=null){let g=m.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][l].setValue(m.getValue())}}}l++}return o}static isValidBarcodeColumn(n,o){return o>=0&&o<=n.getBarcodeColumnCount()+1}static getStartColumn(n,o,l,f){let m=f?1:-1,g=null;if(kt.isValidBarcodeColumn(n,o-m)&&(g=n.getDetectionResultColumn(o-m).getCodeword(l)),g!=null)return f?g.getEndX():g.getStartX();if(g=n.getDetectionResultColumn(o).getCodewordNearby(l),g!=null)return f?g.getStartX():g.getEndX();if(kt.isValidBarcodeColumn(n,o-m)&&(g=n.getDetectionResultColumn(o-m).getCodewordNearby(l)),g!=null)return f?g.getEndX():g.getStartX();let s=0;for(;kt.isValidBarcodeColumn(n,o-m);){o-=m;for(let d of n.getDetectionResultColumn(o).getCodewords())if(d!=null)return(f?d.getEndX():d.getStartX())+m*s*(d.getEndX()-d.getStartX());s++}return f?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,o,l,f,m,g,s,d){m=kt.adjustCodewordStartColumn(n,o,l,f,m,g);let x=kt.getModuleBitCount(n,o,l,f,m,g);if(x==null)return null;let w,S=Rt.sum(x);if(f)w=m+S;else{for(let L=0;L<x.length/2;L++){let z=x[L];x[L]=x[x.length-1-L],x[x.length-1-L]=z}w=m,m=w-S}if(!kt.checkCodewordSkew(S,s,d))return null;let T=pr.getDecodedValue(x),D=gt.getCodeword(T);return D===-1?null:new ha(m,w,kt.getCodewordBucketNumber(T),D)}static getModuleBitCount(n,o,l,f,m,g){let s=m,d=new Int32Array(8),x=0,w=f?1:-1,S=f;for(;(f?s<l:s>=o)&&x<d.length;)n.get(s,g)===S?(d[x]++,s+=w):(x++,S=!S);return x===d.length||s===(f?l:o)&&x===d.length-1?d:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,o,l,f,m,g){let s=m,d=f?-1:1;for(let x=0;x<2;x++){for(;(f?s>=o:s<l)&&f===n.get(s,g);){if(Math.abs(m-s)>kt.CODEWORD_SKEW_SIZE)return m;s+=d}d=-d,f=!f}return s}static checkCodewordSkew(n,o,l){return o-kt.CODEWORD_SKEW_SIZE<=n&&n<=l+kt.CODEWORD_SKEW_SIZE}static decodeCodewords(n,o,l){if(n.length===0)throw V.getFormatInstance();let f=1<<o+1,m=kt.correctErrors(n,l,f);kt.verifyCodewordCount(n,f);let g=_e.decode(n,""+o);return g.setErrorsCorrected(m),g.setErasures(l.length),g}static correctErrors(n,o,l){if(o!=null&&o.length>l/2+kt.MAX_ERRORS||l<0||l>kt.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return kt.errorCorrection.decode(n,l,o)}static verifyCodewordCount(n,o){if(n.length<4)throw V.getFormatInstance();let l=n[0];if(l>n.length)throw V.getFormatInstance();if(l===0)if(o<n.length)n[0]=n.length-o;else throw V.getFormatInstance()}static getBitCountForCodeword(n){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((n&1)!==l&&(l=n&1,f--,f<0));)o[f]++,n>>=1;return o}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return kt.getCodewordBucketNumber(kt.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let o=new Aa;for(let l=0;l<n.length;l++){o.format("Row %2d: ",l);for(let f=0;f<n[l].length;f++){let m=n[l][f];m.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",m.getValue()[0],m.getConfidence(m.getValue()[0]))}o.format("%n")}return o.toString()}}kt.CODEWORD_SKEW_SIZE=2,kt.MAX_ERRORS=3,kt.MAX_EC_CODEWORDS=512,kt.errorCorrection=new da;class gr{decode(n,o=null){let l=gr.decode(n,o,!1);if(l==null||l.length===0||l[0]==null)throw ce.getNotFoundInstance();return l[0]}decodeMultiple(n,o=null){try{return gr.decode(n,o,!0)}catch(l){throw l instanceof V||l instanceof M?ce.getNotFoundInstance():l}}static decode(n,o,l){const f=new Array,m=St.detectMultiple(n,o,l);for(const g of m.getPoints()){const s=kt.decode(m.getBits(),g[4],g[5],g[6],g[7],gr.getMinCodewordWidth(g),gr.getMaxCodewordWidth(g)),d=new Oe(s.getText(),s.getRawBytes(),void 0,g,Le.PDF_417);d.putMetadata(et.ERROR_CORRECTION_LEVEL,s.getECLevel());const x=s.getOther();x!=null&&d.putMetadata(et.PDF417_EXTRA_METADATA,x),f.push(d)}return f.map(g=>g)}static getMaxWidth(n,o){return n==null||o==null?0:Math.trunc(Math.abs(n.getX()-o.getX()))}static getMinWidth(n,o){return n==null||o==null?H.MAX_VALUE:Math.trunc(Math.abs(n.getX()-o.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(gr.getMaxWidth(n[0],n[4]),gr.getMaxWidth(n[6],n[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.max(gr.getMaxWidth(n[1],n[5]),gr.getMaxWidth(n[7],n[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(gr.getMinWidth(n[0],n[4]),gr.getMinWidth(n[6],n[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.min(gr.getMinWidth(n[1],n[5]),gr.getMinWidth(n[7],n[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Va extends E{}Va.kind="ReaderException";class Qo{constructor(n,o){this.verbose=n===!0,o&&this.setHints(o)}decode(n,o){return o&&this.setHints(o),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const o=!c(n)&&n.get(re.TRY_HARDER)===!0,l=c(n)?null:n.get(re.POSSIBLE_FORMATS),f=new Array;if(!c(l)){const m=l.some(g=>g===Le.UPC_A||g===Le.UPC_E||g===Le.EAN_13||g===Le.EAN_8||g===Le.CODABAR||g===Le.CODE_39||g===Le.CODE_93||g===Le.CODE_128||g===Le.ITF||g===Le.RSS_14||g===Le.RSS_EXPANDED);m&&!o&&f.push(new zr(n,this.verbose)),l.includes(Le.QR_CODE)&&f.push(new lr),l.includes(Le.DATA_MATRIX)&&f.push(new Ea),l.includes(Le.AZTEC)&&f.push(new La),l.includes(Le.PDF_417)&&f.push(new gr),m&&o&&f.push(new zr(n,this.verbose))}f.length===0&&(o||f.push(new zr(n,this.verbose)),f.push(new lr),f.push(new Ea),f.push(new La),f.push(new gr),o&&f.push(new zr(n,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Va("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(n,this.hints)}catch(l){if(l instanceof Va)continue}throw new ce("No MultiFormat Readers were able to detect the code.")}}class $o extends Ie{constructor(n=null,o=500){const l=new Qo;l.setHints(n),super(l,o)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Js extends Ie{constructor(n=500){super(new gr,n)}}class el extends Ie{constructor(n=500){super(new lr,n)}}var cr;(function(F){F[F.ERROR_CORRECTION=0]="ERROR_CORRECTION",F[F.CHARACTER_SET=1]="CHARACTER_SET",F[F.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",F[F.MIN_SIZE=3]="MIN_SIZE",F[F.MAX_SIZE=4]="MAX_SIZE",F[F.MARGIN=5]="MARGIN",F[F.PDF417_COMPACT=6]="PDF417_COMPACT",F[F.PDF417_COMPACTION=7]="PDF417_COMPACTION",F[F.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",F[F.AZTEC_LAYERS=9]="AZTEC_LAYERS",F[F.QR_VERSION=10]="QR_VERSION"})(cr||(cr={}));var zn=cr;class Ha{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new ht(n,Int32Array.from([1])))}buildGenerator(n){const o=this.cachedGenerators;if(n>=o.length){let l=o[o.length-1];const f=this.field;for(let m=o.length;m<=n;m++){const g=l.multiply(new ht(f,Int32Array.from([1,f.exp(m-1+f.getGeneratorBase())])));o.push(g),l=g}}return o[n]}encode(n,o){if(o===0)throw new N("No error correction bytes");const l=n.length-o;if(l<=0)throw new N("No data bytes provided");const f=this.buildGenerator(o),m=new Int32Array(l);P.arraycopy(n,0,m,0,l);let g=new ht(this.field,m);g=g.multiplyByMonomial(o,1);const d=g.divide(f)[1].getCoefficients(),x=o-d.length;for(let w=0;w<x;w++)n[l+w]=0;P.arraycopy(d,0,n,l+x,d.length)}}class Vn{constructor(){}static applyMaskPenaltyRule1(n){return Vn.applyMaskPenaltyRule1Internal(n,!0)+Vn.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let o=0;const l=n.getArray(),f=n.getWidth(),m=n.getHeight();for(let g=0;g<m-1;g++){const s=l[g];for(let d=0;d<f-1;d++){const x=s[d];x===s[d+1]&&x===l[g+1][d]&&x===l[g+1][d+1]&&o++}}return Vn.N2*o}static applyMaskPenaltyRule3(n){let o=0;const l=n.getArray(),f=n.getWidth(),m=n.getHeight();for(let g=0;g<m;g++)for(let s=0;s<f;s++){const d=l[g];s+6<f&&d[s]===1&&d[s+1]===0&&d[s+2]===1&&d[s+3]===1&&d[s+4]===1&&d[s+5]===0&&d[s+6]===1&&(Vn.isWhiteHorizontal(d,s-4,s)||Vn.isWhiteHorizontal(d,s+7,s+11))&&o++,g+6<m&&l[g][s]===1&&l[g+1][s]===0&&l[g+2][s]===1&&l[g+3][s]===1&&l[g+4][s]===1&&l[g+5][s]===0&&l[g+6][s]===1&&(Vn.isWhiteVertical(l,s,g-4,g)||Vn.isWhiteVertical(l,s,g+7,g+11))&&o++}return o*Vn.N3}static isWhiteHorizontal(n,o,l){o=Math.max(o,0),l=Math.min(l,n.length);for(let f=o;f<l;f++)if(n[f]===1)return!1;return!0}static isWhiteVertical(n,o,l,f){l=Math.max(l,0),f=Math.min(f,n.length);for(let m=l;m<f;m++)if(n[m][o]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let o=0;const l=n.getArray(),f=n.getWidth(),m=n.getHeight();for(let d=0;d<m;d++){const x=l[d];for(let w=0;w<f;w++)x[w]===1&&o++}const g=n.getHeight()*n.getWidth();return Math.floor(Math.abs(o*2-g)*10/g)*Vn.N4}static getDataMaskBit(n,o,l){let f,m;switch(n){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:m=l*o,f=(m&1)+m%3;break;case 6:m=l*o,f=(m&1)+m%3&1;break;case 7:m=l*o,f=m%3+(l+o&1)&1;break;default:throw new N("Invalid mask pattern: "+n)}return f===0}static applyMaskPenaltyRule1Internal(n,o){let l=0;const f=o?n.getHeight():n.getWidth(),m=o?n.getWidth():n.getHeight(),g=n.getArray();for(let s=0;s<f;s++){let d=0,x=-1;for(let w=0;w<m;w++){const S=o?g[s][w]:g[w][s];S===x?d++:(d>=5&&(l+=Vn.N1+(d-5)),d=1,x=S)}d>=5&&(l+=Vn.N1+(d-5))}return l}}Vn.N1=3,Vn.N2=3,Vn.N3=40,Vn.N4=10;class Ei{constructor(n,o){this.width=n,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(n);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(n,o){return this.bytes[o][n]}getArray(){return this.bytes}setNumber(n,o,l){this.bytes[o][n]=l}setBoolean(n,o,l){this.bytes[o][n]=l?1:0}clear(n){for(const o of this.bytes)G.fill(o,n)}equals(n){if(!(n instanceof Ei))return!1;const o=n;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const m=this.bytes[l],g=o.bytes[l];for(let s=0,d=this.width;s<d;++s)if(m[s]!==g[s])return!1}return!0}toString(){const n=new Ue;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let m=0,g=this.width;m<g;++m)switch(f[m]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class oi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Ue;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<oi.NUM_MASK_PATTERNS}}oi.NUM_MASK_PATTERNS=8;class mn extends E{}mn.kind="WriterException";class yt{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,o,l,f,m){yt.clearMatrix(m),yt.embedBasicPatterns(l,m),yt.embedTypeInfo(o,f,m),yt.maybeEmbedVersionInfo(l,m),yt.embedDataBits(n,f,m)}static embedBasicPatterns(n,o){yt.embedPositionDetectionPatternsAndSeparators(o),yt.embedDarkDotAtLeftBottomCorner(o),yt.maybeEmbedPositionAdjustmentPatterns(n,o),yt.embedTimingPatterns(o)}static embedTypeInfo(n,o,l){const f=new q;yt.makeTypeInfoBits(n,o,f);for(let m=0,g=f.getSize();m<g;++m){const s=f.get(f.getSize()-1-m),d=yt.TYPE_INFO_COORDINATES[m],x=d[0],w=d[1];if(l.setBoolean(x,w,s),m<8){const S=l.getWidth()-m-1;l.setBoolean(S,8,s)}else{const T=l.getHeight()-7+(m-8);l.setBoolean(8,T,s)}}}static maybeEmbedVersionInfo(n,o){if(n.getVersionNumber()<7)return;const l=new q;yt.makeVersionInfoBits(n,l);let f=17;for(let m=0;m<6;++m)for(let g=0;g<3;++g){const s=l.get(f);f--,o.setBoolean(m,o.getHeight()-11+g,s),o.setBoolean(o.getHeight()-11+g,m,s)}}static embedDataBits(n,o,l){let f=0,m=-1,g=l.getWidth()-1,s=l.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);s>=0&&s<l.getHeight();){for(let d=0;d<2;++d){const x=g-d;if(!yt.isEmpty(l.get(x,s)))continue;let w;f<n.getSize()?(w=n.get(f),++f):w=!1,o!==255&&Vn.getDataMaskBit(o,x,s)&&(w=!w),l.setBoolean(x,s,w)}s+=m}m=-m,s+=m,g-=2}if(f!==n.getSize())throw new mn("Not all bits consumed: "+f+"/"+n.getSize())}static findMSBSet(n){return 32-H.numberOfLeadingZeros(n)}static calculateBCHCode(n,o){if(o===0)throw new N("0 polynomial");const l=yt.findMSBSet(o);for(n<<=l-1;yt.findMSBSet(n)>=l;)n^=o<<yt.findMSBSet(n)-l;return n}static makeTypeInfoBits(n,o,l){if(!oi.isValidMaskPattern(o))throw new mn("Invalid mask pattern");const f=n.getBits()<<3|o;l.appendBits(f,5);const m=yt.calculateBCHCode(f,yt.TYPE_INFO_POLY);l.appendBits(m,10);const g=new q;if(g.appendBits(yt.TYPE_INFO_MASK_PATTERN,15),l.xor(g),l.getSize()!==15)throw new mn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(n,o){o.appendBits(n.getVersionNumber(),6);const l=yt.calculateBCHCode(n.getVersionNumber(),yt.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new mn("should not happen but we got: "+o.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let o=8;o<n.getWidth()-8;++o){const l=(o+1)%2;yt.isEmpty(n.get(o,6))&&n.setNumber(o,6,l),yt.isEmpty(n.get(6,o))&&n.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new mn;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,o,l){for(let f=0;f<8;++f){if(!yt.isEmpty(l.get(n+f,o)))throw new mn;l.setNumber(n+f,o,0)}}static embedVerticalSeparationPattern(n,o,l){for(let f=0;f<7;++f){if(!yt.isEmpty(l.get(n,o+f)))throw new mn;l.setNumber(n,o+f,0)}}static embedPositionAdjustmentPattern(n,o,l){for(let f=0;f<5;++f){const m=yt.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)l.setNumber(n+g,o+f,m[g])}}static embedPositionDetectionPattern(n,o,l){for(let f=0;f<7;++f){const m=yt.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)l.setNumber(n+g,o+f,m[g])}}static embedPositionDetectionPatternsAndSeparators(n){const o=yt.POSITION_DETECTION_PATTERN[0].length;yt.embedPositionDetectionPattern(0,0,n),yt.embedPositionDetectionPattern(n.getWidth()-o,0,n),yt.embedPositionDetectionPattern(0,n.getWidth()-o,n);const l=8;yt.embedHorizontalSeparationPattern(0,l-1,n),yt.embedHorizontalSeparationPattern(n.getWidth()-l,l-1,n),yt.embedHorizontalSeparationPattern(0,n.getWidth()-l,n);const f=7;yt.embedVerticalSeparationPattern(f,0,n),yt.embedVerticalSeparationPattern(n.getHeight()-f-1,0,n),yt.embedVerticalSeparationPattern(f,n.getHeight()-f,n)}static maybeEmbedPositionAdjustmentPatterns(n,o){if(n.getVersionNumber()<2)return;const l=n.getVersionNumber()-1,f=yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let m=0,g=f.length;m!==g;m++){const s=f[m];if(s>=0)for(let d=0;d!==g;d++){const x=f[d];x>=0&&yt.isEmpty(o.get(x,s))&&yt.embedPositionAdjustmentPattern(x-2,s-2,o)}}}}yt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),yt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),yt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),yt.VERSION_INFO_POLY=7973,yt.TYPE_INFO_POLY=1335,yt.TYPE_INFO_MASK_PATTERN=21522;class tl{constructor(n,o){this.dataBytes=n,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class sn{constructor(){}static calculateMaskPenalty(n){return Vn.applyMaskPenaltyRule1(n)+Vn.applyMaskPenaltyRule2(n)+Vn.applyMaskPenaltyRule3(n)+Vn.applyMaskPenaltyRule4(n)}static encode(n,o,l=null){let f=sn.DEFAULT_BYTE_MODE_ENCODING;const m=l!==null&&l.get(zn.CHARACTER_SET)!==void 0;m&&(f=l.get(zn.CHARACTER_SET).toString());const g=this.chooseMode(n,f),s=new q;if(g===pt.BYTE&&(m||sn.DEFAULT_BYTE_MODE_ENCODING!==f)){const ee=te.getCharacterSetECIByName(f);ee!==void 0&&this.appendECI(ee,s)}this.appendModeInfo(g,s);const d=new q;this.appendBytes(n,g,d,f);let x;if(l!==null&&l.get(zn.QR_VERSION)!==void 0){const ee=Number.parseInt(l.get(zn.QR_VERSION).toString(),10);x=ot.getVersionForNumber(ee);const $=this.calculateBitsNeeded(g,s,d,x);if(!this.willFit($,x,o))throw new mn("Data too big for requested version")}else x=this.recommendVersion(o,g,s,d);const w=new q;w.appendBitArray(s);const S=g===pt.BYTE?d.getSizeInBytes():n.length;this.appendLengthInfo(S,x,g,w),w.appendBitArray(d);const T=x.getECBlocksForLevel(o),D=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(D,w);const L=this.interleaveWithECBytes(w,x.getTotalCodewords(),D,T.getNumBlocks()),z=new oi;z.setECLevel(o),z.setMode(g),z.setVersion(x);const W=x.getDimensionForVersion(),Y=new Ei(W,W),Q=this.chooseMaskPattern(L,o,x,Y);return z.setMaskPattern(Q),yt.buildMatrix(L,o,x,Q,Y),z.setMatrix(Y),z}static recommendVersion(n,o,l,f){const m=this.calculateBitsNeeded(o,l,f,ot.getVersionForNumber(1)),g=this.chooseVersion(m,n),s=this.calculateBitsNeeded(o,l,f,g);return this.chooseVersion(s,n)}static calculateBitsNeeded(n,o,l,f){return o.getSize()+n.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(n){return n<sn.ALPHANUMERIC_TABLE.length?sn.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,o=null){if(te.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(n))return pt.KANJI;let l=!1,f=!1;for(let m=0,g=n.length;m<g;++m){const s=n.charAt(m);if(sn.isDigit(s))l=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)f=!0;else return pt.BYTE}return f?pt.ALPHANUMERIC:l?pt.NUMERIC:pt.BYTE}static isOnlyDoubleByteKanji(n){let o;try{o=Re.encode(n,te.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const m=o[f]&255;if((m<129||m>159)&&(m<224||m>235))return!1}return!0}static chooseMaskPattern(n,o,l,f){let m=Number.MAX_SAFE_INTEGER,g=-1;for(let s=0;s<oi.NUM_MASK_PATTERNS;s++){yt.buildMatrix(n,o,l,s,f);let d=this.calculateMaskPenalty(f);d<m&&(m=d,g=s)}return g}static chooseVersion(n,o){for(let l=1;l<=40;l++){const f=ot.getVersionForNumber(l);if(sn.willFit(n,f,o))return f}throw new mn("Data too big")}static willFit(n,o,l){const f=o.getTotalCodewords(),g=o.getECBlocksForLevel(l).getTotalECCodewords(),s=f-g,d=(n+7)/8;return s>=d}static terminateBits(n,o){const l=n*8;if(o.getSize()>l)throw new mn("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let g=0;g<4&&o.getSize()<l;++g)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let g=f;g<8;g++)o.appendBit(!1);const m=n-o.getSizeInBytes();for(let g=0;g<m;++g)o.appendBits((g&1)===0?236:17,8);if(o.getSize()!==l)throw new mn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,o,l,f,m,g){if(f>=l)throw new mn("Block ID too large");const s=n%l,d=l-s,x=Math.floor(n/l),w=x+1,S=Math.floor(o/l),T=S+1,D=x-S,L=w-T;if(D!==L)throw new mn("EC bytes mismatch");if(l!==d+s)throw new mn("RS blocks mismatch");if(n!==(S+D)*d+(T+L)*s)throw new mn("Total bytes mismatch");f<d?(m[0]=S,g[0]=D):(m[0]=T,g[0]=L)}static interleaveWithECBytes(n,o,l,f){if(n.getSizeInBytes()!==l)throw new mn("Number of bits and data bytes does not match");let m=0,g=0,s=0;const d=new Array;for(let w=0;w<f;++w){const S=new Int32Array(1),T=new Int32Array(1);sn.getNumDataBytesAndNumECBytesForBlockID(o,l,f,w,S,T);const D=S[0],L=new Uint8Array(D);n.toBytes(8*m,L,0,D);const z=sn.generateECBytes(L,T[0]);d.push(new tl(L,z)),g=Math.max(g,D),s=Math.max(s,z.length),m+=S[0]}if(l!==m)throw new mn("Data bytes does not match offset");const x=new q;for(let w=0;w<g;++w)for(const S of d){const T=S.getDataBytes();w<T.length&&x.appendBits(T[w],8)}for(let w=0;w<s;++w)for(const S of d){const T=S.getErrorCorrectionBytes();w<T.length&&x.appendBits(T[w],8)}if(o!==x.getSizeInBytes())throw new mn("Interleaving error: "+o+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(n,o){const l=n.length,f=new Int32Array(l+o);for(let g=0;g<l;g++)f[g]=n[g]&255;new Ha(mt.QR_CODE_FIELD_256).encode(f,o);const m=new Uint8Array(o);for(let g=0;g<o;g++)m[g]=f[l+g];return m}static appendModeInfo(n,o){o.appendBits(n.getBits(),4)}static appendLengthInfo(n,o,l,f){const m=l.getCharacterCountBits(o);if(n>=1<<m)throw new mn(n+" is bigger than "+((1<<m)-1));f.appendBits(n,m)}static appendBytes(n,o,l,f){switch(o){case pt.NUMERIC:sn.appendNumericBytes(n,l);break;case pt.ALPHANUMERIC:sn.appendAlphanumericBytes(n,l);break;case pt.BYTE:sn.append8BitBytes(n,l,f);break;case pt.KANJI:sn.appendKanjiBytes(n,l);break;default:throw new mn("Invalid mode: "+o)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const o=sn.getDigit(n);return o>=0&&o<=9}static appendNumericBytes(n,o){const l=n.length;let f=0;for(;f<l;){const m=sn.getDigit(n.charAt(f));if(f+2<l){const g=sn.getDigit(n.charAt(f+1)),s=sn.getDigit(n.charAt(f+2));o.appendBits(m*100+g*10+s,10),f+=3}else if(f+1<l){const g=sn.getDigit(n.charAt(f+1));o.appendBits(m*10+g,7),f+=2}else o.appendBits(m,4),f++}}static appendAlphanumericBytes(n,o){const l=n.length;let f=0;for(;f<l;){const m=sn.getAlphanumericCode(n.charCodeAt(f));if(m===-1)throw new mn;if(f+1<l){const g=sn.getAlphanumericCode(n.charCodeAt(f+1));if(g===-1)throw new mn;o.appendBits(m*45+g,11),f+=2}else o.appendBits(m,6),f++}}static append8BitBytes(n,o,l){let f;try{f=Re.encode(n,l)}catch(m){throw new mn(m)}for(let m=0,g=f.length;m!==g;m++){const s=f[m];o.appendBits(s,8)}}static appendKanjiBytes(n,o){let l;try{l=Re.encode(n,te.SJIS)}catch(m){throw new mn(m)}const f=l.length;for(let m=0;m<f;m+=2){const g=l[m]&255,s=l[m+1]&255,d=g<<8&4294967295|s;let x=-1;if(d>=33088&&d<=40956?x=d-33088:d>=57408&&d<=60351&&(x=d-49472),x===-1)throw new mn("Invalid byte sequence");const w=(x>>8)*192+(x&255);o.appendBits(w,13)}}static appendECI(n,o){o.appendBits(pt.ECI.getBits(),4),o.appendBits(n.getValue(),8)}}sn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),sn.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Ga{write(n,o,l,f=null){if(n.length===0)throw new N("Found empty contents");if(o<0||l<0)throw new N("Requested dimensions are too small: "+o+"x"+l);let m=Mt.L,g=Ga.QUIET_ZONE_SIZE;f!==null&&(f.get(zn.ERROR_CORRECTION)!==void 0&&(m=Mt.fromString(f.get(zn.ERROR_CORRECTION).toString())),f.get(zn.MARGIN)!==void 0&&(g=Number.parseInt(f.get(zn.MARGIN).toString(),10)));const s=sn.encode(n,m,f);return this.renderResult(s,o,l,g)}writeToDom(n,o,l,f,m=null){typeof n=="string"&&(n=document.querySelector(n));const g=this.write(o,l,f,m);n&&n.appendChild(g)}renderResult(n,o,l,f){const m=n.getMatrix();if(m===null)throw new wn;const g=m.getWidth(),s=m.getHeight(),d=g+f*2,x=s+f*2,w=Math.max(o,d),S=Math.max(l,x),T=Math.min(Math.floor(w/d),Math.floor(S/x)),D=Math.floor((w-g*T)/2),L=Math.floor((S-s*T)/2),z=this.createSVGElement(w,S);for(let W=0,Y=L;W<s;W++,Y+=T)for(let Q=0,ee=D;Q<g;Q++,ee+=T)if(m.get(Q,W)===1){const $=this.createSvgRectElement(ee,Y,T,T);z.appendChild($)}return z}createSVGElement(n,o){const l=document.createElementNS(Ga.SVG_NS,"svg");return l.setAttributeNS(null,"height",n.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(n,o,l,f){const m=document.createElementNS(Ga.SVG_NS,"rect");return m.setAttributeNS(null,"x",n.toString()),m.setAttributeNS(null,"y",o.toString()),m.setAttributeNS(null,"height",l.toString()),m.setAttributeNS(null,"width",f.toString()),m.setAttributeNS(null,"fill","#000000"),m}}Ga.QUIET_ZONE_SIZE=4,Ga.SVG_NS="http://www.w3.org/2000/svg";class si{encode(n,o,l,f,m){if(n.length===0)throw new N("Found empty contents");if(o!==Le.QR_CODE)throw new N("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new N(`Requested dimensions are too small: ${l}x${f}`);let g=Mt.L,s=si.QUIET_ZONE_SIZE;m!==null&&(m.get(zn.ERROR_CORRECTION)!==void 0&&(g=Mt.fromString(m.get(zn.ERROR_CORRECTION).toString())),m.get(zn.MARGIN)!==void 0&&(s=Number.parseInt(m.get(zn.MARGIN).toString(),10)));const d=sn.encode(n,g,m);return si.renderResult(d,l,f,s)}static renderResult(n,o,l,f){const m=n.getMatrix();if(m===null)throw new wn;const g=m.getWidth(),s=m.getHeight(),d=g+f*2,x=s+f*2,w=Math.max(o,d),S=Math.max(l,x),T=Math.min(Math.floor(w/d),Math.floor(S/x)),D=Math.floor((w-g*T)/2),L=Math.floor((S-s*T)/2),z=new me(w,S);for(let W=0,Y=L;W<s;W++,Y+=T)for(let Q=0,ee=D;Q<g;Q++,ee+=T)m.get(Q,W)===1&&z.setRegion(ee,Y,T,T);return z}}si.QUIET_ZONE_SIZE=4;class Jo{encode(n,o,l,f,m){let g;switch(o){case Le.QR_CODE:g=new si;break;default:throw new N("No encoder available for format "+o)}return g.encode(n,o,l,f,m)}}class ta extends Ne{constructor(n,o,l,f,m,g,s,d){if(super(g,s),this.yuvData=n,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=m,f+g>o||m+s>l)throw new N("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(g,s)}getRow(n,o){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=n*o,f=new Uint8ClampedArray(l);let m=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.yuvData,m,f,0,l),f;for(let g=0;g<o;g++){const s=g*n;P.arraycopy(this.yuvData,m,f,s,n),m+=this.dataWidth}return f}isCropSupported(){return!0}crop(n,o,l,f){return new ta(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+o,l,f,!1)}renderThumbnail(){const n=this.getWidth()/ta.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ta.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(n*o),f=this.yuvData;let m=this.top*this.dataWidth+this.left;for(let g=0;g<o;g++){const s=g*n;for(let d=0;d<n;d++){const x=f[m+d*ta.THUMBNAIL_SCALE_FACTOR]&255;l[s+d]=4278190080|x*65793}m+=this.dataWidth*ta.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ta.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ta.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,o){const l=this.yuvData;for(let f=0,m=this.top*this.dataWidth+this.left;f<o;f++,m+=this.dataWidth){const g=m+n/2;for(let s=m,d=m+n-1;s<g;s++,d--){const x=l[s];l[s]=l[d],l[d]=x}}}invert(){return new we(this)}}ta.THUMBNAIL_SCALE_FACTOR=2;class es extends Ne{constructor(n,o,l,f,m,g,s){if(super(o,l),this.dataWidth=f,this.dataHeight=m,this.left=g,this.top=s,n.BYTES_PER_ELEMENT===4){const d=o*l,x=new Uint8ClampedArray(d);for(let w=0;w<d;w++){const S=n[w],T=S>>16&255,D=S>>7&510,L=S&255;x[w]=(T+D+L)/4&255}this.luminances=x}else this.luminances=n;if(f===void 0&&(this.dataWidth=o),m===void 0&&(this.dataHeight=l),g===void 0&&(this.left=0),s===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(n,o){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=n*o,f=new Uint8ClampedArray(l);let m=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.luminances,m,f,0,l),f;for(let g=0;g<o;g++){const s=g*n;P.arraycopy(this.luminances,m,f,s,n),m+=this.dataWidth}return f}isCropSupported(){return!0}crop(n,o,l,f){return new es(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+n,this.top+o)}invert(){return new we(this)}}class Fl extends te{static forName(n){return this.getCharacterSetECIByName(n)}}class Ci{}Ci.ISO_8859_1=te.ISO8859_1;class qa{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Ul{static singletonList(n){return[n]}static min(n,o){return n.sort(o)[0]}}class ts{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Xa extends ts{constructor(n,o,l){super(n),this.value=o,this.bitCount=l}appendTo(n,o){n.appendBits(this.value,this.bitCount)}add(n,o){return new Xa(this,n,o)}addBinaryShift(n,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xa(this,n,o)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+H.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ns extends Xa{constructor(n,o,l){super(n,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(n,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):l===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(n,o){return new ns(this,n,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function nl(F,n,o){return new ns(F,n,o)}function qi(F,n,o){return new Xa(F,n,o)}const Si=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ka=0,rs=1,Gr=2,mo=3,na=4,Xi=new Xa(null,0,0),Ai=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yc(F){for(let n of F)G.fill(n,-1);return F[Ka][na]=0,F[rs][na]=0,F[rs][Ka]=28,F[mo][na]=0,F[Gr][na]=0,F[Gr][Ka]=15,F}const po=Yc(G.createInt32Array(6,6));class Pr{constructor(n,o,l,f){this.token=n,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,o){let l=this.bitCount,f=this.token;if(n!==this.mode){let g=Ai[this.mode][n];f=qi(f,g&65535,g>>16),l+=g>>16}let m=n===Gr?4:5;return f=qi(f,o,m),new Pr(f,n,0,l+m)}shiftAndAppend(n,o){let l=this.token,f=this.mode===Gr?4:5;return l=qi(l,po[this.mode][n],f),l=qi(l,o,5),new Pr(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(n){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===na||this.mode===Gr){let s=Ai[l][Ka];o=qi(o,s&65535,s>>16),f+=s>>16,l=Ka}let m=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Pr(o,l,this.binaryShiftByteCount+1,f+m);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(n+1)),g}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=nl(o,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let o=this.bitCount+(Ai[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?o+=Pr.calculateBinaryShiftCost(n)-Pr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(o+=10),o<=n.bitCount}toBitArray(n){let o=[];for(let f=this.endBinaryShift(n.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new q;for(const f of o)f.appendTo(l,n);return l}toString(){return xe.format("%s bits=%d bytes=%d",Si[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Pr.INITIAL_STATE=new Pr(Xi,Ka,0,0);function Ta(F){const n=xe.getCharCode(" "),o=xe.getCharCode("."),l=xe.getCharCode(",");F[Ka][n]=1;const f=xe.getCharCode("Z"),m=xe.getCharCode("A");for(let T=m;T<=f;T++)F[Ka][T]=T-m+2;F[rs][n]=1;const g=xe.getCharCode("z"),s=xe.getCharCode("a");for(let T=s;T<=g;T++)F[rs][T]=T-s+2;F[Gr][n]=1;const d=xe.getCharCode("9"),x=xe.getCharCode("0");for(let T=x;T<=d;T++)F[Gr][T]=T-x+2;F[Gr][l]=12,F[Gr][o]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<w.length;T++)F[mo][xe.getCharCode(w[T])]=T;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<S.length;T++)xe.getCharCode(S[T])>0&&(F[na][xe.getCharCode(S[T])]=T);return F}const On=Ta(G.createInt32Array(5,256));class Na{constructor(n){this.text=n}encode(){const n=xe.getCharCode(" "),o=xe.getCharCode(`
`);let l=Ul.singletonList(Pr.INITIAL_STATE);for(let m=0;m<this.text.length;m++){let g,s=m+1<this.text.length?this.text[m+1]:0;switch(this.text[m]){case xe.getCharCode("\r"):g=s===o?2:0;break;case xe.getCharCode("."):g=s===n?3:0;break;case xe.getCharCode(","):g=s===n?4:0;break;case xe.getCharCode(":"):g=s===n?5:0;break;default:g=0}g>0?(l=Na.updateStateListForPair(l,m,g),m++):l=this.updateStateListForChar(l,m)}return Ul.min(l,(m,g)=>m.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,o){const l=[];for(let f of n)this.updateStateForChar(f,o,l);return Na.simplifyStates(l)}updateStateForChar(n,o,l){let f=this.text[o]&255,m=On[n.getMode()][f]>0,g=null;for(let s=0;s<=na;s++){let d=On[s][f];if(d>0){if(g==null&&(g=n.endBinaryShift(o)),!m||s===n.getMode()||s===Gr){const x=g.latchAndAppend(s,d);l.push(x)}if(!m&&po[n.getMode()][s]>=0){const x=g.shiftAndAppend(s,d);l.push(x)}}}if(n.getBinaryShiftByteCount()>0||On[n.getMode()][f]===0){let s=n.addBinaryShiftChar(o);l.push(s)}}static updateStateListForPair(n,o,l){const f=[];for(let m of n)this.updateStateForPair(m,o,l,f);return this.simplifyStates(f)}static updateStateForPair(n,o,l,f){let m=n.endBinaryShift(o);if(f.push(m.latchAndAppend(na,l)),n.getMode()!==na&&f.push(m.shiftAndAppend(na,l)),l===3||l===4){let g=m.latchAndAppend(Gr,16-l).latchAndAppend(Gr,1);f.push(g)}if(n.getBinaryShiftByteCount()>0){let g=n.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(g)}}static simplifyStates(n){let o=[];for(const l of n){let f=!0;for(const m of o){if(m.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(m)&&(o=o.filter(g=>g!==m))}f&&o.push(l)}return o}}class jt{constructor(){}static encodeBytes(n){return jt.encode(n,jt.DEFAULT_EC_PERCENT,jt.DEFAULT_AZTEC_LAYERS)}static encode(n,o,l){let f=new Na(n).encode(),m=H.truncDivision(f.getSize()*o,100)+11,g=f.getSize()+m,s,d,x,w,S;if(l!==jt.DEFAULT_AZTEC_LAYERS){if(s=l<0,d=Math.abs(l),d>(s?jt.MAX_NB_BITS_COMPACT:jt.MAX_NB_BITS))throw new N(xe.format("Illegal value %s for layers",l));x=jt.totalBitsInLayer(d,s),w=jt.WORD_SIZE[d];let $=x-x%w;if(S=jt.stuffBits(f,w),S.getSize()+m>$)throw new N("Data to large for user specified layer");if(s&&S.getSize()>w*64)throw new N("Data to large for user specified layer")}else{w=0,S=null;for(let $=0;;$++){if($>jt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(s=$<=3,d=s?$+1:$,x=jt.totalBitsInLayer(d,s),g>x)continue;(S==null||w!==jt.WORD_SIZE[d])&&(w=jt.WORD_SIZE[d],S=jt.stuffBits(f,w));let se=x-x%w;if(!(s&&S.getSize()>w*64)&&S.getSize()+m<=se)break}}let T=jt.generateCheckWords(S,x,w),D=S.getSize()/w,L=jt.generateModeMessage(s,d,D),z=(s?11:14)+d*4,W=new Int32Array(z),Y;if(s){Y=z;for(let $=0;$<W.length;$++)W[$]=$}else{Y=z+1+2*H.truncDivision(H.truncDivision(z,2)-1,15);let $=H.truncDivision(z,2),se=H.truncDivision(Y,2);for(let oe=0;oe<$;oe++){let pe=oe+H.truncDivision(oe,15);W[$-oe-1]=se-pe-1,W[$+oe]=se+pe+1}}let Q=new me(Y);for(let $=0,se=0;$<d;$++){let oe=(d-$)*4+(s?9:12);for(let pe=0;pe<oe;pe++){let be=pe*2;for(let he=0;he<2;he++)T.get(se+be+he)&&Q.set(W[$*2+he],W[$*2+pe]),T.get(se+oe*2+be+he)&&Q.set(W[$*2+pe],W[z-1-$*2-he]),T.get(se+oe*4+be+he)&&Q.set(W[z-1-$*2-he],W[z-1-$*2-pe]),T.get(se+oe*6+be+he)&&Q.set(W[z-1-$*2-pe],W[$*2+he])}se+=oe*8}if(jt.drawModeMessage(Q,s,Y,L),s)jt.drawBullsEye(Q,H.truncDivision(Y,2),5);else{jt.drawBullsEye(Q,H.truncDivision(Y,2),7);for(let $=0,se=0;$<H.truncDivision(z,2)-1;$+=15,se+=16)for(let oe=H.truncDivision(Y,2)&1;oe<Y;oe+=2)Q.set(H.truncDivision(Y,2)-se,oe),Q.set(H.truncDivision(Y,2)+se,oe),Q.set(oe,H.truncDivision(Y,2)-se),Q.set(oe,H.truncDivision(Y,2)+se)}let ee=new qa;return ee.setCompact(s),ee.setSize(Y),ee.setLayers(d),ee.setCodeWords(D),ee.setMatrix(Q),ee}static drawBullsEye(n,o,l){for(let f=0;f<l;f+=2)for(let m=o-f;m<=o+f;m++)n.set(m,o-f),n.set(m,o+f),n.set(o-f,m),n.set(o+f,m);n.set(o-l,o-l),n.set(o-l+1,o-l),n.set(o-l,o-l+1),n.set(o+l,o-l),n.set(o+l,o-l+1),n.set(o+l,o+l-1)}static generateModeMessage(n,o,l){let f=new q;return n?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=jt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=jt.generateCheckWords(f,40,4)),f}static drawModeMessage(n,o,l,f){let m=H.truncDivision(l,2);if(o)for(let g=0;g<7;g++){let s=m-3+g;f.get(g)&&n.set(s,m-5),f.get(g+7)&&n.set(m+5,s),f.get(20-g)&&n.set(s,m+5),f.get(27-g)&&n.set(m-5,s)}else for(let g=0;g<10;g++){let s=m-5+g+H.truncDivision(g,5);f.get(g)&&n.set(s,m-7),f.get(g+10)&&n.set(m+7,s),f.get(29-g)&&n.set(s,m+7),f.get(39-g)&&n.set(m-7,s)}}static generateCheckWords(n,o,l){let f=n.getSize()/l,m=new Ha(jt.getGF(l)),g=H.truncDivision(o,l),s=jt.bitsToWords(n,l,g);m.encode(s,g-f);let d=o%l,x=new q;x.appendBits(0,d);for(const w of Array.from(s))x.appendBits(w,l);return x}static bitsToWords(n,o,l){let f=new Int32Array(l),m,g;for(m=0,g=n.getSize()/o;m<g;m++){let s=0;for(let d=0;d<o;d++)s|=n.get(m*o+d)?1<<o-d-1:0;f[m]=s}return f}static getGF(n){switch(n){case 4:return mt.AZTEC_PARAM;case 6:return mt.AZTEC_DATA_6;case 8:return mt.AZTEC_DATA_8;case 10:return mt.AZTEC_DATA_10;case 12:return mt.AZTEC_DATA_12;default:throw new N("Unsupported word size "+n)}}static stuffBits(n,o){let l=new q,f=n.getSize(),m=(1<<o)-2;for(let g=0;g<f;g+=o){let s=0;for(let d=0;d<o;d++)(g+d>=f||n.get(g+d))&&(s|=1<<o-1-d);(s&m)===m?(l.appendBits(s&m,o),g--):(s&m)===0?(l.appendBits(s|1,o),g--):l.appendBits(s,o)}return l}static totalBitsInLayer(n,o){return((o?88:112)+16*n)*n}}jt.DEFAULT_EC_PERCENT=33,jt.DEFAULT_AZTEC_LAYERS=0,jt.MAX_NB_BITS=32,jt.MAX_NB_BITS_COMPACT=4,jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class go{encode(n,o,l,f){return this.encodeWithHints(n,o,l,f,null)}encodeWithHints(n,o,l,f,m){let g=Ci.ISO_8859_1,s=jt.DEFAULT_EC_PERCENT,d=jt.DEFAULT_AZTEC_LAYERS;return m!=null&&(m.has(zn.CHARACTER_SET)&&(g=Fl.forName(m.get(zn.CHARACTER_SET).toString())),m.has(zn.ERROR_CORRECTION)&&(s=H.parseInt(m.get(zn.ERROR_CORRECTION).toString())),m.has(zn.AZTEC_LAYERS)&&(d=H.parseInt(m.get(zn.AZTEC_LAYERS).toString()))),go.encodeLayers(n,o,l,f,g,s,d)}static encodeLayers(n,o,l,f,m,g,s){if(o!==Le.AZTEC)throw new N("Can only encode AZTEC, but got "+o);let d=jt.encode(xe.getBytes(n,m),g,s);return go.renderResult(d,l,f)}static renderResult(n,o,l){let f=n.getMatrix();if(f==null)throw new wn;let m=f.getWidth(),g=f.getHeight(),s=Math.max(o,m),d=Math.max(l,g),x=Math.min(s/m,d/g),w=(s-m*x)/2,S=(d-g*x)/2,T=new me(s,d);for(let D=0,L=S;D<g;D++,L+=x)for(let z=0,W=w;z<m;z++,W+=x)f.get(z,D)&&T.setRegion(W,L,x,x);return T}}i.AbstractExpandedDecoder=En,i.ArgumentException=I,i.ArithmeticException=rt,i.AztecCode=qa,i.AztecCodeReader=La,i.AztecCodeWriter=go,i.AztecDecoder=Yt,i.AztecDetector=ba,i.AztecDetectorResult=Dr,i.AztecEncoder=jt,i.AztecHighLevelEncoder=Na,i.AztecPoint=Kn,i.BarcodeFormat=Le,i.Binarizer=U,i.BinaryBitmap=k,i.BitArray=q,i.BitMatrix=me,i.BitSource=Jr,i.BrowserAztecCodeReader=wa,i.BrowserBarcodeReader=vi,i.BrowserCodeReader=Ie,i.BrowserDatamatrixCodeReader=hn,i.BrowserMultiFormatReader=$o,i.BrowserPDF417Reader=Js,i.BrowserQRCodeReader=el,i.BrowserQRCodeSvgWriter=Ga,i.CharacterSetECI=te,i.ChecksumException=M,i.Code128Reader=qe,i.Code39Reader=Gt,i.DataMatrixDecodedBitStreamParser=Vr,i.DataMatrixReader=Ea,i.DecodeHintType=re,i.DecoderResult=ft,i.DefaultGridSampler=br,i.DetectorResult=ai,i.EAN13Reader=Or,i.EncodeHintType=zn,i.Exception=E,i.FormatException=V,i.GenericGF=mt,i.GenericGFPoly=ht,i.GlobalHistogramBinarizer=ie,i.GridSampler=Ba,i.GridSamplerInstance=Rr,i.HTMLCanvasElementLuminanceSource=Xe,i.HybridBinarizer=ge,i.ITFReader=He,i.IllegalArgumentException=N,i.IllegalStateException=wn,i.InvertedLuminanceSource=we,i.LuminanceSource=Ne,i.MathUtils=Rt,i.MultiFormatOneDReader=zr,i.MultiFormatReader=Qo,i.MultiFormatWriter=Jo,i.NotFoundException=ce,i.OneDReader=an,i.PDF417DecodedBitStreamParser=_e,i.PDF417DecoderErrorCorrection=da,i.PDF417Reader=gr,i.PDF417ResultMetadata=za,i.PerspectiveTransform=zt,i.PlanarYUVLuminanceSource=ta,i.QRCodeByteMatrix=Ei,i.QRCodeDataMask=Cr,i.QRCodeDecodedBitStreamParser=Rn,i.QRCodeDecoderErrorCorrectionLevel=Mt,i.QRCodeDecoderFormatInformation=Un,i.QRCodeEncoder=sn,i.QRCodeEncoderQRCode=oi,i.QRCodeMaskUtil=Vn,i.QRCodeMatrixUtil=yt,i.QRCodeMode=pt,i.QRCodeReader=lr,i.QRCodeVersion=ot,i.QRCodeWriter=si,i.RGBLuminanceSource=es,i.RSS14Reader=dn,i.RSSExpandedReader=je,i.ReaderException=Va,i.ReedSolomonDecoder=vr,i.ReedSolomonEncoder=Ha,i.ReedSolomonException=An,i.Result=Oe,i.ResultMetadataType=et,i.ResultPoint=Qe,i.StringUtils=xe,i.UnsupportedOperationException=fe,i.VideoInputDevice=ne,i.WhiteRectangleDetector=Dn,i.WriterException=mn,i.ZXingArrays=G,i.ZXingCharset=Fl,i.ZXingInteger=H,i.ZXingStandardCharsets=Ci,i.ZXingStringBuilder=Ue,i.ZXingStringEncoding=Re,i.ZXingSystem=P,i.createAbstractExpandedDecoder=$r,Object.defineProperty(i,"__esModule",{value:!0})}))})(Lu,Lu.exports)),Lu.exports}var ar=gP();const yP=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var vb=(function(){function t(r,i,c){if(this.formatMap=new Map([[st.QR_CODE,ar.BarcodeFormat.QR_CODE],[st.AZTEC,ar.BarcodeFormat.AZTEC],[st.CODABAR,ar.BarcodeFormat.CODABAR],[st.CODE_39,ar.BarcodeFormat.CODE_39],[st.CODE_93,ar.BarcodeFormat.CODE_93],[st.CODE_128,ar.BarcodeFormat.CODE_128],[st.DATA_MATRIX,ar.BarcodeFormat.DATA_MATRIX],[st.MAXICODE,ar.BarcodeFormat.MAXICODE],[st.ITF,ar.BarcodeFormat.ITF],[st.EAN_13,ar.BarcodeFormat.EAN_13],[st.EAN_8,ar.BarcodeFormat.EAN_8],[st.PDF_417,ar.BarcodeFormat.PDF_417],[st.RSS_14,ar.BarcodeFormat.RSS_14],[st.RSS_EXPANDED,ar.BarcodeFormat.RSS_EXPANDED],[st.UPC_A,ar.BarcodeFormat.UPC_A],[st.UPC_E,ar.BarcodeFormat.UPC_E],[st.UPC_EAN_EXTENSION,ar.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!yP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=c;var h=this.createZXingFormats(r),y=new Map;y.set(ar.DecodeHintType.POSSIBLE_FORMATS,h),y.set(ar.DecodeHintType.TRY_HARDER,!1),this.hints=y}return t.prototype.decodeAsync=function(r){var i=this;return new Promise(function(c,h){try{c(i.decode(r))}catch(y){h(y)}})},t.prototype.decode=function(r){var i=new ar.MultiFormatReader(this.verbose,this.hints),c=new ar.HTMLCanvasElementLuminanceSource(r),h=new ar.BinaryBitmap(new ar.HybridBinarizer(c)),y=i.decode(h);return{text:y.text,format:iA.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(i,c,h){r.set(i,c)}),r},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},t.prototype.createZXingFormats=function(r){for(var i=[],c=0,h=r;c<h.length;c++){var y=h[c];this.formatMap.has(y)?i.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return i},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),xP=function(t,r,i,c){function h(y){return y instanceof i?y:new i(function(v){v(y)})}return new(i||(i=Promise))(function(y,v){function b(I){try{E(c.next(I))}catch(N){v(N)}}function A(I){try{E(c.throw(I))}catch(N){v(N)}}function E(I){I.done?y(I.value):h(I.value).then(b,A)}E((c=c.apply(t,r||[])).next())})},vP=function(t,r){var i={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,h,y,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(E){return function(I){return A([E,I])}}function A(E){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(i=0)),i;)try{if(c=1,h&&(y=E[0]&2?h.return:E[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,E[1])).done)return y;switch(h=0,y&&(E=[E[0]&2,y.value]),E[0]){case 0:case 1:y=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,h=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(y=i.trys,!(y=y.length>0&&y[y.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!y||E[1]>y[0]&&E[1]<y[3])){i.label=E[1];break}if(E[0]===6&&i.label<y[1]){i.label=y[1],y=E;break}if(y&&i.label<y[2]){i.label=y[2],i.ops.push(E);break}y[2]&&i.ops.pop(),i.trys.pop();continue}E=r.call(t,i)}catch(I){E=[6,I],h=0}finally{c=y=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},bb=(function(){function t(r,i,c){if(this.formatMap=new Map([[st.QR_CODE,"qr_code"],[st.AZTEC,"aztec"],[st.CODABAR,"codabar"],[st.CODE_39,"code_39"],[st.CODE_93,"code_93"],[st.CODE_128,"code_128"],[st.DATA_MATRIX,"data_matrix"],[st.ITF,"itf"],[st.EAN_13,"ean_13"],[st.EAN_8,"ean_8"],[st.PDF_417,"pdf417"],[st.UPC_A,"upc_a"],[st.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=c;var h=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},t.prototype.decodeAsync=function(r){return xP(this,void 0,void 0,function(){var i,c;return vP(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(r)];case 1:if(i=h.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(i),[2,{text:c.rawValue,format:iA.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(r){for(var i=null,c=0,h=0,y=r;h<y.length;h++){var v=y[h],b=v.boundingBox.width*v.boundingBox.height;b>c&&(c=b,i=v)}if(!i)throw"No largest barcode found";return i},t.prototype.createBarcodeDetectorFormats=function(r){for(var i=[],c=0,h=r;c<h.length;c++){var y=h[c];this.formatMap.has(y)?i.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(i,c,h){r.set(i,c)}),r},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),wb=function(t,r,i,c){function h(y){return y instanceof i?y:new i(function(v){v(y)})}return new(i||(i=Promise))(function(y,v){function b(I){try{E(c.next(I))}catch(N){v(N)}}function A(I){try{E(c.throw(I))}catch(N){v(N)}}function E(I){I.done?y(I.value):h(I.value).then(b,A)}E((c=c.apply(t,r||[])).next())})},Eb=function(t,r){var i={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,h,y,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(E){return function(I){return A([E,I])}}function A(E){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(i=0)),i;)try{if(c=1,h&&(y=E[0]&2?h.return:E[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,E[1])).done)return y;switch(h=0,y&&(E=[E[0]&2,y.value]),E[0]){case 0:case 1:y=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,h=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(y=i.trys,!(y=y.length>0&&y[y.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!y||E[1]>y[0]&&E[1]<y[3])){i.label=E[1];break}if(E[0]===6&&i.label<y[1]){i.label=y[1],y=E;break}if(y&&i.label<y[2]){i.label=y[2],i.ops.push(E);break}y[2]&&i.ops.pop(),i.trys.pop();continue}E=r.call(t,i)}catch(I){E=[6,I],h=0}finally{c=y=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},bP=(function(){function t(r,i,c,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,i&&bb.isSupported()?(this.primaryDecoder=new bb(r,c,h),this.secondaryDecoder=new vb(r,c,h)):this.primaryDecoder=new vb(r,c,h)}return t.prototype.decodeAsync=function(r){return wb(this,void 0,void 0,function(){var i;return Eb(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(r){return wb(this,void 0,void 0,function(){var i,c;return Eb(this,function(h){switch(h.label){case 0:i=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,h.sent()];case 3:if(c=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw c;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(r){if(this.verbose){var i=performance.now()-r;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,i=0,c=this.executionResults;i<c.length;i++){var h=c[i];r+=h}var y=r/this.executionResults.length;console.log("".concat(y," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),_g=(function(){var t=function(r,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(c[y]=h[y])},t(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function c(){this.constructor=r}r.prototype=i===null?Object.create(i):(c.prototype=i.prototype,new c)}})(),vh=function(t,r,i,c){function h(y){return y instanceof i?y:new i(function(v){v(y)})}return new(i||(i=Promise))(function(y,v){function b(I){try{E(c.next(I))}catch(N){v(N)}}function A(I){try{E(c.throw(I))}catch(N){v(N)}}function E(I){I.done?y(I.value):h(I.value).then(b,A)}E((c=c.apply(t,r||[])).next())})},bh=function(t,r){var i={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,h,y,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(E){return function(I){return A([E,I])}}function A(E){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(i=0)),i;)try{if(c=1,h&&(y=E[0]&2?h.return:E[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,E[1])).done)return y;switch(h=0,y&&(E=[E[0]&2,y.value]),E[0]){case 0:case 1:y=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,h=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(y=i.trys,!(y=y.length>0&&y[y.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!y||E[1]>y[0]&&E[1]<y[3])){i.label=E[1];break}if(E[0]===6&&i.label<y[1]){i.label=y[1],y=E;break}if(y&&i.label<y[2]){i.label=y[2],i.ops.push(E);break}y[2]&&i.ops.pop(),i.trys.pop();continue}E=r.call(t,i)}catch(I){E=[6,I],h=0}finally{c=y=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},sA=(function(){function t(r,i){this.name=r,this.track=i}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(r){var i={};i[this.name]=r;var c={advanced:[i]};return this.track.applyConstraints(c)},t.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var i=r[this.name];return i}return null},t})(),wP=(function(t){_g(r,t);function r(i,c){return t.call(this,i,c)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(i){var c={};c[this.name]=i;var h={advanced:[c]};return this.track.applyConstraints(h)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),c=i[this.name];return{min:c.min,max:c.max,step:c.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r})(sA),EP=(function(t){_g(r,t);function r(i){return t.call(this,"zoom",i)||this}return r})(wP),CP=(function(t){_g(r,t);function r(i){return t.call(this,"torch",i)||this}return r})(sA),SP=(function(){function t(r){this.track=r}return t.prototype.zoomFeature=function(){return new EP(this.track)},t.prototype.torchFeature=function(){return new CP(this.track)},t})(),AP=(function(){function t(r,i,c){this.isClosed=!1,this.parentElement=r,this.mediaStream=i,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return t.prototype.createVideoElement=function(r){var i=document.createElement("video");return i.style.width="".concat(r,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},t.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var c=r.surface.clientWidth,h=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(c,h),r.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(r,i,c,h){return vh(this,void 0,void 0,function(){var y,v;return bh(this,function(b){switch(b.label){case 0:return y=new t(r,i,h),c.aspectRatio?(v={aspectRatio:c.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(v)]):[3,2];case 1:b.sent(),b.label=2;case 2:return y.setupSurface(),[2,y]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(r){this.failIfClosed();var i=this,c=function(){setTimeout(r,200),i.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(r){return vh(this,void 0,void 0,function(){return bh(this,function(i){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(i,c){var h=r.mediaStream.getVideoTracks(),y=h.length,v=0;r.mediaStream.getVideoTracks().forEach(function(b){r.mediaStream.removeTrack(b),b.stop(),++v,v>=y&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),i())})})},t.prototype.getCapabilities=function(){return new SP(this.getFirstTrackOrFail())},t})(),_P=(function(){function t(r){this.mediaStream=r}return t.prototype.render=function(r,i,c){return vh(this,void 0,void 0,function(){return bh(this,function(h){return[2,AP.create(r,this.mediaStream,i,c)]})})},t.create=function(r){return vh(this,void 0,void 0,function(){var i,c;return bh(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return c=h.sent(),[2,new t(c)]}})})},t})(),Cb=function(t,r,i,c){function h(y){return y instanceof i?y:new i(function(v){v(y)})}return new(i||(i=Promise))(function(y,v){function b(I){try{E(c.next(I))}catch(N){v(N)}}function A(I){try{E(c.throw(I))}catch(N){v(N)}}function E(I){I.done?y(I.value):h(I.value).then(b,A)}E((c=c.apply(t,r||[])).next())})},Sb=function(t,r){var i={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,h,y,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(E){return function(I){return A([E,I])}}function A(E){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(i=0)),i;)try{if(c=1,h&&(y=E[0]&2?h.return:E[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,E[1])).done)return y;switch(h=0,y&&(E=[E[0]&2,y.value]),E[0]){case 0:case 1:y=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,h=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(y=i.trys,!(y=y.length>0&&y[y.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!y||E[1]>y[0]&&E[1]<y[3])){i.label=E[1];break}if(E[0]===6&&i.label<y[1]){i.label=y[1],y=E;break}if(y&&i.label<y[2]){i.label=y[2],i.ops.push(E);break}y[2]&&i.ops.pop(),i.trys.pop();continue}E=r.call(t,i)}catch(I){E=[6,I],h=0}finally{c=y=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},TP=(function(){function t(){}return t.failIfNotSupported=function(){return Cb(this,void 0,void 0,function(){return Sb(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(r){return Cb(this,void 0,void 0,function(){return Sb(this,function(i){return[2,_P.create(r)]})})},t})(),NP=function(t,r,i,c){function h(y){return y instanceof i?y:new i(function(v){v(y)})}return new(i||(i=Promise))(function(y,v){function b(I){try{E(c.next(I))}catch(N){v(N)}}function A(I){try{E(c.throw(I))}catch(N){v(N)}}function E(I){I.done?y(I.value):h(I.value).then(b,A)}E((c=c.apply(t,r||[])).next())})},RP=function(t,r){var i={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},c,h,y,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(E){return function(I){return A([E,I])}}function A(E){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(i=0)),i;)try{if(c=1,h&&(y=E[0]&2?h.return:E[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,E[1])).done)return y;switch(h=0,y&&(E=[E[0]&2,y.value]),E[0]){case 0:case 1:y=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,h=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(y=i.trys,!(y=y.length>0&&y[y.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!y||E[1]>y[0]&&E[1]<y[3])){i.label=E[1];break}if(E[0]===6&&i.label<y[1]){i.label=y[1],y=E;break}if(y&&i.label<y[2]){i.label=y[2],i.ops.push(E);break}y[2]&&i.ops.pop(),i.trys.pop();continue}E=r.call(t,i)}catch(I){E=[6,I],h=0}finally{c=y=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},OP=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var r=gc.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(r=gc.insecureContextCameraQueryError()),Promise.reject(r)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},t.getCamerasFromMediaDevices=function(){return NP(this,void 0,void 0,function(){var r,i,c,h,y,v,b;return RP(this,function(A){switch(A.label){case 0:return r=function(E){for(var I=E.getVideoTracks(),N=0,k=I;N<k.length;N++){var M=k[N];M.enabled=!1,M.stop(),E.removeTrack(M)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=A.sent(),h=[],y=0,v=c;y<v.length;y++)b=v[y],b.kind==="videoinput"&&h.push({id:b.deviceId,label:b.label});return r(i),[2,h]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,i){var c=function(y){for(var v=[],b=0,A=y;b<A.length;b++){var E=A[b];E.kind==="video"&&v.push({id:E.id,label:E.label})}r(v)},h=MediaStreamTrack;h.getSources(c)})},t})(),hr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(hr||(hr={}));var IP=(function(){function t(){this.state=hr.NOT_STARTED,this.onGoingTransactionNewState=hr.UNKNOWN}return t.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},t.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===hr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=hr.UNKNOWN,this.directTransition(r)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===hr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=hr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==hr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(r){switch(this.state){case hr.UNKNOWN:throw"Transition from unknown is not allowed";case hr.NOT_STARTED:this.failIfNewStateIs(r,[hr.PAUSED]);break;case hr.SCANNING:break;case hr.PAUSED:break}},t.prototype.failIfNewStateIs=function(r,i){for(var c=0,h=i;c<h.length;c++){var y=h[c];if(r===y)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},t})(),MP=(function(){function t(r){this.stateManager=r}return t.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},t.prototype.directTransition=function(r){this.stateManager.directTransition(r)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===hr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==hr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===hr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===hr.PAUSED},t})(),DP=(function(){function t(){}return t.create=function(){return new MP(new IP)},t})(),PP=(function(){var t=function(r,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(c[y]=h[y])},t(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function c(){this.constructor=r}r.prototype=i===null?Object.create(i):(c.prototype=i.prototype,new c)}})(),ei=(function(t){PP(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r})(dP),kP=(function(){function t(r,i){this.logger=i,this.fps=ei.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=ei.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Po(this.qrbox)},t.create=function(r,i){return new t(r,i)},t})(),Ab=(function(){function t(r,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var c;typeof i=="boolean"?this.verbose=i===!0:i&&(c=i,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new mP(this.verbose),this.qrcode=new bP(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=DP.create()}return t.prototype.start=function(r,i,c,h){var y=this;if(!r)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var v;h?v=h:v=this.verbose?this.logger.log:function(){};var b=kP.create(i,this.logger);this.clearElement();var A=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=A,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:ei.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var N=this,k=this.stateManagerProxy.startTransition(hr.SCANNING);return new Promise(function(M,U){var P=E?b.videoConstraints:N.createVideoConstraints(r);if(!P){k.cancel(),U("videoConstraints should be defined");return}var j={};(!E||b.aspectRatio)&&(j.aspectRatio=b.aspectRatio);var X={onRenderSurfaceReady:function(G,H){N.setupUi(G,H,b),N.isScanning=!0,N.foreverScan(b,c,v)}};TP.failIfNotSupported().then(function(G){G.create(P).then(function(H){return H.render(y.element,j,X).then(function(q){N.renderedCamera=q,k.execute(),M(null)}).catch(function(q){k.cancel(),U(q)})}).catch(function(H){k.cancel(),U(gc.errorGettingUserMedia(H))})}).catch(function(G){k.cancel(),U(gc.cameraStreamingNotSupported())})})},t.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(hr.PAUSED),this.showPausedState(),(Po(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,i=function(){r.stateManagerProxy.directTransition(hr.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(hr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(r.element){var y=document.getElementById(ei.SHADED_REGION_ELEMENT_ID);y&&r.element.removeChild(y)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),c(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),i.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(r,i){return this.scanFileV2(r,i).then(function(c){return c.decodedText})},t.prototype.scanFileV2=function(r,i){var c=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Po(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,y){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(r);var v=new Image;v.onload=function(){var b=v.width,A=v.height,E=document.getElementById(c.elementId),I=E.clientWidth?E.clientWidth:ei.DEFAULT_WIDTH,N=Math.max(E.clientHeight?E.clientHeight:A,ei.FILE_SCAN_MIN_HEIGHT),k=c.computeCanvasDrawConfig(b,A,I,N);if(i){var M=c.createCanvasElement(I,N,"qr-canvas-visible");M.style.display="inline-block",E.appendChild(M);var U=M.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=I,U.canvas.height=N,U.drawImage(v,0,0,b,A,k.x,k.y,k.width,k.height)}var P=ei.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(v.width,k.width),X=Math.max(v.height,k.height),G=j+2*P,H=X+2*P,q=c.createCanvasElement(G,H);E.appendChild(q);var ae=q.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=G,ae.canvas.height=H,ae.drawImage(v,0,0,b,A,P,P,j,X);try{c.qrcode.decodeRobustlyAsync(q).then(function(re){h(yb.createFromQrcodeResult(re))}).catch(y)}catch(re){y("QR code parse error, error = ".concat(re))}},v.onerror=y,v.onabort=y,v.onstalled=y,v.onsuspend=y,v.src=URL.createObjectURL(r)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return OP.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(r){if(r){if(!oA.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(r){var i=[st.QR_CODE,st.AZTEC,st.CODABAR,st.CODE_39,st.CODE_93,st.CODE_128,st.DATA_MATRIX,st.MAXICODE,st.ITF,st.EAN_13,st.EAN_8,st.PDF_417,st.RSS_14,st.RSS_EXPANDED,st.UPC_A,st.UPC_E,st.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return i;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],h=0,y=r.formatsToSupport;h<y.length;h++){var v=y[h];fP(v)?c.push(v):this.logger.warn("Invalid format: ".concat(v," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},t.prototype.getUseBarCodeDetectorIfSupported=function(r){if(Po(r))return!0;if(!Po(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(Po(r.experimentalFeatures))return!0;var i=r.experimentalFeatures;return Po(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(r,i,c){var h=this,y=c.qrbox;this.validateQrboxConfig(y);var v=this.toQrdimensions(r,i,y),b=function(E){if(E<ei.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ei.MIN_QR_BOX_SIZE,"px.")},A=function(E){return E>r&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=r),E};b(v.width),b(v.height),v.width=A(v.width)},t.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(r,i,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(r,i)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return c},t.prototype.setupUi=function(r,i,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(r,i,c);var h=Po(c.qrbox)?{width:r,height:i}:c.qrbox;this.validateQrboxConfig(h);var y=this.toQrdimensions(r,i,h);y.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var v=c.isShadedBoxEnabled()&&y.height<=i,b={x:0,y:0,width:r,height:i},A=v?this.getShadedRegionBounds(r,i,y):b,E=this.createCanvasElement(A.width,A.height),I={willReadFrequently:!0},N=E.getContext("2d",I);N.canvas.width=A.width,N.canvas.height=A.height,this.element.append(E),v&&this.possiblyInsertShadingElement(this.element,r,i,y),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=N,this.canvasElement=E},t.prototype.createScannerPausedUiElement=function(r){var i=document.createElement("div");i.innerText=gc.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",r.appendChild(i),this.scannerPausedUiElement=i},t.prototype.scanContext=function(r,i){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return r(h.text,yb.createFromQrcodeResult(h)),c.possiblyUpdateShaders(!0),!0}).catch(function(h){c.possiblyUpdateShaders(!1);var y=gc.codeParseError(h);return i(y,hP.createFrom(y)),!1})},t.prototype.foreverScan=function(r,i,c){var h=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),v=y.videoWidth/y.clientWidth,b=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*v,E=this.qrRegion.height*b,I=this.qrRegion.x*v,N=this.qrRegion.y*b;this.context.drawImage(y,I,N,A,E,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(r,i,c)},h.getTimeoutFps(r.fps))};this.scanContext(i,c).then(function(M){!M&&r.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(i,c).finally(function(){k()})):k()}).catch(function(M){h.logger.logError("Error happend while scanning context",M),k()})}},t.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var i="facingMode",c="deviceId",h={user:!0,environment:!0},y="exact",v=function(U){if(U in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},b=Object.keys(r);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var A=Object.keys(r)[0];if(A!==i&&A!==c)throw"Only '".concat(i,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(A===i){var E=r.facingMode;if(typeof E=="string"){if(v(E))return{facingMode:E}}else if(typeof E=="object")if(y in E){if(v(E["".concat(y)]))return{facingMode:{exact:E["".concat(y)]}}}else throw"'facingMode' should be string or object with"+" ".concat(y," as key.");else{var I=typeof E;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var N=r.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(y in N)return{deviceId:{exact:N["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}else{var k=typeof N;throw"Invalid type of 'deviceId' = ".concat(k)}}}var M=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(M)},t.prototype.computeCanvasDrawConfig=function(r,i,c,h){if(r<=c&&i<=h){var y=(c-r)/2,v=(h-i)/2;return{x:y,y:v,width:r,height:i}}else{var b=r,A=i;return r>c&&(i=c/r*i,r=c),i>h&&(r=h/i*r,i=h),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(A)+" to ".concat(r,"X").concat(i,".")),this.computeCanvasDrawConfig(r,i,c,h)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},t.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=r?ei.BORDER_SHADER_MATCH_COLOR:ei.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(r,i,c){var h=r,y=i,v=document.createElement("canvas");return v.style.width="".concat(h,"px"),v.style.height="".concat(y,"px"),v.style.display="none",v.id=Po(c)?"qr-canvas":c,v},t.prototype.getShadedRegionBounds=function(r,i,c){if(c.width>r||c.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-c.width)/2,y:(i-c.height)/2,width:c.width,height:c.height}},t.prototype.possiblyInsertShadingElement=function(r,i,c,h){if(!(i-h.width<1||c-h.height<1)){var y=document.createElement("div");y.style.position="absolute";var v=(i-h.width)/2,b=(c-h.height)/2;if(y.style.borderLeft="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(ei.SHADED_REGION_ELEMENT_ID),i-h.width<11||c-h.height<11)this.hasBorderShaders=!1;else{var A=5,E=40;this.insertShaderBorders(y,E,A,-A,null,0,!0),this.insertShaderBorders(y,E,A,-A,null,0,!1),this.insertShaderBorders(y,E,A,null,-A,0,!0),this.insertShaderBorders(y,E,A,null,-A,0,!1),this.insertShaderBorders(y,A,E+A,-A,null,-A,!0),this.insertShaderBorders(y,A,E+A,null,-A,-A,!0),this.insertShaderBorders(y,A,E+A,-A,null,-A,!1),this.insertShaderBorders(y,A,E+A,null,-A,-A,!1),this.hasBorderShaders=!0}r.append(y)}},t.prototype.insertShaderBorders=function(r,i,c,h,y,v,b){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=ei.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(i,"px"),A.style.height="".concat(c,"px"),h!==null&&(A.style.top="".concat(h,"px")),y!==null&&(A.style.bottom="".concat(y,"px")),b?A.style.left="".concat(v,"px"):A.style.right="".concat(v,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),r.appendChild(A)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(r){return 1e3/r},t})(),_b;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(_b||(_b={}));function Tb(t,[r,i]){return Math.min(i,Math.max(r,t))}function BP(t){const r=LP(t),i=R.forwardRef((c,h)=>{const{children:y,...v}=c,b=R.Children.toArray(y),A=b.find(FP);if(A){const E=A.props.children,I=b.map(N=>N===A?R.Children.count(E)>1?R.Children.only(null):R.isValidElement(E)?E.props.children:null:N);return O.jsx(r,{...v,ref:h,children:R.isValidElement(E)?R.cloneElement(E,void 0,I):null})}return O.jsx(r,{...v,ref:h,children:y})});return i.displayName=`${t}.Slot`,i}function LP(t){const r=R.forwardRef((i,c)=>{const{children:h,...y}=i;if(R.isValidElement(h)){const v=zP(h),b=UP(y,h.props);return h.type!==R.Fragment&&(b.ref=c?oo(c,v):v),R.cloneElement(h,b)}return R.Children.count(h)>1?R.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var jP=Symbol("radix.slottable");function FP(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jP}function UP(t,r){const i={...r};for(const c in r){const h=t[c],y=r[c];/^on[A-Z]/.test(c)?h&&y?i[c]=(...b)=>{const A=y(...b);return h(...b),A}:h&&(i[c]=h):c==="style"?i[c]={...h,...y}:c==="className"&&(i[c]=[h,y].filter(Boolean).join(" "))}return{...t,...i}}function zP(t){var c,h;let r=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(h=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:h.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function lA(t){const r=R.useRef({value:t,previous:t});return R.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var VP=[" ","Enter","ArrowUp","ArrowDown"],HP=[" ","Enter"],Il="Select",[l0,c0,GP]=Ih(Il),[Kc]=Fi(Il,[GP,Gs]),u0=Gs(),[qP,Xs]=Kc(Il),[XP,KP]=Kc(Il),cA=t=>{const{__scopeSelect:r,children:i,open:c,defaultOpen:h,onOpenChange:y,value:v,defaultValue:b,onValueChange:A,dir:E,name:I,autoComplete:N,disabled:k,required:M,form:U}=t,P=u0(r),[j,X]=R.useState(null),[G,H]=R.useState(null),[q,ae]=R.useState(!1),re=dg(E),[V,Z]=Fo({prop:c,defaultProp:h??!1,onChange:y,caller:Il}),[te,fe]=Fo({prop:v,defaultProp:b,onChange:A,caller:Il}),Re=R.useRef(null),xe=j?U||!!j.closest("form"):!0,[Ue,me]=R.useState(new Set),ce=Array.from(Ue).map(ie=>ie.props.value).join(";");return O.jsx(Uh,{...P,children:O.jsxs(qP,{required:M,scope:r,trigger:j,onTriggerChange:X,valueNode:G,onValueNodeChange:H,valueNodeHasChildren:q,onValueNodeHasChildrenChange:ae,contentId:ki(),value:te,onValueChange:fe,open:V,onOpenChange:Z,dir:re,triggerPointerDownPosRef:Re,disabled:k,children:[O.jsx(l0.Provider,{scope:r,children:O.jsx(XP,{scope:t.__scopeSelect,onNativeOptionAdd:R.useCallback(ie=>{me(ge=>new Set(ge).add(ie))},[]),onNativeOptionRemove:R.useCallback(ie=>{me(ge=>{const Ne=new Set(ge);return Ne.delete(ie),Ne})},[]),children:i})}),xe?O.jsxs(PA,{"aria-hidden":!0,required:M,tabIndex:-1,name:I,autoComplete:N,value:te,onChange:ie=>fe(ie.target.value),disabled:k,form:U,children:[te===void 0?O.jsx("option",{value:""}):null,Array.from(Ue)]},ce):null]})})};cA.displayName=Il;var uA="SelectTrigger",fA=R.forwardRef((t,r)=>{const{__scopeSelect:i,disabled:c=!1,...h}=t,y=u0(i),v=Xs(uA,i),b=v.disabled||c,A=un(r,v.onTriggerChange),E=c0(i),I=R.useRef("touch"),[N,k,M]=BA(P=>{const j=E().filter(H=>!H.disabled),X=j.find(H=>H.value===v.value),G=LA(j,P,X);G!==void 0&&v.onValueChange(G.value)}),U=P=>{b||(v.onOpenChange(!0),M()),P&&(v.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return O.jsx(hf,{asChild:!0,...y,children:O.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":v.contentId,"aria-expanded":v.open,"aria-required":v.required,"aria-autocomplete":"none",dir:v.dir,"data-state":v.open?"open":"closed",disabled:b,"data-disabled":b?"":void 0,"data-placeholder":kA(v.value)?"":void 0,...h,ref:A,onClick:Je(h.onClick,P=>{P.currentTarget.focus(),I.current!=="mouse"&&U(P)}),onPointerDown:Je(h.onPointerDown,P=>{I.current=P.pointerType;const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(U(P),P.preventDefault())}),onKeyDown:Je(h.onKeyDown,P=>{const j=N.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&k(P.key),!(j&&P.key===" ")&&VP.includes(P.key)&&(U(),P.preventDefault())})})})});fA.displayName=uA;var dA="SelectValue",hA=R.forwardRef((t,r)=>{const{__scopeSelect:i,className:c,style:h,children:y,placeholder:v="",...b}=t,A=Xs(dA,i),{onValueNodeHasChildrenChange:E}=A,I=y!==void 0,N=un(r,A.onValueNodeChange);return Zr(()=>{E(I)},[E,I]),O.jsx(Dt.span,{...b,ref:N,style:{pointerEvents:"none"},children:kA(A.value)?O.jsx(O.Fragment,{children:v}):y})});hA.displayName=dA;var YP="SelectIcon",mA=R.forwardRef((t,r)=>{const{__scopeSelect:i,children:c,...h}=t;return O.jsx(Dt.span,{"aria-hidden":!0,...h,ref:r,children:c||""})});mA.displayName=YP;var WP="SelectPortal",pA=t=>O.jsx(zc,{asChild:!0,...t});pA.displayName=WP;var Ml="SelectContent",gA=R.forwardRef((t,r)=>{const i=Xs(Ml,t.__scopeSelect),[c,h]=R.useState();if(Zr(()=>{h(new DocumentFragment)},[]),!i.open){const y=c;return y?Uc.createPortal(O.jsx(yA,{scope:t.__scopeSelect,children:O.jsx(l0.Slot,{scope:t.__scopeSelect,children:O.jsx("div",{children:t.children})})}),y):null}return O.jsx(xA,{...t,ref:r})});gA.displayName=Ml;var Ri=10,[yA,Ks]=Kc(Ml),ZP="SelectContentImpl",QP=BP("SelectContent.RemoveScroll"),xA=R.forwardRef((t,r)=>{const{__scopeSelect:i,position:c="item-aligned",onCloseAutoFocus:h,onEscapeKeyDown:y,onPointerDownOutside:v,side:b,sideOffset:A,align:E,alignOffset:I,arrowPadding:N,collisionBoundary:k,collisionPadding:M,sticky:U,hideWhenDetached:P,avoidCollisions:j,...X}=t,G=Xs(Ml,i),[H,q]=R.useState(null),[ae,re]=R.useState(null),V=un(r,Be=>q(Be)),[Z,te]=R.useState(null),[fe,Re]=R.useState(null),xe=c0(i),[Ue,me]=R.useState(!1),ce=R.useRef(!1);R.useEffect(()=>{if(H)return $h(H)},[H]),Qh();const ie=R.useCallback(Be=>{const[et,...ft]=xe().map(rt=>rt.ref.current),[Ve]=ft.slice(-1),ht=document.activeElement;for(const rt of Be)if(rt===ht||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===et&&ae&&(ae.scrollTop=0),rt===Ve&&ae&&(ae.scrollTop=ae.scrollHeight),rt==null||rt.focus(),document.activeElement!==ht))return},[xe,ae]),ge=R.useCallback(()=>ie([Z,H]),[ie,Z,H]);R.useEffect(()=>{Ue&&ge()},[Ue,ge]);const{onOpenChange:Ne,triggerPointerDownPosRef:we}=G;R.useEffect(()=>{if(H){let Be={x:0,y:0};const et=Ve=>{var ht,rt;Be={x:Math.abs(Math.round(Ve.pageX)-(((ht=we.current)==null?void 0:ht.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((rt=we.current)==null?void 0:rt.y)??0))}},ft=Ve=>{Be.x<=10&&Be.y<=10?Ve.preventDefault():H.contains(Ve.target)||Ne(!1),document.removeEventListener("pointermove",et),we.current=null};return we.current!==null&&(document.addEventListener("pointermove",et),document.addEventListener("pointerup",ft,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",ft,{capture:!0})}}},[H,Ne,we]),R.useEffect(()=>{const Be=()=>Ne(!1);return window.addEventListener("blur",Be),window.addEventListener("resize",Be),()=>{window.removeEventListener("blur",Be),window.removeEventListener("resize",Be)}},[Ne]);const[Xe,ne]=BA(Be=>{const et=xe().filter(ht=>!ht.disabled),ft=et.find(ht=>ht.ref.current===document.activeElement),Ve=LA(et,Be,ft);Ve&&setTimeout(()=>Ve.ref.current.focus())}),de=R.useCallback((Be,et,ft)=>{const Ve=!ce.current&&!ft;(G.value!==void 0&&G.value===et||Ve)&&(te(Be),Ve&&(ce.current=!0))},[G.value]),Ie=R.useCallback(()=>H==null?void 0:H.focus(),[H]),Oe=R.useCallback((Be,et,ft)=>{const Ve=!ce.current&&!ft;(G.value!==void 0&&G.value===et||Ve)&&Re(Be)},[G.value]),tt=c==="popper"?_p:vA,Le=tt===_p?{side:b,sideOffset:A,align:E,alignOffset:I,arrowPadding:N,collisionBoundary:k,collisionPadding:M,sticky:U,hideWhenDetached:P,avoidCollisions:j}:{};return O.jsx(yA,{scope:i,content:H,viewport:ae,onViewportChange:re,itemRefCallback:de,selectedItem:Z,onItemLeave:Ie,itemTextRefCallback:Oe,focusSelectedItem:ge,selectedItemText:fe,position:c,isPositioned:Ue,searchRef:Xe,children:O.jsx(gf,{as:QP,allowPinchZoom:!0,children:O.jsx(mf,{asChild:!0,trapped:G.open,onMountAutoFocus:Be=>{Be.preventDefault()},onUnmountAutoFocus:Je(h,Be=>{var et;(et=G.trigger)==null||et.focus({preventScroll:!0}),Be.preventDefault()}),children:O.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:y,onPointerDownOutside:v,onFocusOutside:Be=>Be.preventDefault(),onDismiss:()=>G.onOpenChange(!1),children:O.jsx(tt,{role:"listbox",id:G.contentId,"data-state":G.open?"open":"closed",dir:G.dir,onContextMenu:Be=>Be.preventDefault(),...X,...Le,onPlaced:()=>me(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...X.style},onKeyDown:Je(X.onKeyDown,Be=>{const et=Be.ctrlKey||Be.altKey||Be.metaKey;if(Be.key==="Tab"&&Be.preventDefault(),!et&&Be.key.length===1&&ne(Be.key),["ArrowUp","ArrowDown","Home","End"].includes(Be.key)){let Ve=xe().filter(ht=>!ht.disabled).map(ht=>ht.ref.current);if(["ArrowUp","End"].includes(Be.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(Be.key)){const ht=Be.target,rt=Ve.indexOf(ht);Ve=Ve.slice(rt+1)}setTimeout(()=>ie(Ve)),Be.preventDefault()}})})})})})})});xA.displayName=ZP;var $P="SelectItemAlignedPosition",vA=R.forwardRef((t,r)=>{const{__scopeSelect:i,onPlaced:c,...h}=t,y=Xs(Ml,i),v=Ks(Ml,i),[b,A]=R.useState(null),[E,I]=R.useState(null),N=un(r,V=>I(V)),k=c0(i),M=R.useRef(!1),U=R.useRef(!0),{viewport:P,selectedItem:j,selectedItemText:X,focusSelectedItem:G}=v,H=R.useCallback(()=>{if(y.trigger&&y.valueNode&&b&&E&&P&&j&&X){const V=y.trigger.getBoundingClientRect(),Z=E.getBoundingClientRect(),te=y.valueNode.getBoundingClientRect(),fe=X.getBoundingClientRect();if(y.dir!=="rtl"){const ht=fe.left-Z.left,rt=te.left-ht,mt=V.left-rt,An=V.width+mt,wn=Math.max(An,Z.width),vr=window.innerWidth-Ri,_n=Tb(rt,[Ri,Math.max(Ri,vr-wn)]);b.style.minWidth=An+"px",b.style.left=_n+"px"}else{const ht=Z.right-fe.right,rt=window.innerWidth-te.right-ht,mt=window.innerWidth-V.right-rt,An=V.width+mt,wn=Math.max(An,Z.width),vr=window.innerWidth-Ri,_n=Tb(rt,[Ri,Math.max(Ri,vr-wn)]);b.style.minWidth=An+"px",b.style.right=_n+"px"}const Re=k(),xe=window.innerHeight-Ri*2,Ue=P.scrollHeight,me=window.getComputedStyle(E),ce=parseInt(me.borderTopWidth,10),ie=parseInt(me.paddingTop,10),ge=parseInt(me.borderBottomWidth,10),Ne=parseInt(me.paddingBottom,10),we=ce+ie+Ue+Ne+ge,Xe=Math.min(j.offsetHeight*5,we),ne=window.getComputedStyle(P),de=parseInt(ne.paddingTop,10),Ie=parseInt(ne.paddingBottom,10),Oe=V.top+V.height/2-Ri,tt=xe-Oe,Le=j.offsetHeight/2,Be=j.offsetTop+Le,et=ce+ie+Be,ft=we-et;if(et<=Oe){const ht=Re.length>0&&j===Re[Re.length-1].ref.current;b.style.bottom="0px";const rt=E.clientHeight-P.offsetTop-P.offsetHeight,mt=Math.max(tt,Le+(ht?Ie:0)+rt+ge),An=et+mt;b.style.height=An+"px"}else{const ht=Re.length>0&&j===Re[0].ref.current;b.style.top="0px";const mt=Math.max(Oe,ce+P.offsetTop+(ht?de:0)+Le)+ft;b.style.height=mt+"px",P.scrollTop=et-Oe+P.offsetTop}b.style.margin=`${Ri}px 0`,b.style.minHeight=Xe+"px",b.style.maxHeight=xe+"px",c==null||c(),requestAnimationFrame(()=>M.current=!0)}},[k,y.trigger,y.valueNode,b,E,P,j,X,y.dir,c]);Zr(()=>H(),[H]);const[q,ae]=R.useState();Zr(()=>{E&&ae(window.getComputedStyle(E).zIndex)},[E]);const re=R.useCallback(V=>{V&&U.current===!0&&(H(),G==null||G(),U.current=!1)},[H,G]);return O.jsx(ek,{scope:i,contentWrapper:b,shouldExpandOnScrollRef:M,onScrollButtonChange:re,children:O.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:O.jsx(Dt.div,{...h,ref:N,style:{boxSizing:"border-box",maxHeight:"100%",...h.style}})})})});vA.displayName=$P;var JP="SelectPopperPosition",_p=R.forwardRef((t,r)=>{const{__scopeSelect:i,align:c="start",collisionPadding:h=Ri,...y}=t,v=u0(i);return O.jsx(zh,{...v,...y,ref:r,align:c,collisionPadding:h,style:{boxSizing:"border-box",...y.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_p.displayName=JP;var[ek,Tg]=Kc(Ml,{}),Tp="SelectViewport",bA=R.forwardRef((t,r)=>{const{__scopeSelect:i,nonce:c,...h}=t,y=Ks(Tp,i),v=Tg(Tp,i),b=un(r,y.onViewportChange),A=R.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),O.jsx(l0.Slot,{scope:i,children:O.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...h,ref:b,style:{position:"relative",flex:1,overflow:"hidden auto",...h.style},onScroll:Je(h.onScroll,E=>{const I=E.currentTarget,{contentWrapper:N,shouldExpandOnScrollRef:k}=v;if(k!=null&&k.current&&N){const M=Math.abs(A.current-I.scrollTop);if(M>0){const U=window.innerHeight-Ri*2,P=parseFloat(N.style.minHeight),j=parseFloat(N.style.height),X=Math.max(P,j);if(X<U){const G=X+M,H=Math.min(U,G),q=G-H;N.style.height=H+"px",N.style.bottom==="0px"&&(I.scrollTop=q>0?q:0,N.style.justifyContent="flex-end")}}}A.current=I.scrollTop})})})]})});bA.displayName=Tp;var wA="SelectGroup",[tk,nk]=Kc(wA),EA=R.forwardRef((t,r)=>{const{__scopeSelect:i,...c}=t,h=ki();return O.jsx(tk,{scope:i,id:h,children:O.jsx(Dt.div,{role:"group","aria-labelledby":h,...c,ref:r})})});EA.displayName=wA;var CA="SelectLabel",SA=R.forwardRef((t,r)=>{const{__scopeSelect:i,...c}=t,h=nk(CA,i);return O.jsx(Dt.div,{id:h.id,...c,ref:r})});SA.displayName=CA;var wh="SelectItem",[rk,AA]=Kc(wh),_A=R.forwardRef((t,r)=>{const{__scopeSelect:i,value:c,disabled:h=!1,textValue:y,...v}=t,b=Xs(wh,i),A=Ks(wh,i),E=b.value===c,[I,N]=R.useState(y??""),[k,M]=R.useState(!1),U=un(r,G=>{var H;return(H=A.itemRefCallback)==null?void 0:H.call(A,G,c,h)}),P=ki(),j=R.useRef("touch"),X=()=>{h||(b.onValueChange(c),b.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(rk,{scope:i,value:c,disabled:h,textId:P,isSelected:E,onItemTextChange:R.useCallback(G=>{N(H=>H||((G==null?void 0:G.textContent)??"").trim())},[]),children:O.jsx(l0.ItemSlot,{scope:i,value:c,disabled:h,textValue:I,children:O.jsx(Dt.div,{role:"option","aria-labelledby":P,"data-highlighted":k?"":void 0,"aria-selected":E&&k,"data-state":E?"checked":"unchecked","aria-disabled":h||void 0,"data-disabled":h?"":void 0,tabIndex:h?void 0:-1,...v,ref:U,onFocus:Je(v.onFocus,()=>M(!0)),onBlur:Je(v.onBlur,()=>M(!1)),onClick:Je(v.onClick,()=>{j.current!=="mouse"&&X()}),onPointerUp:Je(v.onPointerUp,()=>{j.current==="mouse"&&X()}),onPointerDown:Je(v.onPointerDown,G=>{j.current=G.pointerType}),onPointerMove:Je(v.onPointerMove,G=>{var H;j.current=G.pointerType,h?(H=A.onItemLeave)==null||H.call(A):j.current==="mouse"&&G.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(v.onPointerLeave,G=>{var H;G.currentTarget===document.activeElement&&((H=A.onItemLeave)==null||H.call(A))}),onKeyDown:Je(v.onKeyDown,G=>{var q;((q=A.searchRef)==null?void 0:q.current)!==""&&G.key===" "||(HP.includes(G.key)&&X(),G.key===" "&&G.preventDefault())})})})})});_A.displayName=wh;var ju="SelectItemText",TA=R.forwardRef((t,r)=>{const{__scopeSelect:i,className:c,style:h,...y}=t,v=Xs(ju,i),b=Ks(ju,i),A=AA(ju,i),E=KP(ju,i),[I,N]=R.useState(null),k=un(r,X=>N(X),A.onItemTextChange,X=>{var G;return(G=b.itemTextRefCallback)==null?void 0:G.call(b,X,A.value,A.disabled)}),M=I==null?void 0:I.textContent,U=R.useMemo(()=>O.jsx("option",{value:A.value,disabled:A.disabled,children:M},A.value),[A.disabled,A.value,M]),{onNativeOptionAdd:P,onNativeOptionRemove:j}=E;return Zr(()=>(P(U),()=>j(U)),[P,j,U]),O.jsxs(O.Fragment,{children:[O.jsx(Dt.span,{id:A.textId,...y,ref:k}),A.isSelected&&v.valueNode&&!v.valueNodeHasChildren?Uc.createPortal(y.children,v.valueNode):null]})});TA.displayName=ju;var NA="SelectItemIndicator",RA=R.forwardRef((t,r)=>{const{__scopeSelect:i,...c}=t;return AA(NA,i).isSelected?O.jsx(Dt.span,{"aria-hidden":!0,...c,ref:r}):null});RA.displayName=NA;var Np="SelectScrollUpButton",OA=R.forwardRef((t,r)=>{const i=Ks(Np,t.__scopeSelect),c=Tg(Np,t.__scopeSelect),[h,y]=R.useState(!1),v=un(r,c.onScrollButtonChange);return Zr(()=>{if(i.viewport&&i.isPositioned){let b=function(){const E=A.scrollTop>0;y(E)};const A=i.viewport;return b(),A.addEventListener("scroll",b),()=>A.removeEventListener("scroll",b)}},[i.viewport,i.isPositioned]),h?O.jsx(MA,{...t,ref:v,onAutoScroll:()=>{const{viewport:b,selectedItem:A}=i;b&&A&&(b.scrollTop=b.scrollTop-A.offsetHeight)}}):null});OA.displayName=Np;var Rp="SelectScrollDownButton",IA=R.forwardRef((t,r)=>{const i=Ks(Rp,t.__scopeSelect),c=Tg(Rp,t.__scopeSelect),[h,y]=R.useState(!1),v=un(r,c.onScrollButtonChange);return Zr(()=>{if(i.viewport&&i.isPositioned){let b=function(){const E=A.scrollHeight-A.clientHeight,I=Math.ceil(A.scrollTop)<E;y(I)};const A=i.viewport;return b(),A.addEventListener("scroll",b),()=>A.removeEventListener("scroll",b)}},[i.viewport,i.isPositioned]),h?O.jsx(MA,{...t,ref:v,onAutoScroll:()=>{const{viewport:b,selectedItem:A}=i;b&&A&&(b.scrollTop=b.scrollTop+A.offsetHeight)}}):null});IA.displayName=Rp;var MA=R.forwardRef((t,r)=>{const{__scopeSelect:i,onAutoScroll:c,...h}=t,y=Ks("SelectScrollButton",i),v=R.useRef(null),b=c0(i),A=R.useCallback(()=>{v.current!==null&&(window.clearInterval(v.current),v.current=null)},[]);return R.useEffect(()=>()=>A(),[A]),Zr(()=>{var I;const E=b().find(N=>N.ref.current===document.activeElement);(I=E==null?void 0:E.ref.current)==null||I.scrollIntoView({block:"nearest"})},[b]),O.jsx(Dt.div,{"aria-hidden":!0,...h,ref:r,style:{flexShrink:0,...h.style},onPointerDown:Je(h.onPointerDown,()=>{v.current===null&&(v.current=window.setInterval(c,50))}),onPointerMove:Je(h.onPointerMove,()=>{var E;(E=y.onItemLeave)==null||E.call(y),v.current===null&&(v.current=window.setInterval(c,50))}),onPointerLeave:Je(h.onPointerLeave,()=>{A()})})}),ak="SelectSeparator",DA=R.forwardRef((t,r)=>{const{__scopeSelect:i,...c}=t;return O.jsx(Dt.div,{"aria-hidden":!0,...c,ref:r})});DA.displayName=ak;var Op="SelectArrow",ik=R.forwardRef((t,r)=>{const{__scopeSelect:i,...c}=t,h=u0(i),y=Xs(Op,i),v=Ks(Op,i);return y.open&&v.position==="popper"?O.jsx(Vh,{...h,...c,ref:r}):null});ik.displayName=Op;var ok="SelectBubbleInput",PA=R.forwardRef(({__scopeSelect:t,value:r,...i},c)=>{const h=R.useRef(null),y=un(c,h),v=lA(r);return R.useEffect(()=>{const b=h.current;if(!b)return;const A=window.HTMLSelectElement.prototype,I=Object.getOwnPropertyDescriptor(A,"value").set;if(v!==r&&I){const N=new Event("change",{bubbles:!0});I.call(b,r),b.dispatchEvent(N)}},[v,r]),O.jsx(Dt.select,{...i,style:{..._w,...i.style},ref:y,defaultValue:r})});PA.displayName=ok;function kA(t){return t===""||t===void 0}function BA(t){const r=ka(t),i=R.useRef(""),c=R.useRef(0),h=R.useCallback(v=>{const b=i.current+v;r(b),(function A(E){i.current=E,window.clearTimeout(c.current),E!==""&&(c.current=window.setTimeout(()=>A(""),1e3))})(b)},[r]),y=R.useCallback(()=>{i.current="",window.clearTimeout(c.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(c.current),[]),[i,h,y]}function LA(t,r,i){const h=r.length>1&&Array.from(r).every(E=>E===r[0])?r[0]:r,y=i?t.indexOf(i):-1;let v=sk(t,Math.max(y,0));h.length===1&&(v=v.filter(E=>E!==i));const A=v.find(E=>E.textValue.toLowerCase().startsWith(h.toLowerCase()));return A!==i?A:void 0}function sk(t,r){return t.map((i,c)=>t[(r+c)%t.length])}var lk=cA,jA=fA,ck=hA,uk=mA,fk=pA,FA=gA,dk=bA,hk=EA,UA=SA,zA=_A,mk=TA,pk=RA,VA=OA,HA=IA,GA=DA;const qA=lk,MB=hk,XA=ck,Ng=R.forwardRef(({className:t,children:r,showIcon:i=!0,...c},h)=>O.jsxs(jA,{ref:h,className:At("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...c,children:[r,i&&O.jsx(uk,{asChild:!0,children:O.jsx(Yp,{className:"h-4 w-4 opacity-50"})})]}));Ng.displayName=jA.displayName;const KA=R.forwardRef(({className:t,...r},i)=>O.jsx(VA,{ref:i,className:At("flex cursor-default items-center justify-center py-1",t),...r,children:O.jsx(bN,{className:"h-4 w-4"})}));KA.displayName=VA.displayName;const YA=R.forwardRef(({className:t,...r},i)=>O.jsx(HA,{ref:i,className:At("flex cursor-default items-center justify-center py-1",t),...r,children:O.jsx(Yp,{className:"h-4 w-4"})}));YA.displayName=HA.displayName;const Rg=R.forwardRef(({className:t,children:r,position:i="popper",...c},h)=>O.jsx(fk,{children:O.jsxs(FA,{ref:h,className:At("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...c,children:[O.jsx(KA,{}),O.jsx(dk,{className:At("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),O.jsx(YA,{})]})}));Rg.displayName=FA.displayName;const gk=R.forwardRef(({className:t,...r},i)=>O.jsx(UA,{ref:i,className:At("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));gk.displayName=UA.displayName;const Eh=R.forwardRef(({className:t,children:r,...i},c)=>O.jsxs(zA,{ref:c,className:At("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...i,children:[O.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:O.jsx(pk,{children:O.jsx(Qw,{className:"h-4 w-4"})})}),O.jsx(mk,{children:r})]}));Eh.displayName=zA.displayName;const yk=R.forwardRef(({className:t,...r},i)=>O.jsx(GA,{ref:i,className:At("-mx-1 my-1 h-px bg-muted",t),...r}));yk.displayName=GA.displayName;var xk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vk=xk.reduce((t,r)=>{const i=fC(`Primitive.${r}`),c=R.forwardRef((h,y)=>{const{asChild:v,...b}=h,A=v?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(A,{...b,ref:y})});return c.displayName=`Primitive.${r}`,{...t,[r]:c}},{}),bk="Label",WA=R.forwardRef((t,r)=>O.jsx(vk.label,{...t,ref:r,onMouseDown:i=>{var h;i.target.closest("button, input, select, textarea")||((h=t.onMouseDown)==null||h.call(t,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));WA.displayName=bk;var ZA=WA;const wk=Ph("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),QA=R.forwardRef(({className:t,...r},i)=>O.jsx(ZA,{ref:i,className:At(wk(),t),...r}));QA.displayName=ZA.displayName;function Ek({onSuccess:t,onClose:r}){const[i,c]=R.useState(!1),[h,y]=R.useState(!0),[v,b]=R.useState([]),[A,E]=R.useState(""),[I,N]=R.useState(!1),[k,M]=R.useState(null),[U,P]=R.useState(!1),j=R.useRef(null),X=R.useRef(null),G=R.useRef(!0),{toast:H}=Ho(),q=async V=>{const Z=V||A;if(!(!Z||!G.current)){M(null),N(!0);try{if(await new Promise(Re=>setTimeout(Re,100)),!G.current)return;const te=new Ab("qr-reader");j.current=te;const fe={fps:15,qrbox:{width:250,height:250},aspectRatio:1};await te.start(Z,fe,re,()=>{})}catch(te){console.error("Failed to start scanner:",te),G.current&&(M("No foi possvel iniciar o scanner nesta cmera."),N(!1))}}},ae=async()=>{try{j.current&&(j.current.isScanning&&await j.current.stop(),await j.current.clear())}catch(V){console.debug("Error during scanner shutdown:",V)}finally{G.current&&(N(!1),j.current=null)}};R.useEffect(()=>(G.current=!0,(async()=>{try{const Z=await Ab.getCameras();if(Z&&Z.length>0){const te=Z[0].id;G.current&&(b(Z.map(fe=>({id:fe.id,label:fe.label||`Cmera ${Z.indexOf(fe)+1}`}))),E(te),X.current=setTimeout(()=>{G.current&&q(te)},500))}else G.current&&M("Nenhuma cmera encontrada no dispositivo.")}catch(Z){console.error("Error getting cameras:",Z),G.current&&M("Permisso de cmera negada ou erro ao acessar dispositivos.")}finally{G.current&&y(!1)}})(),()=>{G.current=!1,X.current&&clearTimeout(X.current);const Z=j.current;if(Z){Z.stop().catch(()=>{});try{Z.clear()}catch{}}j.current=null}),[]);const re=async V=>{if(!(i||U||!G.current)){if(!V.startsWith("ttpro_link_")){H({title:"QR Code Invlido",description:"Este cdigo no pertence ao GESTO VIRTUAL.",variant:"destructive"});return}c(!0),M(null);try{const{data:{session:Z}}=await wt.auth.getSession();if(!Z){G.current&&M("Sesso no encontrada. Faa login novamente.");return}const{error:te}=await wt.from("qr_sessions").update({status:"approved",auth_payload:Z}).eq("session_token",V).eq("status","pending");te?G.current&&M("O link expirou ou j foi utilizado."):(await ae(),G.current&&setTimeout(()=>{G.current&&(P(!0),H({title:"Acesso aprovado!",description:"Dispositivo pareado com sucesso."}),t&&setTimeout(t,1500))},300))}catch{G.current&&M("Ocorreu um erro ao processar a autorizao.")}finally{G.current&&c(!1)}}};return O.jsxs("div",{className:"flex flex-col gap-6 p-2 w-full",children:[U&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 animate-scale-in text-center w-full",children:[O.jsx("div",{className:"w-24 h-24 rounded-full bg-green-500/20 text-green-500 flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(34,197,94,0.3)] border border-green-500/30",children:O.jsx($w,{className:"w-14 h-14"})}),O.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Login Aprovado!"}),O.jsx("p",{className:"text-muted-foreground",children:"O computador foi conectado com segurana."})]}),O.jsx("div",{className:U?"hidden":"block",children:O.jsxs("div",{className:"flex flex-col gap-6",children:[O.jsxs("div",{className:"relative group max-w-[350px] mx-auto w-full",children:[O.jsxs("div",{className:"relative aspect-square w-full overflow-hidden rounded-3xl border border-white/10 bg-black/40 glass-scanner shadow-2xl",children:[O.jsx("div",{id:"qr-reader",className:"w-full h-full"}),!I&&!U&&O.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-8 bg-slate-900/50 backdrop-blur-sm z-10 transition-all",children:[O.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 border border-primary/20",children:O.jsx(Zw,{className:"w-8 h-8 text-primary"})}),O.jsx("p",{className:"text-sm font-medium text-white/80",children:"Cmera pronta"}),O.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Selecione a cmera e inicie o escaneamento"})]}),I&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"absolute inset-0 pointer-events-none z-10 qr-scanner-overlay"}),O.jsx("div",{className:"absolute top-[calc(50%-125px)] left-[calc(50%-125px)] w-[250px] h-[250px] border-2 border-primary/50 rounded-2xl pointer-events-none z-20 overflow-hidden",children:O.jsx("div",{className:"w-full h-[3px] bg-primary shadow-[0_0_15px_#3b82f6] animate-scan"})}),O.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center z-30",children:O.jsxs("div",{className:"px-4 py-1.5 rounded-full bg-black/60 backdrop-blur-md border border-white/10 text-[10px] font-bold text-white/70 uppercase tracking-widest flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Buscando QR Code..."]})})]})]}),O.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 border-t-2 border-r-2 border-primary rounded-tr-xl pointer-events-none"}),O.jsx("div",{className:"absolute -bottom-1 -left-1 w-8 h-8 border-b-2 border-l-2 border-primary rounded-bl-xl pointer-events-none"})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-center justify-between px-1",children:[O.jsx(QA,{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:"Fonte de Captura"}),v.length>1&&O.jsxs("span",{className:"text-[10px] font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:[v.length," dispositivos"]})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsxs(qA,{value:A,onValueChange:V=>{E(V),I&&ae().then(()=>q(V))},disabled:h||i,children:[O.jsx(Ng,{className:"glass-card border-white/5 h-12 flex-1 text-white/80",children:h?O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(Ku,{className:"w-3 h-3 animate-spin"}),O.jsx("span",{className:"text-xs",children:"Buscando..."})]}):O.jsx(XA,{placeholder:"Escolha a cmera"})}),O.jsx(Rg,{className:"glass-card border-white/10",children:v.map(V=>O.jsx(Eh,{value:V.id,className:"text-sm",children:V.label},V.id))})]}),v.length>1&&O.jsx(sa,{variant:"outline",size:"icon",onClick:async()=>{const Z=(v.findIndex(fe=>fe.id===A)+1)%v.length,te=v[Z].id;E(te),I&&(await ae(),await q(te))},className:"h-12 w-12 glass-card border-white/5 text-primary hover:bg-primary/10",disabled:h||i,title:"Alternar Cmera",children:O.jsx(tp,{className:`w-5 h-5 ${I?"animate-spin-slow":""}`})}),I?O.jsx(sa,{variant:"destructive",onClick:ae,className:"h-12 px-6 bg-destructive/80 hover:bg-destructive shadow-lg shadow-destructive/20 font-bold",disabled:!I||i,children:"Parar"}):O.jsx(sa,{onClick:()=>q(),className:"h-12 gradient-primary text-white shadow-glow px-6 font-bold",disabled:!A||h||i,children:"Iniciar"})]})]}),k&&O.jsxs("div",{className:"p-3 rounded-xl bg-destructive/10 border border-destructive/20 flex items-center gap-3 animate-fade-in",children:[O.jsx(AN,{className:"w-4 h-4 text-destructive shrink-0"}),O.jsx("span",{className:"text-xs text-destructive font-medium leading-tight",children:k})]}),i&&O.jsxs("div",{className:"flex items-center justify-center gap-3 py-2 text-primary animate-pulse",children:[O.jsx(Ku,{className:"w-4 h-4 animate-spin"}),O.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando..."})]}),!I&&!k&&O.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-2xl bg-muted/30 border border-white/5",children:[O.jsx(rE,{className:"w-5 h-5 text-primary mt-0.5 shrink-0"}),O.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Aponte a cmera para o QR Code gerado no desktop."})]})]})}),r&&O.jsx(sa,{variant:"ghost",size:"sm",onClick:r,className:"w-full text-muted-foreground hover:text-foreground transition-colors mt-2",children:"Cancelar Operao"})]})}function Ck({onMenuClick:t,title:r}){var q;const{user:i,profile:c,logout:h}=Xo(),{isOnline:y,isSyncing:v,pendingChanges:b,syncNow:A}=ug(),{messages:E}=WM(),I=lo(),N=Xc(),k=((c==null?void 0:c.role)||"").toUpperCase(),M={"/dashboard":"Incio","/time-clock":"Registro de Ponto","/daily-report":"Novo Relatrio","/reports":"Relatrios Dirios","/time-records":"Espelho de Ponto","/teams":"Equipes","/employees":"Funcionrios","/functions":"Funes","/users":"Usurios","/settings":"Configuraes","/messages":"Mensagens"},U=R.useMemo(()=>r||M[I.pathname]||"ORION - SYSTEM",[I.pathname,r,M]),P=(c==null?void 0:c.fullName)||((q=i==null?void 0:i.email)==null?void 0:q.split("@")[0])||"Usurio",[j,X]=ze.useState(!1),G=R.useMemo(()=>E.filter(ae=>{const re=ae.recipientId===(c==null?void 0:c.id),V=vl("system_messages.manage")||Xu.value,Z=ae.recipientRole==="ADMIN"||ae.type==="PASSWORD_RESET";return ae.status==="PENDING"&&ae.senderId!==(c==null?void 0:c.id)&&ae.senderEmail!==(i==null?void 0:i.email)&&(re||V&&Z)}).length,[E,c,i]),H=R.useMemo(()=>E.filter(ae=>{const re=ae.recipientId===(c==null?void 0:c.id),V=vl("system_messages.manage")||Xu.value,Z=ae.recipientRole==="ADMIN"||ae.type==="PASSWORD_RESET";return ae.status==="PENDING"&&ae.senderId!==(c==null?void 0:c.id)&&ae.senderEmail!==(i==null?void 0:i.email)&&(re||V&&Z)}),[E,c,i]);return O.jsxs("header",{className:"sticky top-0 z-40 w-full bg-background/40 backdrop-blur-2xl shadow-premium border-b border-white/5 overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-white/5 to-transparent pointer-events-none"}),O.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx(sa,{variant:"ghost",size:"icon",onClick:t,className:"text-foreground hover:text-primary hover:bg-muted/20 lg:hidden transition-all",children:O.jsx(s6,{className:"h-5 w-5"})}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center shadow-glow",children:O.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"OP"})}),O.jsx("h1",{className:"font-display text-lg font-bold text-secondary-foreground",children:U})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(w9,{}),O.jsxs(Ag,{open:j,onOpenChange:X,children:[O.jsx(cP,{asChild:!0,children:O.jsx(sa,{variant:"ghost",size:"icon",className:"text-foreground hover:text-primary hover:bg-muted/20 transition-all",title:"Escanear QR para Login",children:O.jsx(rE,{className:"h-5 w-5"})})}),O.jsxs(i0,{className:"sm:max-w-md bg-card border-border/50 glass-card",children:[O.jsx(o0,{children:O.jsx(s0,{children:"Aprovar Acesso"})}),O.jsx(Ek,{onClose:()=>X(!1),onSuccess:()=>X(!1)})]})]}),O.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-secondary/50",children:[y?O.jsx(oE,{className:"h-4 w-4 text-success"}):O.jsx(iE,{className:"h-4 w-4 text-muted-foreground"}),O.jsx("div",{className:"relative flex items-center justify-center",children:v?O.jsx(tp,{className:"h-4 w-4 text-primary animate-spin"}):b>0?O.jsxs(O.Fragment,{children:[O.jsx(Jw,{className:"h-4 w-4 text-accent"}),O.jsxs("span",{className:"absolute -top-1.5 -right-2 flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 px-1 text-[10px] font-bold text-white shadow-sm animate-in zoom-in duration-300",children:["+",b]})]}):O.jsx(MN,{className:"h-4 w-4 text-success"})})]}),O.jsxs(V9,{children:[O.jsx(H9,{asChild:!0,children:O.jsxs(sa,{variant:"ghost",size:"icon",className:"text-foreground hover:text-primary hover:bg-muted/20 relative transition-all",title:"Mensagens",children:[O.jsx(n6,{className:"h-5 w-5"}),G>0&&O.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-destructive text-[10px] font-bold text-destructive-foreground animate-in zoom-in duration-300",children:G>9?"9+":G})]})}),O.jsxs(kS,{align:"end",className:"w-80 p-0",children:[O.jsx("div",{className:"p-3 border-b bg-muted/50",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[O.jsx(S6,{className:"w-4 h-4 text-primary"}),"Central de Tickets"]}),G>0&&O.jsxs(rb,{variant:"destructive",className:"text-xs",children:[G," pendente",G>1?"s":""]})]})}),O.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:H.length===0?O.jsxs("div",{className:"p-6 text-center text-sm text-muted-foreground",children:[O.jsx(EN,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),"Nenhum ticket pendente"]}):H.slice(0,5).map(ae=>{var re;return O.jsx("div",{className:"p-3 border-b last:border-0 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>N("/messages"),children:O.jsxs("div",{className:"flex items-start gap-2",children:[O.jsx("div",{className:`mt-1 ${ae.type==="PASSWORD_RESET"?"text-yellow-500":"text-primary"}`,children:ae.type==="PASSWORD_RESET"?O.jsx(qN,{className:"w-4 h-4"}):O.jsx(Wp,{className:"w-4 h-4"})}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("p",{className:"text-sm font-medium truncate",children:ae.subject}),O.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((re=ae.sender)==null?void 0:re.full_name)||ae.senderEmail||"Annimo"}),O.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:new Date(ae.createdAt).toLocaleDateString("pt-BR")})]}),O.jsx(rb,{variant:"outline",className:"text-[10px] text-yellow-500 border-yellow-500",children:"Pendente"})]})},ae.id)})}),O.jsx("div",{className:"p-2 border-t bg-muted/30",children:O.jsxs(sa,{variant:"ghost",className:"w-full h-8 text-xs",onClick:()=>N("/messages"),children:["Ver todos os tickets",O.jsx(Kw,{className:"w-3 h-3 ml-2"})]})})]})]}),O.jsxs(bS,{children:[O.jsx(wS,{asChild:!0,children:O.jsx(sa,{variant:"ghost",size:"icon",className:"text-foreground hover:text-primary hover:bg-muted/20 overflow-hidden transition-all",children:c!=null&&c.image?O.jsx("img",{src:c.image,alt:P,className:"w-full h-full object-cover"}):O.jsx(N6,{className:"h-5 w-5"})})}),O.jsxs(bg,{align:"end",className:"min-w-[220px] w-auto max-w-[320px]",children:[O.jsxs("div",{className:"px-3 py-3",children:[O.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary overflow-hidden border border-primary/20 shrink-0",children:c!=null&&c.image?O.jsx("img",{src:c.image,alt:P,className:"w-full h-full object-cover"}):P.charAt(0).toUpperCase()}),O.jsxs("div",{className:"min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("p",{className:At("text-sm font-medium truncate",(k==="SUPER_ADMIN_GOD"||k==="SYSTEM_HELPER")&&"text-[#ea580c] font-extrabold drop-shadow-[0_0_8px_rgba(234,88,12,0.4)]",(k==="SUPER_ADMIN"||k==="SUPERADMIN")&&"text-[#f4a261] font-bold",k==="ADMIN"&&"text-[#4dabf7] font-bold",k==="TI_SOFTWARE"&&"text-[#00ff9c] font-bold font-mono tracking-tight",!["SUPER_ADMIN_GOD","SYSTEM_HELPER","SUPER_ADMIN","SUPERADMIN","ADMIN","TI_SOFTWARE"].includes(k)&&dh(c)&&"text-orange-400 font-extrabold"),children:P}),dh(c)&&(k==="SUPER_ADMIN_GOD"||k==="SYSTEM_HELPER")&&O.jsx(Nl,{className:"w-3 h-3 text-orange-500 shrink-0"})]}),O.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:i==null?void 0:i.email})]})]}),O.jsx("div",{className:"mt-2",children:k==="SUPER_ADMIN_GOD"||k==="SYSTEM_HELPER"?O.jsxs("div",{className:"role-badge role-super-admin-god shadow-[0_0_20px_-5px_rgba(255,183,3,0.5)] scale-90 origin-left",children:[O.jsx("span",{className:"relative z-10",children:"Super Admin God"}),O.jsx("span",{className:"orb"}),O.jsx("span",{className:"orb"}),O.jsx("span",{className:"orb"})]}):k==="SUPER_ADMIN"||k==="SUPERADMIN"?O.jsx("div",{className:"role-badge role-socio-diretor scale-90 origin-left",children:O.jsxs("span",{className:"flex items-center gap-1.5",children:[O.jsx(Nl,{className:"w-3 h-3"}),"Scio Diretor"]})}):k==="ADMIN"?O.jsx("div",{className:"role-badge role-admin scale-90 origin-left",children:O.jsxs("span",{className:"flex items-center gap-1.5",children:[O.jsx(np,{className:"w-3 h-3"}),"Admin"]})}):k==="TI_SOFTWARE"?O.jsx("div",{className:"role-badge role-ti-software scale-90 origin-left",children:O.jsxs("span",{className:"flex items-center gap-1.5",children:[O.jsx(KN,{className:"w-3 h-3"}),"TI-Software"]})}):O.jsx("span",{className:At("inline-block px-2 py-0.5 rounded-full border text-[10px] font-bold uppercase tracking-tight transition-all",ES((c==null?void 0:c.role)||"worker")),children:CS((c==null?void 0:c.role)||"worker")})})]}),O.jsx(gh,{}),b>0&&y&&O.jsxs(Is,{onClick:A,disabled:v,children:[O.jsx(tp,{className:`mr-2 h-4 w-4 ${v?"animate-spin":""}`}),"Sincronizar agora"]}),O.jsxs(Is,{onClick:h,className:"text-destructive focus:bg-destructive/10",disabled:!y,children:[O.jsx(e6,{className:"mr-2 h-4 w-4"}),"Sair ",!y&&"(Offline)"]})]})]})]})]})]})}function Sk(t){const{toast:r}=Ho();R.useEffect(()=>{t&&lM({companyId:t.companyId||"",projectId:t.projectId||"",siteId:t.siteId||"",excludeCorporate:t.excludeCorporate??!0}),Di.value&&bp()},[t==null?void 0:t.companyId,t==null?void 0:t.projectId,t==null?void 0:t.siteId,t==null?void 0:t.excludeCorporate]);const i=async v=>{var I,N,k;const b=bw(),A={id:b,fullName:v.fullName,registrationNumber:v.registrationNumber,functionId:v.functionId||null,phone:v.phone||null,email:v.email||null,cpf:v.cpf||null,role:"WORKER",photoUrl:null,isActive:!0,siteId:v.siteId||null,companyId:v.companyId||null,projectId:v.projectId||null,level:v.level||0,laborType:v.laborType||"MOD",professionalLevel:v.level||0,canLeadTeam:!1,gender:v.gender||null,birthDate:v.birthDate||null,cep:v.cep||"",street:v.street||"",number:v.number||"",neighborhood:v.neighborhood||"",city:v.city||"",state:v.state||"",createdAt:new Date};if(xn.value=[...xn.value,A],await ut.setItem("employees",xn.value),navigator.onLine)try{const{data:M,error:U}=await wt.from("users").insert({name:v.fullName,registration_number:v.registrationNumber,function_id:v.functionId||null,phone:v.phone||null,email:v.email||null,cpf:v.cpf||null,password:v.password||null,face_descriptor:A.faceDescriptor||null,site_id:v.siteId||null,company_id:v.companyId||null,project_id:v.projectId||null,hierarchy_level:v.level||0,labor_type:v.laborType||"MOD",gender:v.gender||null,birth_date:v.birthDate||null,status:"ACTIVE",role:"WORKER"}).select("*, jobFunction:job_functions(name, level, can_lead_team)").single();if(U)throw U;(v.cep||v.street||v.city)&&await wt.from("user_addresses").upsert({user_id:M.id,cep:v.cep||"",logradouro:v.street||"",number:v.number||"",bairro:v.neighborhood||"",localidade:v.city||"",uf:v.state||""},{onConflict:"user_id"});const P={...A,id:M.id,functionName:((I=M.jobFunction)==null?void 0:I.name)||"No definida"};return xn.value=xn.value.map(j=>j.id===b?P:j),ut.setItem("employees",xn.value),{success:!0,data:P}}catch(M){if(((N=M.message)==null?void 0:N.includes("P2002"))||((k=M.message)==null?void 0:k.includes("Unique constraint"))||M.status===409){console.error("CPF or Registration collision detected:",M),xn.value=xn.value.filter(j=>j.id!==b);const P=Fs(M);return r({title:"Erro de cadastro",description:P||"CPF ou Matrcula j utilizados.",variant:"destructive"}),{success:!1,error:P}}return console.warn("Online sync failed, falling back to offline mode:",M),await ut.addToSyncQueue({operation:"insert",table:"employees",data:{...v,localId:b}}),r({title:"Salvo offline",description:"Funcionrio salvo localmente. Ser sincronizado quando houver conexo.",duration:3e3}),{success:!0,data:A,offline:!0}}else return await ut.addToSyncQueue({operation:"insert",table:"employees",data:{...v,localId:b}}),r({title:"Modo Offline",description:"Funcionrio salvo localmente.",duration:3e3}),{success:!0,data:A,offline:!0}},c=async(v,b)=>{const A=[...xn.value];if(xn.value=xn.value.map(E=>E.id===v?{...E,...b}:E),navigator.onLine)try{const E={};b.fullName&&(E.name=b.fullName),b.registrationNumber&&(E.registration_number=b.registrationNumber),b.functionId!==void 0&&(E.function_id=b.functionId),b.phone!==void 0&&(E.phone=b.phone),b.email!==void 0&&(E.email=b.email),b.cpf&&(E.cpf=b.cpf),b.isActive!==void 0&&(E.status=b.isActive?"ACTIVE":"INACTIVE"),b.siteId!==void 0&&(E.site_id=b.siteId),b.companyId!==void 0&&(E.company_id=b.companyId),b.projectId!==void 0&&(E.project_id=b.projectId),b.level!==void 0&&(E.hierarchy_level=b.level),b.laborType!==void 0&&(E.labor_type=b.laborType),b.gender!==void 0&&(E.gender=b.gender),b.birthDate!==void 0&&(E.birth_date=b.birthDate);const{error:I}=await wt.from("users").update(E).eq("id",v);if(I)throw I;return(b.cep!==void 0||b.street!==void 0||b.city!==void 0||b.state!==void 0||b.number!==void 0||b.neighborhood!==void 0)&&await wt.from("user_addresses").upsert({user_id:v,cep:b.cep||"",logradouro:b.street||"",number:b.number||"",bairro:b.neighborhood||"",localidade:b.city||"",uf:b.state||""},{onConflict:"user_id"}),await ut.setItem("employees",xn.value),{success:!0}}catch(E){xn.value=A;const I=Fs(E);return r({title:"Erro ao atualizar funcionrio",description:I,variant:"destructive"}),{success:!1,error:I}}else return await ut.addToSyncQueue({operation:"update",table:"employees",id:v,data:b}),await ut.setItem("employees",xn.value),{success:!0,offline:!0}},h=async v=>{const b=[...xn.value];if(xn.value=xn.value.filter(A=>A.id!==v),navigator.onLine)try{const{error:A}=await wt.from("users").delete().eq("id",v);if(A)throw A;return await ut.setItem("employees",xn.value),{success:!0}}catch(A){xn.value=b;const E=Fs(A);return r({title:"Erro ao remover funcionrio",description:E,variant:"destructive"}),{success:!1,error:E}}else return await ut.addToSyncQueue({operation:"delete",table:"employees",id:v}),await ut.setItem("employees",xn.value),{success:!0,offline:!0}},y=async v=>{const b=[...xn.value];if(xn.value=xn.value.filter(A=>!v.includes(A.id)),navigator.onLine)try{const{error:A}=await wt.from("users").delete().in("id",v);if(A)throw A;return ut.setItem("employees",xn.value),{success:!0}}catch(A){xn.value=b;const E=Fs(A);return r({title:"Erro ao remover funcionrios",description:E,variant:"destructive"}),{success:!1,error:E}}else{for(const A of v)await ut.addToSyncQueue({operation:"delete",table:"employees",id:A});return await ut.setItem("employees",xn.value),{success:!0,offline:!0}}};return{employees:xn.value,isLoading:Vd.value,createEmployee:i,updateEmployee:c,deleteEmployee:h,deleteMultipleEmployees:y,refresh:()=>bp(!0)}}const Im=or([]),Vu=or([]),Mm=or([]),Ak=or(null);let Nb=0;const _k=1e4,Tk=async()=>{if(!_l.token){console.log("[GlobalDataSignals] No auth token, skipping API fetch.");return}Ic.value=!0;try{if(!navigator.onLine){const[c,h,y]=await Promise.all([ut.getItem("companies"),ut.getItem("projects"),ut.getItem("sites")]);c&&(Im.value=c),h&&(Vu.value=h),y&&(Mm.value=y);return}const[t,r,i]=await Promise.all([wt.from("companies").select("*"),wt.from("projects").select("*"),wt.from("sites").select("*")]);t.data&&(Im.value=t.data,ut.setItem("companies",t.data)),r.data&&(Vu.value=r.data,ut.setItem("projects",r.data)),i.data&&(Mm.value=i.data,ut.setItem("sites",i.data))}catch{console.warn("[GlobalDataSignals] Network error, falling back to cache.");const[r,i,c]=await Promise.all([ut.getItem("companies"),ut.getItem("projects"),ut.getItem("sites")]);r&&(Im.value=r),i&&(Vu.value=i),c&&(Mm.value=c)}finally{Ic.value=!1,Vp.value=!0}},Mu=async(t=!1)=>{const r=Date.now();Ic.value||!t&&r-Nb<_k||(Nb=r,await Tk())};function Nk(t){const{toast:r}=Ho(),i=R.useCallback(async()=>{await Mu()},[]);R.useEffect(()=>{i()},[i]);const c=async v=>{const{data:b,error:A}=await _l.post("projects",v);return A?(r({title:"Erro ao criar obra",description:A.message,variant:"destructive"}),null):(await Mu(),r({title:"Obra criada com sucesso"}),b)},h=async(v,b)=>{const{error:A}=await _l.put(`projects/${v}`,b);return A?(r({title:"Erro ao atualizar obra",description:A.message,variant:"destructive"}),!1):(await Mu(),r({title:"Obra atualizada com sucesso"}),!0)},y=async v=>{const{error:b}=await _l.delete(`projects/${v}`);return b?(r({title:"Erro ao excluir obra",description:b.message,variant:"destructive"}),!1):(await Mu(),r({title:"Obra excluda com sucesso"}),!0)};return{projects:Vu.value,isLoading:Ic.value,createProject:c,updateProject:h,deleteProject:y,refresh:Mu}}const Rk=ze.memo(function({value:r,onValueChange:i,className:c,showAll:h=!0,placeholder:y="Selecione a Obra",companyId:v}){const{profile:b}=Xo(),{projects:A,isLoading:E}=Nk(),I=(b==null?void 0:b.role)&&["SUPER_ADMIN","SUPER_ADMIN_GOD","ADMIN","TI_SOFTWARE"].includes(b.role),N=ze.useMemo(()=>v&&v!=="all"?A.filter(k=>k.companyId===v):I?A:b!=null&&b.companyId?A.filter(k=>k.companyId===b.companyId):[],[A,b==null?void 0:b.companyId,I,v]);return!E&&N.length===0&&!h?null:O.jsx("div",{className:At("relative",c),children:O.jsxs(qA,{value:r,onValueChange:i,children:[O.jsx(Ng,{className:"bg-slate-900/50 border-white/10 h-10 text-[11px] font-bold uppercase tracking-wider rounded-xl transition-all hover:bg-slate-800/50 hover:border-primary/30 focus:ring-primary/20",children:O.jsxs("div",{className:"flex items-center gap-2 truncate",children:[E?O.jsx(Ku,{className:"w-3.5 h-3.5 animate-spin text-primary"}):O.jsx(FN,{className:"w-3.5 h-3.5 text-primary"}),O.jsx(XA,{placeholder:y})]})}),O.jsxs(Rg,{className:"bg-slate-950 border-white/10 backdrop-blur-xl max-h-[300px]",children:[h&&O.jsx(Eh,{value:"all",className:"text-[11px] font-bold uppercase tracking-wider focus:bg-primary focus:text-primary-foreground",children:"Todas as Obras"}),N.map(k=>O.jsx(Eh,{value:k.id,className:"text-[11px] font-bold uppercase tracking-wider focus:bg-primary focus:text-primary-foreground",children:k.name},k.id)),!E&&N.length===0&&O.jsx("div",{className:"px-2 py-4 text-center text-[10px] text-muted-foreground uppercase font-bold italic",children:"Nenhuma obra encontrada"})]})]})})});function Ok({isOpen:t,onClose:r,onSelection:i,moduleName:c}){jc();const[h,y]=R.useState(""),v=()=>{if(!h)return;const b=Vu.value.find(A=>A.id===h);b&&(Ak.value=b,localStorage.setItem("gapo_project_id",b.id),localStorage.setItem("selected_project_id",b.id)),i(h),r()};return O.jsx(Ag,{open:t,onOpenChange:b=>!b&&r(),children:O.jsxs(i0,{className:"sm:max-w-[450px] glass-dark border-white/10 p-0 overflow-hidden",children:[O.jsx("div",{className:"relative h-2 w-full gradient-primary"}),O.jsxs(o0,{className:"p-6 pb-0",children:[O.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center mb-4",children:O.jsx(rh,{className:"w-6 h-6 text-primary"})}),O.jsx(s0,{className:"text-2xl font-black uppercase tracking-tight",children:"Selecionar Obra"}),O.jsxs(aA,{className:"text-sm font-medium text-muted-foreground italic",children:["Para acessar o ",O.jsx("span",{className:"text-primary font-bold not-italic",children:c}),", selecione uma obra ativa abaixo."]})]}),O.jsxs("div",{className:"p-6 py-8 space-y-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Obras Disponveis"}),O.jsx(Rk,{value:h,onValueChange:y,showAll:!1,className:"w-full",placeholder:"Escolha a obra para prosseguir..."})]}),O.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/10 space-y-2",children:[O.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-primary",children:[O.jsx(y6,{className:"w-3 h-3"}),"Por que selecionar agora?"]}),O.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:"Ao selecionar uma obra, todos os painis, auditorias e KPIs sero pr-filtrados automaticamente para este contexto."})]})]}),O.jsxs(rA,{className:"p-6 bg-white/5 border-t border-white/5 gap-2",children:[O.jsx(sa,{variant:"ghost",onClick:r,className:"text-xs font-black uppercase tracking-widest h-11",children:"Cancelar"}),O.jsxs(sa,{onClick:v,disabled:!h,className:"gradient-primary text-xs font-black uppercase tracking-widest h-11 px-8 gap-2 group",children:["Entrar no Mdulo",O.jsx(Kw,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})}const Ik=[{title:"Principal",items:[{id:"dashboard",icon:HN,label:"Incio",path:"/dashboard"}]},{title:"Corporativo",items:[{id:"companies.view",icon:Ww,label:"Empresas",path:"/companies"},{id:"projects.view",icon:rh,label:"Obras",path:"/projects"},{id:"sites.view",icon:_6,label:"Canteiros",path:"/sites"}]},{title:"Produo, Planejamento e Custos",items:[{id:"projects.progress",icon:i6,label:"Andamento de Projetos",path:"/project-progress",requiresProject:!0},{id:"projects.progress",icon:nh,label:"Planejamento e Grelha",path:"/producao",requiresProject:!0},{id:"projects.progress",icon:w2,label:"Analytics da Obra",path:"/producao/analytics",requiresProject:!0},{id:"costs.view",icon:eE,label:"Gesto de Custos",path:"/custos",requiresProject:!0},{id:"gapo.view",icon:Nl,label:"Mdulo GAPO",path:"/gapo",requiresProject:!0}]},{title:"Operacional",items:[{id:"clock",icon:ep,label:"Registro de Ponto",path:"/time-clock"},{id:"daily_report.create",icon:Wp,label:"Novo Relatrio",path:"/daily-report"},{id:"daily_report.list",icon:nh,label:"Relatrios Dirios",path:"/reports"},{id:"time_records.view",icon:ep,label:"Espelho de Ponto",path:"/time-records"}]},{title:"Equipes",items:[{id:"team_composition",icon:O6,label:"Equipes",path:"/teams"},{id:"employees.manage",icon:Ud,label:"Funcionrios (Employers)",path:"/employees"},{id:"users.manage",icon:Yw,label:"Funes",path:"/functions"},{id:"team_composition",icon:w2,label:"Composio de Equipes",path:"/team-composition"},{id:"team_composition",icon:BN,label:"Tabela Detalhada",path:"/team-composition-table"}]},{title:"Administrao",items:[{id:"users.manage",icon:np,label:"Usurios",path:"/users"},{id:"custom_su.manage",icon:np,label:"Custom SU",path:"/custom-su"},{id:"custom_su.manage",icon:tE,label:"Database Hub",path:"/database-hub"},{id:"projects.view",icon:lN,label:"3D Anchor Lab",path:"/viewer-3d"},{id:"audit_logs.view",icon:B6,label:"UI Live / Master Runner",path:"/audit-logs?tab=standards"},{id:"audit_logs.view",icon:Nl,label:"Central de Segurana",path:"/audit-logs"}]},{title:"Geral",items:[{id:"settings.profile",icon:aE,label:"Configuraes",path:"/settings"}]}];function Mk({group:t,groupIdx:r,location:i,profile:c,isTeamLeader:h,handleNavClick:y}){const v=t.title!=="Principal",b=t.items.filter(N=>{if(Xu.value||Gm("showAdminMenu"))return!0;const k=N.id;return k==="dashboard"||k==="settings.profile"||vl(k)||vl(`${k}.read`)||vl(`${k}.view`)||Gm(k)?!0:(k==="clock"||k==="time_records.view"||k==="daily_report.create")&&iM(c==null?void 0:c.role)?(k==="daily_report.create"&&(h||vl("daily_report.create")),!0):!1}),A=b.some(N=>i.pathname===N.path),[E,I]=ze.useState(A||!v);return b.length===0?null:O.jsxs("div",{className:"space-y-2 animate-fade-in",style:{animationDelay:`${r*.1}s`},children:[O.jsxs("button",{onClick:()=>v&&I(!E),className:At("w-full px-4 flex items-center justify-between group/title transition-all py-2 rounded-lg",v?"cursor-pointer hover:bg-sidebar-accent text-sidebar-foreground hover:text-white":"cursor-default text-sidebar-foreground/60"),children:[O.jsxs("h3",{className:"text-[11px] font-bold uppercase tracking-widest flex items-center gap-2 mb-0 transition-colors leading-none",children:[t.title,!v&&O.jsx("div",{className:"flex-1 h-px bg-sidebar-border w-24 opacity-20"})]}),v&&O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"h-px bg-sidebar-border w-4 opacity-20"}),O.jsx(Yp,{className:At("h-3 w-3 text-sidebar-foreground/30 transition-transform duration-500 cubic-bezier(0.4, 0, 0.2, 1)",E?"rotate-180 text-primary":"rotate-0")})]})]}),O.jsx("div",{className:At("space-y-1 overflow-hidden transition-all duration-500 ease-in-out",v&&!E?"max-h-0 opacity-0":"max-h-[800px] opacity-100"),children:b.map((N,k)=>{const M=N.icon,U=i.pathname===N.path;return O.jsxs(V5,{to:N.path,onClick:P=>y(P,N),className:At("flex items-center gap-3 px-4 py-2 rounded-xl font-medium transition-all duration-300 group/nav relative overflow-hidden mx-1",U?"gradient-primary text-primary-foreground shadow-premium scale-[1.02]":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground hover:translate-x-1"),style:{animation:"fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards",animationDelay:`${r*.1+k*.05}s`,opacity:0},children:[O.jsx(M,{className:At("h-5 w-5 transition-transform duration-300",U?"scale-105":"group-hover/nav:scale-110 group-hover/nav:text-primary")}),O.jsx("span",{className:"text-sm leading-tight",children:N.label}),!U&&O.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-primary/20 via-primary/5 to-transparent -translate-x-full group-hover/nav:translate-x-full transition-transform duration-1000 opacity-30"})]},N.path)})})]})}function Dk({isOpen:t,onClose:r,desktopOpen:i=!0}){var j;const{user:c,profile:h}=Xo(),y=lo(),v=Xc(),{employees:b}=Sk(),{teams:A}=cC(),[E,I]=ze.useState({isOpen:!1,path:"",label:""}),N=(h==null?void 0:h.fullName)||((j=c==null?void 0:c.email)==null?void 0:j.split("@")[0])||"Usurio",k=h==null?void 0:h.employeeId,M=b.find(X=>X.id===k),U=(M==null?void 0:M.canLeadTeam)&&A.some(X=>X.supervisorId===k),P=(X,G)=>{if(G.requiresProject&&!(Xu.value||Gm("ui.admin_access"))){X.preventDefault(),I({isOpen:!0,path:G.path,label:G.label});return}r()};return O.jsxs(O.Fragment,{children:[t&&O.jsx("div",{className:"fixed inset-0 z-40 bg-foreground/30 backdrop-blur-sm lg:hidden",onClick:r}),O.jsx("aside",{className:At("fixed inset-y-0 left-0 z-50 bg-sidebar-background/60 backdrop-blur-2xl shadow-premium transform transition-all duration-300 ease-in-out lg:z-auto border-r border-white/5 overflow-hidden",t?"translate-x-0":"-translate-x-full",i?"lg:translate-x-0 lg:w-72 lg:static":"lg:-translate-x-full lg:w-0 lg:absolute"),children:O.jsxs("div",{className:"flex h-full flex-col",children:[O.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[O.jsx("div",{className:"flex items-center justify-center w-full px-2 py-2",children:O.jsx("img",{src:"/logo-orion.png",alt:"Orion",className:"w-[180px] h-auto drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]"})}),O.jsx(sa,{variant:"ghost",size:"icon",onClick:r,className:"lg:hidden text-sidebar-foreground hover:bg-sidebar-accent h-9 w-9",children:O.jsx(kh,{className:"h-5 w-5"})})]}),O.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-hide",children:Ik.map((X,G)=>O.jsx(Mk,{group:X,groupIdx:G,location:y,profile:h,isTeamLeader:U,handleNavClick:P},G))}),O.jsx("div",{className:"p-4 border-t border-white/5 bg-sidebar-background/20 backdrop-blur-xl",children:O.jsxs("div",{className:"flex items-center gap-3 px-2",children:[O.jsx("div",{className:"w-10 h-10 rounded-2xl gradient-primary flex items-center justify-center shadow-glow shrink-0 border border-white/10 overflow-hidden",children:h!=null&&h.image?O.jsx("img",{src:h.image,alt:N,className:"w-full h-full object-cover"}):O.jsx("span",{className:"font-bold text-primary-foreground text-lg uppercase",children:N.charAt(0)})}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("p",{className:At("text-sm font-bold truncate leading-none",dh(h)?"text-orange-400 drop-shadow-[0_0_8px_rgba(249,115,22,0.3)]":"text-sidebar-foreground"),children:N}),dh(h)&&O.jsx(Nl,{className:"w-3 h-3 text-orange-500 shrink-0"})]}),O.jsx("span",{className:At("inline-block w-fit mt-1 px-2 py-0.5 rounded-full border text-[8px] font-bold uppercase tracking-tighter transition-all leading-tight",ES((h==null?void 0:h.role)||"worker")),children:CS((h==null?void 0:h.role)||"worker")})]})]})})]})}),O.jsx(Ok,{isOpen:E.isOpen,onClose:()=>I(X=>({...X,isOpen:!1})),onSelection:X=>{v(E.path),r()},moduleName:E.label})]})}function Pk(){const{user:t,profile:r}=Xo();return R.useEffect(()=>{if(!t)return;let i=null;"geolocation"in navigator&&(i=navigator.geolocation.watchPosition(h=>{const y={lat:h.coords.latitude,lng:h.coords.longitude,accuracy:h.coords.accuracy,timestamp:new Date().toISOString()};ut.setItem("last_known_location",y),console.debug("Background Location Sync (Watch):",y)},h=>{console.warn("Background Location Error:",h.message)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e4}));const c=setInterval(async()=>{if(t&&r){await ut.setItem("offline_auth_snapshot",{user:t,profile:r,timestamp:new Date().toISOString()});const h=await ut.getItem("offline_login_cache")||[],y=h.findIndex(v=>{var b;return((b=v.profile)==null?void 0:b.id)===r.id});y!==-1&&(h[y].profile=r,await ut.setItem("offline_login_cache",h))}},1e4);return()=>{i!==null&&navigator.geolocation.clearWatch(i),clearInterval(c)}},[t,r]),null}var f0="Switch",[kk]=Fi(f0),[Bk,Lk]=kk(f0),$A=R.forwardRef((t,r)=>{const{__scopeSwitch:i,name:c,checked:h,defaultChecked:y,required:v,disabled:b,value:A="on",onCheckedChange:E,form:I,...N}=t,[k,M]=R.useState(null),U=un(r,H=>M(H)),P=R.useRef(!1),j=k?I||!!k.closest("form"):!0,[X,G]=Fo({prop:h,defaultProp:y??!1,onChange:E,caller:f0});return O.jsxs(Bk,{scope:i,checked:X,disabled:b,children:[O.jsx(Dt.button,{type:"button",role:"switch","aria-checked":X,"aria-required":v,"data-state":n3(X),"data-disabled":b?"":void 0,disabled:b,value:A,...N,ref:U,onClick:Je(t.onClick,H=>{G(q=>!q),j&&(P.current=H.isPropagationStopped(),P.current||H.stopPropagation())})}),j&&O.jsx(t3,{control:k,bubbles:!P.current,name:c,value:A,checked:X,required:v,disabled:b,form:I,style:{transform:"translateX(-100%)"}})]})});$A.displayName=f0;var JA="SwitchThumb",e3=R.forwardRef((t,r)=>{const{__scopeSwitch:i,...c}=t,h=Lk(JA,i);return O.jsx(Dt.span,{"data-state":n3(h.checked),"data-disabled":h.disabled?"":void 0,...c,ref:r})});e3.displayName=JA;var jk="SwitchBubbleInput",t3=R.forwardRef(({__scopeSwitch:t,control:r,checked:i,bubbles:c=!0,...h},y)=>{const v=R.useRef(null),b=un(v,y),A=lA(i),E=SE(r);return R.useEffect(()=>{const I=v.current;if(!I)return;const N=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(N,"checked").set;if(A!==i&&M){const U=new Event("click",{bubbles:c});M.call(I,i),I.dispatchEvent(U)}},[A,i,c]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...h,tabIndex:-1,ref:b,style:{...h.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t3.displayName=jk;function n3(t){return t?"checked":"unchecked"}var r3=$A,Fk=e3;const a3=R.forwardRef(({className:t,...r},i)=>O.jsx(r3,{className:At("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...r,ref:i,children:O.jsx(Fk,{className:At("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));a3.displayName=r3.displayName;const Id=({icon:t,title:r,description:i,onToggle:c,checked:h,loading:y})=>O.jsxs("div",{className:"flex items-start gap-4 py-4",children:[O.jsx("div",{className:"p-2 rounded-xl bg-primary/10 text-primary",children:t}),O.jsxs("div",{className:"flex-1 space-y-1",children:[O.jsx("h4",{className:"font-bold text-[#7C3AED] text-sm leading-none",children:r}),O.jsx("p",{className:"text-[10px] text-muted-foreground leading-snug",children:i})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[y&&O.jsx(Ku,{className:"w-4 h-4 text-primary animate-spin"}),O.jsx(a3,{checked:h,onCheckedChange:c,disabled:y||h,className:"data-[state=checked]:bg-primary"})]})]});function Uk(){const{toast:t}=Ho(),[r,i]=ze.useState(!1),[c,h]=ze.useState({}),[y,v]=ze.useState({camera:!1,location:!1,mic:!1,notifications:!1}),b=ze.useCallback(async()=>{if(navigator.permissions&&navigator.permissions.query)try{const[I,N,k,M]=await Promise.all([navigator.permissions.query({name:"camera"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"geolocation"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"microphone"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"notifications"}).catch(()=>({state:"prompt"}))]);v({camera:I.state==="granted",location:N.state==="granted",mic:k.state==="granted",notifications:M.state==="granted"})}catch{console.warn("Permission query not fully supported")}},[]);ze.useEffect(()=>{(async()=>{if(await ut.getItem("permissions_acknowledged")||i(!0),navigator.permissions&&navigator.permissions.query)try{const[M,U,P,j]=await Promise.all([navigator.permissions.query({name:"camera"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"geolocation"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"microphone"}).catch(()=>({state:"prompt"})),navigator.permissions.query({name:"notifications"}).catch(()=>({state:"prompt"}))]);v({camera:M.state==="granted",location:U.state==="granted",mic:P.state==="granted",notifications:j.state==="granted"})}catch{}})();const N=()=>i(!0);return window.addEventListener("open-permissions-modal",N),()=>window.removeEventListener("open-permissions-modal",N)},[]);const A=async I=>{if(!(y[I]||c[I])){h(N=>({...N,[I]:!0}));try{if(I==="camera")(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(k=>k.stop()),v(k=>({...k,camera:!0})),t({title:"Cmera permitida",description:"Acesso autorizado com sucesso."});else if(I==="location")await new Promise((N,k)=>{const M=setTimeout(()=>k(new Error("TIMEOUT")),1e4);navigator.geolocation.getCurrentPosition(()=>{clearTimeout(M),v(U=>({...U,location:!0})),N()},U=>{clearTimeout(M),k(U)},{enableHighAccuracy:!1,timeout:8e3})}),t({title:"Localizao permitida",description:"Coordenadas autorizadas."});else if(I==="mic")(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(k=>k.stop()),v(k=>({...k,mic:!0})),t({title:"Microfone permitido",description:"Acesso autorizado com sucesso."});else if(I==="notifications"){const N=await Notification.requestPermission();if(v(k=>({...k,notifications:N==="granted"})),N==="granted")t({title:"Notificaes permitidas",description:"Voc receber alertas do app."});else throw new Error("DENIED")}}catch(N){console.error(`Error requesting ${String(I)} permission:`,N);let k="No foi possvel autorizar a permisso.";I==="location"&&N.code===1?k="Acesso negado no navegador. Clique no cone de cadeado (barra de endereo) para permitir.":N.message==="TIMEOUT"?k="A busca de localizao demorou muito. Tente novamente em um local aberto.":(N.name==="NotAllowedError"||N.message==="DENIED")&&(k=`O acesso s ${I==="notifications"?"notificaes":I==="camera"?"cmera":"microfone"} foi negado. Verifique as configuraes do cadeado no seu navegador.`),t({title:`Acesso negado: ${I==="location"?"Localizao":String(I)}`,description:k,variant:"destructive"})}finally{h(N=>({...N,[I]:!1})),await b()}}},E=async()=>{await ut.setItem("permissions_acknowledged",!0),i(!1)};return O.jsx(Ag,{open:r,onOpenChange:i,children:O.jsx(i0,{className:"sm:max-w-md p-0 overflow-hidden border-none bg-background rounded-[2.5rem] shadow-2xl",children:O.jsxs("div",{className:"p-8 space-y-8 max-h-[90vh] overflow-y-auto",children:[O.jsxs(o0,{className:"text-center space-y-3 pt-4 relative",children:[O.jsx("button",{onClick:E,className:"absolute right-0 top-0 p-2 text-muted-foreground hover:text-foreground transition-colors",children:O.jsx(kh,{className:"w-5 h-5"})}),O.jsx(s0,{className:"text-3xl font-black tracking-tight text-foreground",children:"Bem-vindo!"}),O.jsx("p",{className:"text-[13px] text-center text-muted-foreground font-medium px-4",children:"Antes de comear por favor conceda as seguintes permisses ao aplicativo:"})]}),O.jsxs("div",{className:"space-y-2 divide-y divide-white/5",children:[O.jsx(Id,{icon:O.jsx(Zw,{className:"w-5 h-5"}),title:"Uso da cmera",description:"Para registrar uma foto do colaborador ao bater ponto",checked:y.camera,loading:c.camera,onToggle:()=>A("camera")}),O.jsx(Id,{icon:O.jsx(nE,{className:"w-5 h-5"}),title:"Localizao",description:"Para registrar o local exato dos pontos batidos",checked:y.location,loading:c.location,onToggle:()=>A("location")}),O.jsx(Id,{icon:O.jsx(f6,{className:"w-5 h-5"}),title:"Uso do microfone",description:"Para gravar e guardar udio dos pontos batidos",checked:y.mic,loading:c.mic,onToggle:()=>A("mic")}),O.jsx(Id,{icon:O.jsx(oN,{className:"w-5 h-5"}),title:"Uso das notificaes",description:"Para enviar notificaes de lembrete de ponto e outras informaes importantes",checked:y.notifications,loading:c.notifications,onToggle:()=>A("notifications")})]}),O.jsx("div",{className:"pt-4",children:O.jsx(sa,{onClick:E,className:"w-full h-16 rounded-full bg-[#F5F3F7] hover:bg-[#EBE7F0] text-[#7C3AED] font-bold text-lg shadow-none",children:Object.values(y).every(I=>I)?"Comear Agora":"Permitir depois"})})]})})})}function zk(){const{isOnline:t,isConnected:r,pendingChanges:i}=ug();return t&&r&&i===0?null:O.jsx("div",{className:At("w-full px-4 py-1 text-xs font-medium flex items-center justify-center gap-2 transition-all duration-300",!t||!r?"bg-destructive text-destructive-foreground":"bg-primary/20 text-primary"),children:t?r?i>0?O.jsxs(O.Fragment,{children:[O.jsx(oE,{className:"w-3 h-3 animate-pulse"}),O.jsxs("span",{children:["Sincronizando ",i," alteraes pendentes..."]})]}):null:O.jsxs(O.Fragment,{children:[O.jsx(Jw,{className:"w-3 h-3"}),O.jsx("span",{children:"Conectado  rede, mas sem resposta do servidor"})]}):O.jsxs(O.Fragment,{children:[O.jsx(iE,{className:"w-3 h-3"}),O.jsx("span",{children:"Modo Offline: Sem sinal de rede local"})]})})}const Ip=or(!0),DB=()=>{Ip.value=!Ip.value};function Vk(){jc();const[t,r]=R.useState(!1),i=Ip.value;return O.jsxs("div",{className:"h-screen bg-background flex overflow-hidden",children:[O.jsx(Pk,{}),O.jsx(Uk,{}),O.jsx(Dk,{isOpen:t,onClose:()=>r(!1),desktopOpen:i}),O.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300",children:[O.jsx(zk,{}),O.jsx(Ck,{onMenuClick:()=>r(!0)}),O.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:O.jsx(T5,{})})]})]})}const Hk=()=>{const t=h=>O.jsx(YM,{moduleId:h.moduleId,requireConnection:h.requireConnection,children:O.jsx(R.Suspense,{fallback:O.jsx(vp,{}),children:h.element})}),r=Em.filter(h=>h.layout==="app"),i=Em.filter(h=>h.layout==="fullscreen"),c=Em.filter(h=>h.layout==="none"||h.layout==="desktop");return O.jsxs(R5,{children:[c.map(h=>O.jsx(pl,{path:h.path,element:O.jsx(R.Suspense,{fallback:O.jsx(vp,{}),children:h.element})},h.path)),O.jsx(pl,{element:O.jsx(Vk,{}),children:r.map(h=>O.jsx(pl,{path:h.path,element:t(h)},h.path))}),i.map(h=>O.jsx(pl,{path:h.path,element:t(h)},h.path)),O.jsx(pl,{path:"/",element:O.jsx(pp,{to:"/dashboard",replace:!0})}),O.jsx(pl,{path:"*",element:O.jsx(pp,{to:"/dashboard",replace:!0})})]})},Gk=new kI;function qk(){jc();const{isLoading:t,user:r}=Xo(),i=rM.value;return O.jsxs(O.Fragment,{children:[r&&O.jsx(cM,{}),!i||t&&!r?O.jsx(vp,{}):O.jsx(Hk,{})]})}const Xk=()=>O.jsx(BI,{client:Gk,children:O.jsx(sI,{children:O.jsx(J5,{defaultTheme:"orion-slate",storageKey:"obraponto-theme",children:O.jsx(X5,{children:O.jsx(Q5,{children:O.jsxs(K5,{children:[O.jsx(U6,{}),O.jsx(xR,{}),O.jsx(j5,{children:O.jsx(qk,{})})]})})})})})}),Kk=document.getElementById("root"),Yk=D_.createRoot(Kk);"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let r of t)console.log("Unregistering Service Worker:",r),r.unregister()});Yk.render(O.jsx(ze.StrictMode,{children:O.jsx(ze.Fragment,{children:O.jsx(Y_,{store:J4,children:O.jsx(Xk,{})})})}));export{Qw as $,Kw as A,sa as B,ep as C,Ag as D,SB as E,Wp as F,Ng as G,XA as H,Rg as I,Eh as J,N6 as K,Ku as L,Ww as M,jc as N,Nl as O,lM as P,AN as Q,n6 as R,qA as S,AB as T,Ud as U,or as V,wt as W,a8 as X,V9 as Y,H9 as Z,kS as _,Xc as a,gB as a$,Rk as a0,iM as a1,ut as a2,nE as a3,kh as a4,e6 as a5,E2 as a6,xN as a7,Zw as a8,zp as a9,ze as aA,Ih as aB,Fo as aC,ki as aD,Dt as aE,un as aF,dg as aG,Je as aH,Fi as aI,Yp as aJ,FN as aK,hB as aL,bw as aM,xB as aN,vB as aO,lI as aP,sI as aQ,fC as aR,rA as aS,Fs as aT,n4 as aU,ka as aV,Zr as aW,BN as aX,S6 as aY,c6 as aZ,B6 as a_,Ip as aa,DB as ab,EB as ac,ug as ad,sM as ae,WM as af,CS as ag,ES as ah,MN as ai,tp as aj,tE as ak,bS as al,wS as am,bg as an,Is as ao,qN as ap,gl as aq,b6 as ar,aM as as,NB as at,dh as au,fg as av,rh as aw,_6 as ax,np as ay,KN as az,Sk as b,Oi as b$,pi as b0,RB as b1,CB as b2,mB as b3,mw as b4,Dp as b5,QN as b6,aE as b7,bN as b8,gh as b9,w2 as bA,lf as bB,t4 as bC,R_ as bD,MB as bE,gk as bF,hN as bG,Sp as bH,eE as bI,dB as bJ,iP as bK,sP as bL,$S as bM,JS as bN,oo as bO,oP as bP,OB as bQ,IB as bR,eA as bS,tA as bT,lP as bU,KM as bV,Xh as bW,CI as bX,pI as bY,bB as bZ,up as b_,xi as ba,B7 as bb,L7 as bc,NC as bd,j7 as be,F7 as bf,V7 as bg,K7 as bh,U7 as bi,z7 as bj,H7 as bk,G7 as bl,q7 as bm,X7 as bn,Y7 as bo,W7 as bp,Z7 as bq,TN as br,Gn as bs,Uc as bt,WN as bu,U6 as bv,lN as bw,Tb as bx,SE as by,lA as bz,cC as c,Kh as c0,hI as c1,mI as c2,cp as c3,GE as c4,RI as c5,xI as c6,ya as c7,Zu as c8,MI as c9,wB as ca,Du as cb,EN as cc,rE as cd,iE as ce,pD as cf,gD as cg,mC as ch,vl as d,$w as e,xt as f,Ho as g,cP as h,Xu as i,O as j,i0 as k,o0 as l,s0 as m,Yw as n,aA as o,QA as p,rb as q,R as r,At as s,_l as t,Xo as u,Gm as v,Nk as w,tf as x,_B as y,Vd as z};
