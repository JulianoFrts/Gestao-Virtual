import{f as $e,N as Ue,b as Be,u as Ve,ad as qe,g as _e,i as We,d as Ge,r as l,j as e,B as c,a3 as _,K as Ke,S as F,G as z,H,I as L,J as N,aK as Je,C as me,q as R,D as W,k as G,l as K,m as J,p as v,o as Qe}from"./index-D951x4H-.js";import{u as Xe}from"./useTimeRecords-RqrN7uRd.js";import{C as Ye,b as Ze,c as es,d as ss,a as as}from"./card-BTHGlYFz.js";import{I as S}from"./input-dNnkIPn6.js";import{T as ts,a as rs,b as O,c as p,d as ls,e as m}from"./table-UwE0Vej1.js";import{A as os,a as is,b as ns,c as cs,d as ds,e as ms,f as xs,g as hs}from"./alert-dialog-qR-bbYaw.js";import{T as xe}from"./trash-2-DD2QlM38.js";import{C as ps}from"./calendar-B3GVMfO3.js";import{S as us}from"./search-BoEw84GM.js";import{P as he}from"./plus-DmkF01H_.js";import{I as pe}from"./image-CBHGYJfV.js";import{P as ue}from"./pencil-DX9IZKx2.js";import{f as y}from"./format-CP1OFCPJ.js";import{p as ge}from"./pt-BR-B9S-fQgu.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],fe=$e("CameraOff",gs);function Fs(){var ie,ne,ce,de;Ue();const{records:T,isLoading:je,createRecord:be,updateRecord:Q,bulkUpdateRecords:X,bulkDeleteRecords:Ne,deleteRecord:ve,refresh:w}=Xe(),{employees:u}=Be(),{profile:C}=Ve(),{isConnected:fs}=qe(),{toast:o}=_e(),x=We.value||Ge("time_records.manage"),A=!x&&!!(C!=null&&C.employeeId),P=C==null?void 0:C.employeeId,[I,Y]=l.useState(""),[M,Z]=l.useState("all"),[E,ee]=l.useState(""),[t,$]=l.useState(null),[ye,U]=l.useState(!1),[we,B]=l.useState(!1),[g,se]=l.useState(null),[i,f]=l.useState([]),[V,ae]=l.useState(!1),[te,re]=l.useState([]),[le,oe]=l.useState([]),[D,k]=l.useState({open:!1,title:"",description:"",onConfirm:()=>{},variant:"default"}),[n,j]=l.useState({employeeId:"",recordType:"entry",recordedAt:y(new Date,"yyyy-MM-dd'T'HH:mm")}),q=l.useMemo(()=>{const s=new Map;return u.forEach(a=>s.set(a.id,a)),s},[u]),b=l.useMemo(()=>T.filter(s=>{if(A&&P&&s.employeeId!==P)return!1;let a=!0;I&&(a=new Date(s.recordedAt).toISOString().split("T")[0]===I);const r=A||M==="all"?!0:s.employeeId===M,h=E.toLowerCase(),d=q.get(s.employeeId),Le=s.employeeName||(d==null?void 0:d.fullName)||"",Re=(d==null?void 0:d.registrationNumber)||"",Oe=(d==null?void 0:d.cpf)||"",Pe=E?Le.toLowerCase().includes(h)||Re.toLowerCase().includes(h)||Oe.toLowerCase().includes(h):!0;return a&&r&&Pe&&!le.includes(s.id)}),[T,I,M,E,u,A,P,le]),Ce=()=>{Y(""),Z("all"),ee("")},ke=()=>{j({employeeId:"",recordType:"entry",recordedAt:y(new Date,"yyyy-MM-dd'T'HH:mm")}),U(!0)},De=s=>{se(s),j({employeeId:s.employeeId,recordType:s.recordType,recordedAt:y(new Date(s.recordedAt),"yyyy-MM-dd'T'HH:mm")}),B(!0)},Se=async()=>{if(!n.employeeId){o({title:"Erro",description:"Selecione um funcionário",variant:"destructive"});return}(await be({employeeId:n.employeeId,recordType:n.recordType,recordedAt:new Date(n.recordedAt)})).success&&(o({title:"Sucesso",description:"Ponto registrado manualmente"}),U(!1),w())},Te=async()=>{if(!g)return;(await Q(g.id,{employeeId:n.employeeId,recordType:n.recordType,recordedAt:new Date(n.recordedAt)})).success&&(o({title:"Sucesso",description:"Registro atualizado"}),B(!1),w())},Ae=s=>{k({open:!0,title:"Excluir Registro",description:"Tem certeza que deseja excluir este registro de ponto? Esta ação não pode ser desfeita.",variant:"destructive",onConfirm:async()=>{(await ve(s)).success&&(o({title:"Sucesso",description:"Registro excluído"}),w())}})},Ie=()=>{g&&k({open:!0,title:"Remover Foto",description:"Deseja remover a foto deste registro permanentemente?",variant:"destructive",onConfirm:async()=>{(await Q(g.id,{photoUrl:null})).success&&(o({title:"Sucesso",description:"Foto removida"}),se(a=>a?{...a,photoUrl:null}:null))}})},Me=()=>{i.length===b.length?f([]):f(b.map(s=>s.id))},Ee=s=>{f(a=>a.includes(s)?a.filter(r=>r!==s):[...a,s])},Fe=()=>{k({open:!0,title:"Excluir Selecionados",description:`Tem certeza que deseja excluir ${i.length} registros permanentemente? Esta ação será processada em segundo plano.`,variant:"destructive",onConfirm:()=>{const s=[...i];oe(a=>[...a,...s]),f([]),o({title:"Iniciando Exclusão",description:`${s.length} registros estão sendo removidos em segundo plano.`}),Ne(s).then(a=>{oe(r=>r.filter(h=>!s.includes(h))),a.success?(o({title:"Sucesso",description:"Registros excluídos permanentemente."}),w()):o({title:"Erro",description:"Houve um problema ao excluir alguns registros.",variant:"destructive"})})}})},ze=()=>{const s=T.filter(r=>i.includes(r.id)&&r.photoUrl);if(s.length===0){o({title:"Nenhuma foto encontrada",description:"Os registros selecionados já não possuem fotos para remover.",variant:"destructive"});return}const a=s.map(r=>r.id);k({open:!0,title:"Remover Fotos em Massa",description:`Deseja remover as fotos de ${a.length} registros? (Dos ${i.length} selecionados, ${i.length-a.length} não possuem fotos e serão ignorados).`,variant:"destructive",onConfirm:()=>{re(r=>[...r,...a]),f([]),o({title:"Iniciando Remoção",description:`As fotos de ${a.length} registros estão sendo removidas.`}),X(a,{photoUrl:null}).then(r=>{re(h=>h.filter(d=>!a.includes(d))),r.success?(o({title:"Sucesso",description:"Fotos removidas permanentemente."}),w()):o({title:"Erro",description:"Houve um problema ao remover algumas fotos.",variant:"destructive"})})}})},He=()=>{const s=T.filter(r=>i.includes(r.id)&&(r.latitude||r.longitude));if(s.length===0){o({title:"Sem localização",description:"Os registros selecionados já não possuem dados de localização.",variant:"destructive"});return}const a=s.map(r=>r.id);k({open:!0,title:"Remover Localização",description:`Deseja remover a localização de ${a.length} registros? (Dos ${i.length} selecionados, ${i.length-a.length} não possuem coordenadas e serão ignorados).`,variant:"destructive",onConfirm:async()=>{ae(!0),(await X(a,{latitude:null,longitude:null})).success&&o({title:"Ação Concluída",description:`Localização removida de ${a.length} registros.`}),f([]),ae(!1),w()}})};return e.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[x&&i.length>0&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-2xl p-4 flex flex-wrap items-center justify-between gap-4 animate-in slide-in-from-top-2 duration-300 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-amber-500 text-black font-bold px-3 py-1 rounded-full text-[10px] uppercase tracking-tighter",children:[i.length," selecionados"]}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>f([]),className:"text-amber-500 hover:text-amber-400 font-bold text-xs h-8 px-2",children:"Limpar Seleção"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:ze,className:"border-amber-500/30 text-amber-500 hover:bg-amber-500 hover:text-black gap-2 h-9",disabled:V,children:[e.jsx(fe,{className:"w-4 h-4"}),"Limpar Fotos"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:He,className:"border-amber-500/30 text-amber-500 hover:bg-amber-500 hover:text-black gap-2 h-9",disabled:V,children:[e.jsx(_,{className:"w-4 h-4"}),"Limpar Localização"]}),e.jsxs(c,{variant:"destructive",size:"sm",onClick:Fe,className:"gap-2 h-9 font-bold",disabled:V,children:[e.jsx(xe,{className:"w-4 h-4"}),"Excluir Selecionados"]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-end glass-card p-5 rounded-2xl border-white/5 shadow-strong",children:e.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-1 uppercase tracking-wider",children:[e.jsx(ps,{className:"w-3 h-3"})," Data"]}),e.jsx(S,{type:"date",className:"industrial-input h-11",value:I,onChange:s=>Y(s.target.value)})]}),!A&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-1 uppercase tracking-wider",children:[e.jsx(Ke,{className:"w-3 h-3"})," Funcionário"]}),e.jsxs(F,{value:M,onValueChange:Z,children:[e.jsx(z,{className:"industrial-input h-11",children:e.jsx(H,{placeholder:"Todos os funcionários"})}),e.jsxs(L,{children:[e.jsx(N,{value:"all",children:"Todos os funcionários"}),u.map(s=>e.jsx(N,{value:s.id,children:s.fullName},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-semibold text-muted-foreground flex items-center gap-1 uppercase tracking-wider",children:[e.jsx(us,{className:"w-3 h-3"})," Busca Rápida"]}),e.jsx(S,{placeholder:"Nome do funcionário...",className:"industrial-input h-11",value:E,onChange:s=>ee(s.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(c,{variant:"outline",onClick:Ce,className:"w-full h-11 border-white/10 hover:bg-white/5 transition-colors",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})})]})}),e.jsxs(Ye,{className:"glass-card border-white/5 shadow-strong overflow-hidden",children:[e.jsx(Ze,{className:"pb-3 px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(es,{className:"text-xl",children:"Registros Encontrados"}),e.jsxs(ss,{children:["Total de ",b.length," ponto(s)"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:x&&e.jsxs(c,{onClick:ke,className:"gradient-primary shadow-glow font-bold gap-2 h-10 px-4",title:"Adicionar Manual",children:[e.jsx(he,{className:"w-4 h-4"}),"Adicionar Manual"]})})]})}),e.jsx(as,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ts,{children:[e.jsx(rs,{className:"bg-muted/30",children:e.jsxs(O,{className:"hover:bg-transparent border-white/5",children:[x&&e.jsx(p,{className:"w-[50px] px-6",children:e.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-black/20",checked:i.length===b.length&&b.length>0,onChange:Me})}),e.jsx(p,{className:x?"px-2 font-bold py-4":"px-6 font-bold py-4",children:"Data/Hora"}),e.jsx(p,{className:"font-bold py-4",children:"Matrícula"}),e.jsx(p,{className:"font-bold py-4",children:"Funcionário"}),e.jsx(p,{className:"font-bold py-4",children:"CPF"}),e.jsx(p,{className:"font-bold py-4",children:"Tipo"}),e.jsx(p,{className:"font-bold py-4",children:"Localização"}),e.jsx(p,{className:"font-bold py-4",children:"Status"}),e.jsx(p,{className:"px-6 font-bold py-4 text-right",children:"Ações"})]})}),e.jsx(ls,{children:je?e.jsx(O,{children:e.jsx(m,{colSpan:x?9:8,className:"h-48 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-muted-foreground animate-pulse",children:"Carregando registros..."})]})})}):b.length===0?e.jsx(O,{children:e.jsx(m,{colSpan:x?9:8,className:"h-48 text-center text-muted-foreground",children:e.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50",children:[e.jsx(me,{className:"w-12 h-12 mb-2"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhum registro encontrado"}),e.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros acima"})]})})}):b.map(s=>{const a=new Date(s.recordedAt),r=q.get(s.employeeId),h=s.employeeName||(r==null?void 0:r.fullName)||"Desconhecido";return e.jsxs(O,{className:`hover:bg-white/5 border-white/5 transition-colors ${i.includes(s.id)?"bg-primary/5":""}`,children:[x&&e.jsx(m,{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-black/20",checked:i.includes(s.id),onChange:()=>Ee(s.id)})}),e.jsx(m,{className:x?"px-2 py-4":"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-foreground",children:y(a,"dd 'de' MMM",{locale:ge})}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3"}),y(a,"HH:mm:ss")]})]})}),e.jsx(m,{className:"py-4 font-bold text-foreground",children:(r==null?void 0:r.registrationNumber)||"---"}),e.jsx(m,{className:"py-4 font-bold text-foreground",children:h}),e.jsx(m,{className:"py-4 font-medium text-muted-foreground text-xs",children:(r==null?void 0:r.cpf)||"---"}),e.jsx(m,{className:"py-4",children:e.jsx(R,{variant:s.recordType==="entry"?"default":"destructive",className:`font-bold px-3 py-1 ${s.recordType==="entry"?"bg-success/20 text-success border-success/30 hover:bg-success/30":"bg-destructive/20 text-error border-destructive/30 hover:bg-destructive/30"}`,children:s.recordType==="entry"?"ENTRADA":"SAÍDA"})}),e.jsx(m,{className:"py-4",children:s.latitude&&s.longitude?e.jsxs("a",{href:`https://www.google.com/maps?q=${s.latitude},${s.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3"}),"Ver no Mapa"]}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"Não disponível"})}),e.jsx(m,{className:"py-4",children:s.syncedAt?e.jsx(R,{variant:"outline",className:"text-[10px] text-success border-success/30 bg-success/5",children:"ONLINE"}):e.jsx(R,{variant:"outline",className:"text-[10px] text-amber-500 border-amber-500/30 bg-amber-500/5",children:"OFFLINE"})}),e.jsx(m,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.photoUrl&&!te.includes(s.id)?e.jsx(c,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-primary/20 transition-all",onClick:()=>$(s),title:"Ver Foto",children:e.jsx(pe,{className:"w-4 h-4"})}):e.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:te.includes(s.id)?"Removendo...":"Sem foto"}),x&&e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-amber-500/20 text-amber-500 transition-all",onClick:()=>De(s),title:"Editar Registro",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(c,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/20 text-destructive transition-all",onClick:()=>Ae(s.id),title:"Excluir Registro",children:e.jsx(xe,{className:"w-4 h-4"})})]})]})})]},s.id)})})]})})})]}),e.jsx(W,{open:ye,onOpenChange:U,children:e.jsxs(G,{className:"max-w-md glass-card border-white/10",children:[e.jsx(K,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-primary"}),"Novo Ponto Manual"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Funcionário"}),e.jsxs(F,{value:n.employeeId,onValueChange:s=>j(a=>({...a,employeeId:s})),children:[e.jsx(z,{children:e.jsx(H,{placeholder:"Selecione o funcionário"})}),e.jsx(L,{children:u.map(s=>e.jsxs(N,{value:s.id,children:[s.fullName," (",s.registrationNumber,")"]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Tipo de Registro"}),e.jsxs(F,{value:n.recordType,onValueChange:s=>j(a=>({...a,recordType:s})),children:[e.jsx(z,{children:e.jsx(H,{})}),e.jsxs(L,{children:[e.jsx(N,{value:"entry",children:"ENTRADA"}),e.jsx(N,{value:"exit",children:"SAÍDA"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Data e Hora"}),e.jsx(S,{type:"datetime-local",value:n.recordedAt,onChange:s=>j(a=>({...a,recordedAt:s.target.value}))})]}),e.jsx(c,{onClick:Se,className:"w-full gradient-primary font-bold h-12",children:"Salvar Registro"})]})]})}),e.jsx(W,{open:we,onOpenChange:B,children:e.jsxs(G,{className:"max-w-md glass-card border-white/10",children:[e.jsx(K,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-amber-500"}),"Editar Registro de Ponto"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Funcionário"}),e.jsx(S,{value:((ie=q.get(n.employeeId))==null?void 0:ie.fullName)||"",disabled:!0,className:"opacity-70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Tipo de Registro"}),e.jsxs(F,{value:n.recordType,onValueChange:s=>j(a=>({...a,recordType:s})),children:[e.jsx(z,{children:e.jsx(H,{})}),e.jsxs(L,{children:[e.jsx(N,{value:"entry",children:"ENTRADA"}),e.jsx(N,{value:"exit",children:"SAÍDA"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Data e Hora"}),e.jsx(S,{type:"datetime-local",value:n.recordedAt,onChange:s=>j(a=>({...a,recordedAt:s.target.value}))})]}),(g==null?void 0:g.photoUrl)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Foto do Registro"}),e.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden border border-white/10 bg-black/20",children:[e.jsx("img",{src:g.photoUrl,alt:"Ponto",className:"w-full h-full object-contain"}),e.jsxs(c,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 px-2 text-[10px] font-bold",onClick:Ie,children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"REMOVER FOTO"]})]})]}),e.jsx(c,{onClick:Te,className:"w-full bg-amber-500 hover:bg-amber-600 text-black font-bold h-12 shadow-glow",children:"Atualizar Alterações"})]})]})}),e.jsx(W,{open:!!t,onOpenChange:s=>!s&&$(null),children:e.jsxs(G,{className:"max-w-md bg-card border-white/10 p-0 overflow-hidden glass-card shadow-strong max-h-[90vh] flex flex-col",children:[e.jsxs(K,{className:"p-4 border-b border-white/5 bg-muted/30 shrink-0",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-primary"}),"Foto do Registro"]}),e.jsx(Qe,{className:"sr-only",children:"Visualização detalhada da foto capturada no momento do registro de ponto."})]}),e.jsxs("div",{className:"flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"w-full bg-black relative flex items-center justify-center shrink-0",children:[(t==null?void 0:t.photoUrl)&&e.jsx("img",{src:t.photoUrl,alt:"Registro de Ponto",className:"w-full h-auto max-h-[50vh] object-contain"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none border-4 border-white/10 rounded-[inherit]"})]}),e.jsxs("div",{className:"p-5 bg-linear-to-b from-card to-muted/30 space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsx(R,{className:`font-black text-[10px] px-2 py-0.5 tracking-widest ${(t==null?void 0:t.recordType)==="entry"?"bg-success text-white":"bg-destructive text-white"}`,children:(t==null?void 0:t.recordType)==="entry"?"ENTRADA":"SAÍDA"}),e.jsx("p",{className:"text-xl font-black tracking-tight text-foreground",children:(t==null?void 0:t.employeeName)||((ne=u.find(s=>s.id===(t==null?void 0:t.employeeId)))==null?void 0:ne.fullName)})]})}),e.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 p-3 rounded-xl bg-muted/50 border border-white/5",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"Matrícula"}),e.jsx("p",{className:"text-sm font-black text-foreground",children:((ce=u.find(s=>s.id===(t==null?void 0:t.employeeId)))==null?void 0:ce.registrationNumber)||"---"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"CPF"}),e.jsx("p",{className:"text-sm font-black text-foreground",children:((de=u.find(s=>s.id===(t==null?void 0:t.employeeId)))==null?void 0:de.cpf)||"---"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-4xl font-black tracking-tighter text-foreground",children:t&&y(new Date(t.recordedAt),"HH:mm:ss")}),e.jsx("p",{className:"text-sm font-bold text-muted-foreground capitalize tracking-wide",children:t&&y(new Date(t.recordedAt),"EEEE, dd 'de' MMMM",{locale:ge})})]}),(t==null?void 0:t.latitude)&&(t==null?void 0:t.longitude)&&e.jsxs("a",{href:`https://www.google.com/maps?q=${t.latitude},${t.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-primary hover:text-primary/80 px-3 py-2 rounded-xl bg-primary/10 border border-primary/20 hover:bg-primary/20 transition-all cursor-pointer group",children:[e.jsx(_,{className:"w-4 h-4 group-hover:animate-bounce"}),e.jsx("span",{className:"font-bold",children:"Localização registrada via GPS"}),e.jsx("span",{className:"text-[10px] opacity-70 ml-auto",children:"Clique para ver no mapa →"})]}),e.jsx(c,{className:"w-full font-bold h-12 text-base shadow-glow gradient-primary",onClick:()=>$(null),children:"Fechar Visualização"})]})]})]})}),e.jsx(os,{open:D.open,onOpenChange:s=>k(a=>({...a,open:s})),children:e.jsxs(is,{className:"glass-card border-white/10",children:[e.jsxs(ns,{children:[e.jsx(cs,{children:D.title}),e.jsx(ds,{children:D.description})]}),e.jsxs(ms,{children:[e.jsx(xs,{className:"bg-white/5 border-white/10 hover:bg-white/10 text-white",children:"Cancelar"}),e.jsx(hs,{onClick:D.onConfirm,className:D.variant==="destructive"?"bg-destructive hover:bg-destructive/90 text-white":"gradient-primary text-white",children:"Confirmar"})]})]})})]})}export{Fs as default};
